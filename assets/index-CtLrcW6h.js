(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function pp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var pf={exports:{}},ha={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function Yw(){if(Uy)return ha;Uy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:i,type:r,key:u,ref:a!==void 0?a:null,props:l}}return ha.Fragment=e,ha.jsx=t,ha.jsxs=t,ha}var qy;function Iw(){return qy||(qy=1,pf.exports=Yw()),pf.exports}var ce=Iw(),df={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function Gw(){if(Vy)return fe;Vy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,T={};function E(M,V,$){this.props=M,this.context=V,this.refs=T,this.updater=$||S}E.prototype.isReactComponent={},E.prototype.setState=function(M,V){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,V,"setState")},E.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function O(){}O.prototype=E.prototype;function q(M,V,$){this.props=M,this.context=V,this.refs=T,this.updater=$||S}var Y=q.prototype=new O;Y.constructor=q,w(Y,E.prototype),Y.isPureReactComponent=!0;var J=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function ae(M,V,$,G,ee,ve){return $=ve.ref,{$$typeof:i,type:M,key:V,ref:$!==void 0?$:null,props:ve}}function X(M,V){return ae(M.type,V,void 0,void 0,void 0,M.props)}function se(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function xe(M){var V={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function($){return V[$]})}var xt=/\/+/g;function st(M,V){return typeof M=="object"&&M!==null&&M.key!=null?xe(""+M.key):V.toString(36)}function Di(){}function zi(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Di,Di):(M.status="pending",M.then(function(V){M.status==="pending"&&(M.status="fulfilled",M.value=V)},function(V){M.status==="pending"&&(M.status="rejected",M.reason=V)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function lt(M,V,$,G,ee){var ve=typeof M;(ve==="undefined"||ve==="boolean")&&(M=null);var ue=!1;if(M===null)ue=!0;else switch(ve){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(M.$$typeof){case i:case e:ue=!0;break;case y:return ue=M._init,lt(ue(M._payload),V,$,G,ee)}}if(ue)return ee=ee(M),ue=G===""?"."+st(M,0):G,J(ee)?($="",ue!=null&&($=ue.replace(xt,"$&/")+"/"),lt(ee,V,$,"",function(Gn){return Gn})):ee!=null&&(se(ee)&&(ee=X(ee,$+(ee.key==null||M&&M.key===ee.key?"":(""+ee.key).replace(xt,"$&/")+"/")+ue)),V.push(ee)),1;ue=0;var Rt=G===""?".":G+":";if(J(M))for(var De=0;De<M.length;De++)G=M[De],ve=Rt+st(G,De),ue+=lt(G,V,$,ve,ee);else if(De=b(M),typeof De=="function")for(M=De.call(M),De=0;!(G=M.next()).done;)G=G.value,ve=Rt+st(G,De++),ue+=lt(G,V,$,ve,ee);else if(ve==="object"){if(typeof M.then=="function")return lt(zi(M),V,$,G,ee);throw V=String(M),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ue}function L(M,V,$){if(M==null)return M;var G=[],ee=0;return lt(M,G,"","",function(ve){return V.call($,ve,ee++)}),G}function K(M){if(M._status===-1){var V=M._result;V=V(),V.then(function($){(M._status===0||M._status===-1)&&(M._status=1,M._result=$)},function($){(M._status===0||M._status===-1)&&(M._status=2,M._result=$)}),M._status===-1&&(M._status=0,M._result=V)}if(M._status===1)return M._result.default;throw M._result}var re=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Oe(){}return fe.Children={map:L,forEach:function(M,V,$){L(M,function(){V.apply(this,arguments)},$)},count:function(M){var V=0;return L(M,function(){V++}),V},toArray:function(M){return L(M,function(V){return V})||[]},only:function(M){if(!se(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},fe.Component=E,fe.Fragment=t,fe.Profiler=a,fe.PureComponent=q,fe.StrictMode=r,fe.Suspense=p,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,fe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},fe.cache=function(M){return function(){return M.apply(null,arguments)}},fe.cloneElement=function(M,V,$){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var G=w({},M.props),ee=M.key,ve=void 0;if(V!=null)for(ue in V.ref!==void 0&&(ve=void 0),V.key!==void 0&&(ee=""+V.key),V)!ie.call(V,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&V.ref===void 0||(G[ue]=V[ue]);var ue=arguments.length-2;if(ue===1)G.children=$;else if(1<ue){for(var Rt=Array(ue),De=0;De<ue;De++)Rt[De]=arguments[De+2];G.children=Rt}return ae(M.type,ee,void 0,void 0,ve,G)},fe.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},fe.createElement=function(M,V,$){var G,ee={},ve=null;if(V!=null)for(G in V.key!==void 0&&(ve=""+V.key),V)ie.call(V,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(ee[G]=V[G]);var ue=arguments.length-2;if(ue===1)ee.children=$;else if(1<ue){for(var Rt=Array(ue),De=0;De<ue;De++)Rt[De]=arguments[De+2];ee.children=Rt}if(M&&M.defaultProps)for(G in ue=M.defaultProps,ue)ee[G]===void 0&&(ee[G]=ue[G]);return ae(M,ve,void 0,void 0,null,ee)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(M){return{$$typeof:f,render:M}},fe.isValidElement=se,fe.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:K}},fe.memo=function(M,V){return{$$typeof:h,type:M,compare:V===void 0?null:V}},fe.startTransition=function(M){var V=I.T,$={};I.T=$;try{var G=M(),ee=I.S;ee!==null&&ee($,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Oe,re)}catch(ve){re(ve)}finally{I.T=V}},fe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},fe.use=function(M){return I.H.use(M)},fe.useActionState=function(M,V,$){return I.H.useActionState(M,V,$)},fe.useCallback=function(M,V){return I.H.useCallback(M,V)},fe.useContext=function(M){return I.H.useContext(M)},fe.useDebugValue=function(){},fe.useDeferredValue=function(M,V){return I.H.useDeferredValue(M,V)},fe.useEffect=function(M,V,$){var G=I.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(M,V)},fe.useId=function(){return I.H.useId()},fe.useImperativeHandle=function(M,V,$){return I.H.useImperativeHandle(M,V,$)},fe.useInsertionEffect=function(M,V){return I.H.useInsertionEffect(M,V)},fe.useLayoutEffect=function(M,V){return I.H.useLayoutEffect(M,V)},fe.useMemo=function(M,V){return I.H.useMemo(M,V)},fe.useOptimistic=function(M,V){return I.H.useOptimistic(M,V)},fe.useReducer=function(M,V,$){return I.H.useReducer(M,V,$)},fe.useRef=function(M){return I.H.useRef(M)},fe.useState=function(M){return I.H.useState(M)},fe.useSyncExternalStore=function(M,V,$){return I.H.useSyncExternalStore(M,V,$)},fe.useTransition=function(){return I.H.useTransition()},fe.version="19.1.0",fe}var jy;function dp(){return jy||(jy=1,df.exports=Gw()),df.exports}var _=dp();const dt=pp(_);var hf={exports:{}},ma={},mf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function Kw(){return Yy||(Yy=1,function(i){function e(L,K){var re=L.length;L.push(K);e:for(;0<re;){var Oe=re-1>>>1,M=L[Oe];if(0<a(M,K))L[Oe]=K,L[re]=M,re=Oe;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var K=L[0],re=L.pop();if(re!==K){L[0]=re;e:for(var Oe=0,M=L.length,V=M>>>1;Oe<V;){var $=2*(Oe+1)-1,G=L[$],ee=$+1,ve=L[ee];if(0>a(G,re))ee<M&&0>a(ve,G)?(L[Oe]=ve,L[ee]=re,Oe=ee):(L[Oe]=G,L[$]=re,Oe=$);else if(ee<M&&0>a(ve,re))L[Oe]=ve,L[ee]=re,Oe=ee;else break e}}return K}function a(L,K){var re=L.sortIndex-K.sortIndex;return re!==0?re:L.id-K.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();i.unstable_now=function(){return u.now()-f}}var p=[],h=[],y=1,g=null,b=3,S=!1,w=!1,T=!1,E=!1,O=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function J(L){for(var K=t(h);K!==null;){if(K.callback===null)r(h);else if(K.startTime<=L)r(h),K.sortIndex=K.expirationTime,e(p,K);else break;K=t(h)}}function I(L){if(T=!1,J(L),!w)if(t(p)!==null)w=!0,ie||(ie=!0,st());else{var K=t(h);K!==null&&lt(I,K.startTime-L)}}var ie=!1,ae=-1,X=5,se=-1;function xe(){return E?!0:!(i.unstable_now()-se<X)}function xt(){if(E=!1,ie){var L=i.unstable_now();se=L;var K=!0;try{e:{w=!1,T&&(T=!1,q(ae),ae=-1),S=!0;var re=b;try{t:{for(J(L),g=t(p);g!==null&&!(g.expirationTime>L&&xe());){var Oe=g.callback;if(typeof Oe=="function"){g.callback=null,b=g.priorityLevel;var M=Oe(g.expirationTime<=L);if(L=i.unstable_now(),typeof M=="function"){g.callback=M,J(L),K=!0;break t}g===t(p)&&r(p),J(L)}else r(p);g=t(p)}if(g!==null)K=!0;else{var V=t(h);V!==null&&lt(I,V.startTime-L),K=!1}}break e}finally{g=null,b=re,S=!1}K=void 0}}finally{K?st():ie=!1}}}var st;if(typeof Y=="function")st=function(){Y(xt)};else if(typeof MessageChannel<"u"){var Di=new MessageChannel,zi=Di.port2;Di.port1.onmessage=xt,st=function(){zi.postMessage(null)}}else st=function(){O(xt,0)};function lt(L,K){ae=O(function(){L(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(L){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var re=b;b=K;try{return L()}finally{b=re}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(L,K){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var re=b;b=L;try{return K()}finally{b=re}},i.unstable_scheduleCallback=function(L,K,re){var Oe=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Oe+re:Oe):re=Oe,L){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=re+M,L={id:y++,callback:K,priorityLevel:L,startTime:re,expirationTime:M,sortIndex:-1},re>Oe?(L.sortIndex=re,e(h,L),t(p)===null&&L===t(h)&&(T?(q(ae),ae=-1):T=!0,lt(I,re-Oe))):(L.sortIndex=M,e(p,L),w||S||(w=!0,ie||(ie=!0,st()))),L},i.unstable_shouldYield=xe,i.unstable_wrapCallback=function(L){var K=b;return function(){var re=b;b=K;try{return L.apply(this,arguments)}finally{b=re}}}}(yf)),yf}var Iy;function Pw(){return Iy||(Iy=1,mf.exports=Kw()),mf.exports}var gf={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function Xw(){if(Gy)return ft;Gy=1;var i=dp();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,h,y){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:p,containerInfo:h,implementation:y}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ft.createPortal=function(p,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(p,h,null,y)},ft.flushSync=function(p){var h=u.T,y=r.p;try{if(u.T=null,r.p=2,p)return p()}finally{u.T=h,r.p=y,r.d.f()}},ft.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(p,h))},ft.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},ft.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var y=h.as,g=f(y,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?r.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:S}):y==="script"&&r.d.X(p,{crossOrigin:g,integrity:b,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ft.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=f(h.as,h.crossOrigin);r.d.M(p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(p)},ft.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,g=f(y,h.crossOrigin);r.d.L(p,y,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ft.preloadModule=function(p,h){if(typeof p=="string")if(h){var y=f(h.as,h.crossOrigin);r.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(p)},ft.requestFormReset=function(p){r.d.r(p)},ft.unstable_batchedUpdates=function(p,h){return p(h)},ft.useFormState=function(p,h,y){return u.H.useFormState(p,h,y)},ft.useFormStatus=function(){return u.H.useHostTransitionStatus()},ft.version="19.1.0",ft}var Ky;function hb(){if(Ky)return gf.exports;Ky=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gf.exports=Xw(),gf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function $w(){if(Py)return ma;Py=1;var i=Pw(),e=dp(),t=hb();function r(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var o=n,s=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(s=o.return),n=o.return;while(n)}return o.tag===3?s:null}function u(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function f(n){if(l(n)!==n)throw Error(r(188))}function p(n){var o=n.alternate;if(!o){if(o=l(n),o===null)throw Error(r(188));return o!==n?null:n}for(var s=n,c=o;;){var d=s.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){s=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===s)return f(d),n;if(m===c)return f(d),o;m=m.sibling}throw Error(r(188))}if(s.return!==c.return)s=d,c=m;else{for(var v=!1,x=d.child;x;){if(x===s){v=!0,s=d,c=m;break}if(x===c){v=!0,c=d,s=m;break}x=x.sibling}if(!v){for(x=m.child;x;){if(x===s){v=!0,s=m,c=d;break}if(x===c){v=!0,c=m,s=d;break}x=x.sibling}if(!v)throw Error(r(189))}}if(s.alternate!==c)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?n:o}function h(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=h(n),o!==null)return o;n=n.sibling}return null}var y=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),xt=Symbol.iterator;function st(n){return n===null||typeof n!="object"?null:(n=xt&&n[xt]||n["@@iterator"],typeof n=="function"?n:null)}var Di=Symbol.for("react.client.reference");function zi(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Di?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case w:return"Fragment";case E:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case ie:return"SuspenseList";case se:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case Y:return(n.displayName||"Context")+".Provider";case q:return(n._context.displayName||"Context")+".Consumer";case J:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ae:return o=n.displayName||null,o!==null?o:zi(n.type)||"Memo";case X:o=n._payload,n=n._init;try{return zi(n(o))}catch{}}return null}var lt=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Oe=[],M=-1;function V(n){return{current:n}}function $(n){0>M||(n.current=Oe[M],Oe[M]=null,M--)}function G(n,o){M++,Oe[M]=n.current,n.current=o}var ee=V(null),ve=V(null),ue=V(null),Rt=V(null);function De(n,o){switch(G(ue,o),G(ve,n),G(ee,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?py(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=py(o),n=dy(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(ee),G(ee,n)}function Gn(){$(ee),$(ve),$(ue)}function Ql(n){n.memoizedState!==null&&G(Rt,n);var o=ee.current,s=dy(o,n.type);o!==s&&(G(ve,n),G(ee,s))}function Ia(n){ve.current===n&&($(ee),$(ve)),Rt.current===n&&($(Rt),ua._currentValue=re)}var Fl=Object.prototype.hasOwnProperty,Zl=i.unstable_scheduleCallback,Wl=i.unstable_cancelCallback,w1=i.unstable_shouldYield,S1=i.unstable_requestPaint,ln=i.unstable_now,x1=i.unstable_getCurrentPriorityLevel,Pp=i.unstable_ImmediatePriority,Xp=i.unstable_UserBlockingPriority,Ga=i.unstable_NormalPriority,T1=i.unstable_LowPriority,$p=i.unstable_IdlePriority,E1=i.log,k1=i.unstable_setDisableYieldValue,go=null,Dt=null;function Kn(n){if(typeof E1=="function"&&k1(n),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(go,n)}catch{}}var zt=Math.clz32?Math.clz32:O1,M1=Math.log,C1=Math.LN2;function O1(n){return n>>>=0,n===0?32:31-(M1(n)/C1|0)|0}var Ka=256,Pa=4194304;function Bi(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Xa(n,o,s){var c=n.pendingLanes;if(c===0)return 0;var d=0,m=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var x=c&134217727;return x!==0?(c=x&~m,c!==0?d=Bi(c):(v&=x,v!==0?d=Bi(v):s||(s=x&~n,s!==0&&(d=Bi(s))))):(x=c&~m,x!==0?d=Bi(x):v!==0?d=Bi(v):s||(s=c&~n,s!==0&&(d=Bi(s)))),d===0?0:o!==0&&o!==d&&(o&m)===0&&(m=d&-d,s=o&-o,m>=s||m===32&&(s&4194048)!==0)?o:d}function bo(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function N1(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jp(){var n=Ka;return Ka<<=1,(Ka&4194048)===0&&(Ka=256),n}function Qp(){var n=Pa;return Pa<<=1,(Pa&62914560)===0&&(Pa=4194304),n}function eu(n){for(var o=[],s=0;31>s;s++)o.push(n);return o}function vo(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function A1(n,o,s,c,d,m){var v=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var x=n.entanglements,k=n.expirationTimes,R=n.hiddenUpdates;for(s=v&~s;0<s;){var B=31-zt(s),U=1<<B;x[B]=0,k[B]=-1;var D=R[B];if(D!==null)for(R[B]=null,B=0;B<D.length;B++){var z=D[B];z!==null&&(z.lane&=-536870913)}s&=~U}c!==0&&Fp(n,c,0),m!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=m&~(v&~o))}function Fp(n,o,s){n.pendingLanes|=o,n.suspendedLanes&=~o;var c=31-zt(o);n.entangledLanes|=o,n.entanglements[c]=n.entanglements[c]|1073741824|s&4194090}function Zp(n,o){var s=n.entangledLanes|=o;for(n=n.entanglements;s;){var c=31-zt(s),d=1<<c;d&o|n[c]&o&&(n[c]|=o),s&=~d}}function tu(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function nu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Wp(){var n=K.p;return n!==0?n:(n=window.event,n===void 0?32:Dy(n.type))}function R1(n,o){var s=K.p;try{return K.p=n,o()}finally{K.p=s}}var Pn=Math.random().toString(36).slice(2),ut="__reactFiber$"+Pn,Tt="__reactProps$"+Pn,hr="__reactContainer$"+Pn,iu="__reactEvents$"+Pn,D1="__reactListeners$"+Pn,z1="__reactHandles$"+Pn,ed="__reactResources$"+Pn,wo="__reactMarker$"+Pn;function ru(n){delete n[ut],delete n[Tt],delete n[iu],delete n[D1],delete n[z1]}function mr(n){var o=n[ut];if(o)return o;for(var s=n.parentNode;s;){if(o=s[hr]||s[ut]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(n=gy(n);n!==null;){if(s=n[ut])return s;n=gy(n)}return o}n=s,s=n.parentNode}return null}function yr(n){if(n=n[ut]||n[hr]){var o=n.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return n}return null}function So(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(r(33))}function gr(n){var o=n[ed];return o||(o=n[ed]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Xe(n){n[wo]=!0}var td=new Set,nd={};function _i(n,o){br(n,o),br(n+"Capture",o)}function br(n,o){for(nd[n]=o,n=0;n<o.length;n++)td.add(o[n])}var B1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),id={},rd={};function _1(n){return Fl.call(rd,n)?!0:Fl.call(id,n)?!1:B1.test(n)?rd[n]=!0:(id[n]=!0,!1)}function $a(n,o,s){if(_1(o))if(s===null)n.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+s)}}function Ja(n,o,s){if(s===null)n.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+s)}}function Sn(n,o,s,c){if(c===null)n.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(o,s,""+c)}}var ou,od;function vr(n){if(ou===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);ou=o&&o[1]||"",od=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ou+n+od}var au=!1;function su(n,o){if(!n||au)return"";au=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(z){var D=z}Reflect.construct(n,[],U)}else{try{U.call()}catch(z){D=z}n.call(U.prototype)}}else{try{throw Error()}catch(z){D=z}(U=n())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(z){if(z&&D&&typeof z.stack=="string")return[z.stack,D.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),v=m[0],x=m[1];if(v&&x){var k=v.split(`
`),R=x.split(`
`);for(d=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;d<R.length&&!R[d].includes("DetermineComponentFrameRoot");)d++;if(c===k.length||d===R.length)for(c=k.length-1,d=R.length-1;1<=c&&0<=d&&k[c]!==R[d];)d--;for(;1<=c&&0<=d;c--,d--)if(k[c]!==R[d]){if(c!==1||d!==1)do if(c--,d--,0>d||k[c]!==R[d]){var B=`
`+k[c].replace(" at new "," at ");return n.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",n.displayName)),B}while(1<=c&&0<=d);break}}}finally{au=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?vr(s):""}function L1(n){switch(n.tag){case 26:case 27:case 5:return vr(n.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 15:return su(n.type,!1);case 11:return su(n.type.render,!1);case 1:return su(n.type,!0);case 31:return vr("Activity");default:return""}}function ad(n){try{var o="";do o+=L1(n),n=n.return;while(n);return o}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function It(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function sd(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function H1(n){var o=sd(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),c=""+n[o];if(!n.hasOwnProperty(o)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(n,o,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Qa(n){n._valueTracker||(n._valueTracker=H1(n))}function ld(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var s=o.getValue(),c="";return n&&(c=sd(n)?n.checked?"true":"false":n.value),n=c,n!==s?(o.setValue(n),!0):!1}function Fa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var U1=/[\n"\\]/g;function Gt(n){return n.replace(U1,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function lu(n,o,s,c,d,m,v,x){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),o!=null?v==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+It(o)):n.value!==""+It(o)&&(n.value=""+It(o)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),o!=null?uu(n,v,It(o)):s!=null?uu(n,v,It(s)):c!=null&&n.removeAttribute("value"),d==null&&m!=null&&(n.defaultChecked=!!m),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.name=""+It(x):n.removeAttribute("name")}function ud(n,o,s,c,d,m,v,x){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),o!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||o!=null))return;s=s!=null?""+It(s):"",o=o!=null?""+It(o):s,x||o===n.value||(n.value=o),n.defaultValue=o}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=x?n.checked:!!c,n.defaultChecked=!!c,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function uu(n,o,s){o==="number"&&Fa(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function wr(n,o,s,c){if(n=n.options,o){o={};for(var d=0;d<s.length;d++)o["$"+s[d]]=!0;for(s=0;s<n.length;s++)d=o.hasOwnProperty("$"+n[s].value),n[s].selected!==d&&(n[s].selected=d),d&&c&&(n[s].defaultSelected=!0)}else{for(s=""+It(s),o=null,d=0;d<n.length;d++){if(n[d].value===s){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}o!==null||n[d].disabled||(o=n[d])}o!==null&&(o.selected=!0)}}function cd(n,o,s){if(o!=null&&(o=""+It(o),o!==n.value&&(n.value=o),s==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=s!=null?""+It(s):""}function fd(n,o,s,c){if(o==null){if(c!=null){if(s!=null)throw Error(r(92));if(lt(c)){if(1<c.length)throw Error(r(93));c=c[0]}s=c}s==null&&(s=""),o=s}s=It(o),n.defaultValue=s,c=n.textContent,c===s&&c!==""&&c!==null&&(n.value=c)}function Sr(n,o){if(o){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=o;return}}n.textContent=o}var q1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pd(n,o,s){var c=o.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":c?n.setProperty(o,s):typeof s!="number"||s===0||q1.has(o)?o==="float"?n.cssFloat=s:n[o]=(""+s).trim():n[o]=s+"px"}function dd(n,o,s){if(o!=null&&typeof o!="object")throw Error(r(62));if(n=n.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var d in o)c=o[d],o.hasOwnProperty(d)&&s[d]!==c&&pd(n,d,c)}else for(var m in o)o.hasOwnProperty(m)&&pd(n,m,o[m])}function cu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),j1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(n){return j1.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var fu=null;function pu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var xr=null,Tr=null;function hd(n){var o=yr(n);if(o&&(n=o.stateNode)){var s=n[Tt]||null;e:switch(n=o.stateNode,o.type){case"input":if(lu(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),o=s.name,s.type==="radio"&&o!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Gt(""+o)+'"][type="radio"]'),o=0;o<s.length;o++){var c=s[o];if(c!==n&&c.form===n.form){var d=c[Tt]||null;if(!d)throw Error(r(90));lu(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(o=0;o<s.length;o++)c=s[o],c.form===n.form&&ld(c)}break e;case"textarea":cd(n,s.value,s.defaultValue);break e;case"select":o=s.value,o!=null&&wr(n,!!s.multiple,o,!1)}}}var du=!1;function md(n,o,s){if(du)return n(o,s);du=!0;try{var c=n(o);return c}finally{if(du=!1,(xr!==null||Tr!==null)&&(Us(),xr&&(o=xr,n=Tr,Tr=xr=null,hd(o),n)))for(o=0;o<n.length;o++)hd(n[o])}}function xo(n,o){var s=n.stateNode;if(s===null)return null;var c=s[Tt]||null;if(c===null)return null;s=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(r(231,o,typeof s));return s}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hu=!1;if(xn)try{var To={};Object.defineProperty(To,"passive",{get:function(){hu=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{hu=!1}var Xn=null,mu=null,Wa=null;function yd(){if(Wa)return Wa;var n,o=mu,s=o.length,c,d="value"in Xn?Xn.value:Xn.textContent,m=d.length;for(n=0;n<s&&o[n]===d[n];n++);var v=s-n;for(c=1;c<=v&&o[s-c]===d[m-c];c++);return Wa=d.slice(n,1<c?1-c:void 0)}function es(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function ts(){return!0}function gd(){return!1}function Et(n){function o(s,c,d,m,v){this._reactName=s,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var x in n)n.hasOwnProperty(x)&&(s=n[x],this[x]=s?s(m):m[x]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ts:gd,this.isPropagationStopped=gd,this}return y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),o}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=Et(Li),Eo=y({},Li,{view:0,detail:0}),Y1=Et(Eo),yu,gu,ko,is=y({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ko&&(ko&&n.type==="mousemove"?(yu=n.screenX-ko.screenX,gu=n.screenY-ko.screenY):gu=yu=0,ko=n),yu)},movementY:function(n){return"movementY"in n?n.movementY:gu}}),bd=Et(is),I1=y({},is,{dataTransfer:0}),G1=Et(I1),K1=y({},Eo,{relatedTarget:0}),bu=Et(K1),P1=y({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),X1=Et(P1),$1=y({},Li,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),J1=Et($1),Q1=y({},Li,{data:0}),vd=Et(Q1),F1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ev(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=W1[n])?!!o[n]:!1}function vu(){return ev}var tv=y({},Eo,{key:function(n){if(n.key){var o=F1[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=es(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Z1[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(n){return n.type==="keypress"?es(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?es(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),nv=Et(tv),iv=y({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wd=Et(iv),rv=y({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),ov=Et(rv),av=y({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),sv=Et(av),lv=y({},is,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),uv=Et(lv),cv=y({},Li,{newState:0,oldState:0}),fv=Et(cv),pv=[9,13,27,32],wu=xn&&"CompositionEvent"in window,Mo=null;xn&&"documentMode"in document&&(Mo=document.documentMode);var dv=xn&&"TextEvent"in window&&!Mo,Sd=xn&&(!wu||Mo&&8<Mo&&11>=Mo),xd=" ",Td=!1;function Ed(n,o){switch(n){case"keyup":return pv.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Er=!1;function hv(n,o){switch(n){case"compositionend":return kd(o);case"keypress":return o.which!==32?null:(Td=!0,xd);case"textInput":return n=o.data,n===xd&&Td?null:n;default:return null}}function mv(n,o){if(Er)return n==="compositionend"||!wu&&Ed(n,o)?(n=yd(),Wa=mu=Xn=null,Er=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Sd&&o.locale!=="ko"?null:o.data;default:return null}}var yv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!yv[n.type]:o==="textarea"}function Cd(n,o,s,c){xr?Tr?Tr.push(c):Tr=[c]:xr=c,o=Gs(o,"onChange"),0<o.length&&(s=new ns("onChange","change",null,s,c),n.push({event:s,listeners:o}))}var Co=null,Oo=null;function gv(n){sy(n,0)}function rs(n){var o=So(n);if(ld(o))return n}function Od(n,o){if(n==="change")return o}var Nd=!1;if(xn){var Su;if(xn){var xu="oninput"in document;if(!xu){var Ad=document.createElement("div");Ad.setAttribute("oninput","return;"),xu=typeof Ad.oninput=="function"}Su=xu}else Su=!1;Nd=Su&&(!document.documentMode||9<document.documentMode)}function Rd(){Co&&(Co.detachEvent("onpropertychange",Dd),Oo=Co=null)}function Dd(n){if(n.propertyName==="value"&&rs(Oo)){var o=[];Cd(o,Oo,n,pu(n)),md(gv,o)}}function bv(n,o,s){n==="focusin"?(Rd(),Co=o,Oo=s,Co.attachEvent("onpropertychange",Dd)):n==="focusout"&&Rd()}function vv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rs(Oo)}function wv(n,o){if(n==="click")return rs(o)}function Sv(n,o){if(n==="input"||n==="change")return rs(o)}function xv(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Bt=typeof Object.is=="function"?Object.is:xv;function No(n,o){if(Bt(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var s=Object.keys(n),c=Object.keys(o);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var d=s[c];if(!Fl.call(o,d)||!Bt(n[d],o[d]))return!1}return!0}function zd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Bd(n,o){var s=zd(n);n=0;for(var c;s;){if(s.nodeType===3){if(c=n+s.textContent.length,n<=o&&c>=o)return{node:s,offset:o-n};n=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=zd(s)}}function _d(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?_d(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function Ld(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=Fa(n.document);o instanceof n.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)n=o.contentWindow;else break;o=Fa(n.document)}return o}function Tu(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var Tv=xn&&"documentMode"in document&&11>=document.documentMode,kr=null,Eu=null,Ao=null,ku=!1;function Hd(n,o,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ku||kr==null||kr!==Fa(c)||(c=kr,"selectionStart"in c&&Tu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ao&&No(Ao,c)||(Ao=c,c=Gs(Eu,"onSelect"),0<c.length&&(o=new ns("onSelect","select",null,o,s),n.push({event:o,listeners:c}),o.target=kr)))}function Hi(n,o){var s={};return s[n.toLowerCase()]=o.toLowerCase(),s["Webkit"+n]="webkit"+o,s["Moz"+n]="moz"+o,s}var Mr={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionrun:Hi("Transition","TransitionRun"),transitionstart:Hi("Transition","TransitionStart"),transitioncancel:Hi("Transition","TransitionCancel"),transitionend:Hi("Transition","TransitionEnd")},Mu={},Ud={};xn&&(Ud=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Ui(n){if(Mu[n])return Mu[n];if(!Mr[n])return n;var o=Mr[n],s;for(s in o)if(o.hasOwnProperty(s)&&s in Ud)return Mu[n]=o[s];return n}var qd=Ui("animationend"),Vd=Ui("animationiteration"),jd=Ui("animationstart"),Ev=Ui("transitionrun"),kv=Ui("transitionstart"),Mv=Ui("transitioncancel"),Yd=Ui("transitionend"),Id=new Map,Cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cu.push("scrollEnd");function nn(n,o){Id.set(n,o),_i(o,[n])}var Gd=new WeakMap;function Kt(n,o){if(typeof n=="object"&&n!==null){var s=Gd.get(n);return s!==void 0?s:(o={value:n,source:o,stack:ad(o)},Gd.set(n,o),o)}return{value:n,source:o,stack:ad(o)}}var Pt=[],Cr=0,Ou=0;function as(){for(var n=Cr,o=Ou=Cr=0;o<n;){var s=Pt[o];Pt[o++]=null;var c=Pt[o];Pt[o++]=null;var d=Pt[o];Pt[o++]=null;var m=Pt[o];if(Pt[o++]=null,c!==null&&d!==null){var v=c.pending;v===null?d.next=d:(d.next=v.next,v.next=d),c.pending=d}m!==0&&Kd(s,d,m)}}function ss(n,o,s,c){Pt[Cr++]=n,Pt[Cr++]=o,Pt[Cr++]=s,Pt[Cr++]=c,Ou|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Nu(n,o,s,c){return ss(n,o,s,c),ls(n)}function Or(n,o){return ss(n,null,null,o),ls(n)}function Kd(n,o,s){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s);for(var d=!1,m=n.return;m!==null;)m.childLanes|=s,c=m.alternate,c!==null&&(c.childLanes|=s),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(d=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,d&&o!==null&&(d=31-zt(s),n=m.hiddenUpdates,c=n[d],c===null?n[d]=[o]:c.push(o),o.lane=s|536870912),m):null}function ls(n){if(50<ta)throw ta=0,_c=null,Error(r(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var Nr={};function Cv(n,o,s,c){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(n,o,s,c){return new Cv(n,o,s,c)}function Au(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Tn(n,o){var s=n.alternate;return s===null?(s=_t(n.tag,o,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=o,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,o=n.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Pd(n,o){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,o=s.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function us(n,o,s,c,d,m){var v=0;if(c=n,typeof n=="function")Au(n)&&(v=1);else if(typeof n=="string")v=Nw(n,s,ee.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case se:return n=_t(31,s,o,d),n.elementType=se,n.lanes=m,n;case w:return qi(s.children,d,m,o);case T:v=8,d|=24;break;case E:return n=_t(12,s,o,d|2),n.elementType=E,n.lanes=m,n;case I:return n=_t(13,s,o,d),n.elementType=I,n.lanes=m,n;case ie:return n=_t(19,s,o,d),n.elementType=ie,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case O:case Y:v=10;break e;case q:v=9;break e;case J:v=11;break e;case ae:v=14;break e;case X:v=16,c=null;break e}v=29,s=Error(r(130,n===null?"null":typeof n,"")),c=null}return o=_t(v,s,o,d),o.elementType=n,o.type=c,o.lanes=m,o}function qi(n,o,s,c){return n=_t(7,n,c,o),n.lanes=s,n}function Ru(n,o,s){return n=_t(6,n,null,o),n.lanes=s,n}function Du(n,o,s){return o=_t(4,n.children!==null?n.children:[],n.key,o),o.lanes=s,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var Ar=[],Rr=0,cs=null,fs=0,Xt=[],$t=0,Vi=null,En=1,kn="";function ji(n,o){Ar[Rr++]=fs,Ar[Rr++]=cs,cs=n,fs=o}function Xd(n,o,s){Xt[$t++]=En,Xt[$t++]=kn,Xt[$t++]=Vi,Vi=n;var c=En;n=kn;var d=32-zt(c)-1;c&=~(1<<d),s+=1;var m=32-zt(o)+d;if(30<m){var v=d-d%5;m=(c&(1<<v)-1).toString(32),c>>=v,d-=v,En=1<<32-zt(o)+d|s<<d|c,kn=m+n}else En=1<<m|s<<d|c,kn=n}function zu(n){n.return!==null&&(ji(n,1),Xd(n,1,0))}function Bu(n){for(;n===cs;)cs=Ar[--Rr],Ar[Rr]=null,fs=Ar[--Rr],Ar[Rr]=null;for(;n===Vi;)Vi=Xt[--$t],Xt[$t]=null,kn=Xt[--$t],Xt[$t]=null,En=Xt[--$t],Xt[$t]=null}var yt=null,Le=null,Se=!1,Yi=null,un=!1,_u=Error(r(519));function Ii(n){var o=Error(r(418,""));throw zo(Kt(o,n)),_u}function $d(n){var o=n.stateNode,s=n.type,c=n.memoizedProps;switch(o[ut]=n,o[Tt]=c,s){case"dialog":ge("cancel",o),ge("close",o);break;case"iframe":case"object":case"embed":ge("load",o);break;case"video":case"audio":for(s=0;s<ia.length;s++)ge(ia[s],o);break;case"source":ge("error",o);break;case"img":case"image":case"link":ge("error",o),ge("load",o);break;case"details":ge("toggle",o);break;case"input":ge("invalid",o),ud(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Qa(o);break;case"select":ge("invalid",o);break;case"textarea":ge("invalid",o),fd(o,c.value,c.defaultValue,c.children),Qa(o)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||o.textContent===""+s||c.suppressHydrationWarning===!0||fy(o.textContent,s)?(c.popover!=null&&(ge("beforetoggle",o),ge("toggle",o)),c.onScroll!=null&&ge("scroll",o),c.onScrollEnd!=null&&ge("scrollend",o),c.onClick!=null&&(o.onclick=Ks),o=!0):o=!1,o||Ii(n)}function Jd(n){for(yt=n.return;yt;)switch(yt.tag){case 5:case 13:un=!1;return;case 27:case 3:un=!0;return;default:yt=yt.return}}function Ro(n){if(n!==yt)return!1;if(!Se)return Jd(n),Se=!0,!1;var o=n.tag,s;if((s=o!==3&&o!==27)&&((s=o===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Fc(n.type,n.memoizedProps)),s=!s),s&&Le&&Ii(n),Jd(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(o===0){Le=on(n.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++;n=n.nextSibling}Le=null}}else o===27?(o=Le,ui(n.type)?(n=tf,tf=null,Le=n):Le=o):Le=yt?on(n.stateNode.nextSibling):null;return!0}function Do(){Le=yt=null,Se=!1}function Qd(){var n=Yi;return n!==null&&(Ct===null?Ct=n:Ct.push.apply(Ct,n),Yi=null),n}function zo(n){Yi===null?Yi=[n]:Yi.push(n)}var Lu=V(null),Gi=null,Mn=null;function $n(n,o,s){G(Lu,o._currentValue),o._currentValue=s}function Cn(n){n._currentValue=Lu.current,$(Lu)}function Hu(n,o,s){for(;n!==null;){var c=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),n===s)break;n=n.return}}function Uu(n,o,s,c){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var m=d.dependencies;if(m!==null){var v=d.child;m=m.firstContext;e:for(;m!==null;){var x=m;m=d;for(var k=0;k<o.length;k++)if(x.context===o[k]){m.lanes|=s,x=m.alternate,x!==null&&(x.lanes|=s),Hu(m.return,s,n),c||(v=null);break e}m=x.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(r(341));v.lanes|=s,m=v.alternate,m!==null&&(m.lanes|=s),Hu(v,s,n),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===n){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Bo(n,o,s,c){n=null;for(var d=o,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var x=d.type;Bt(d.pendingProps.value,v.value)||(n!==null?n.push(x):n=[x])}}else if(d===Rt.current){if(v=d.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(ua):n=[ua])}d=d.return}n!==null&&Uu(o,n,s,c),o.flags|=262144}function ps(n){for(n=n.firstContext;n!==null;){if(!Bt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ki(n){Gi=n,Mn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ct(n){return Fd(Gi,n)}function ds(n,o){return Gi===null&&Ki(n),Fd(n,o)}function Fd(n,o){var s=o._currentValue;if(o={context:o,memoizedValue:s,next:null},Mn===null){if(n===null)throw Error(r(308));Mn=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else Mn=Mn.next=o;return s}var Ov=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(s,c){n.push(c)}};this.abort=function(){o.aborted=!0,n.forEach(function(s){return s()})}},Nv=i.unstable_scheduleCallback,Av=i.unstable_NormalPriority,Ge={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qu(){return{controller:new Ov,data:new Map,refCount:0}}function _o(n){n.refCount--,n.refCount===0&&Nv(Av,function(){n.controller.abort()})}var Lo=null,Vu=0,Dr=0,zr=null;function Rv(n,o){if(Lo===null){var s=Lo=[];Vu=0,Dr=Yc(),zr={status:"pending",value:void 0,then:function(c){s.push(c)}}}return Vu++,o.then(Zd,Zd),o}function Zd(){if(--Vu===0&&Lo!==null){zr!==null&&(zr.status="fulfilled");var n=Lo;Lo=null,Dr=0,zr=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function Dv(n,o){var s=[],c={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return n.then(function(){c.status="fulfilled",c.value=o;for(var d=0;d<s.length;d++)(0,s[d])(o)},function(d){for(c.status="rejected",c.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),c}var Wd=L.S;L.S=function(n,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&Rv(n,o),Wd!==null&&Wd(n,o)};var Pi=V(null);function ju(){var n=Pi.current;return n!==null?n:Re.pooledCache}function hs(n,o){o===null?G(Pi,Pi.current):G(Pi,o.pool)}function eh(){var n=ju();return n===null?null:{parent:Ge._currentValue,pool:n}}var Ho=Error(r(460)),th=Error(r(474)),ms=Error(r(542)),Yu={then:function(){}};function nh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ys(){}function ih(n,o,s){switch(s=n[s],s===void 0?n.push(o):s!==o&&(o.then(ys,ys),o=s),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,oh(n),n;default:if(typeof o.status=="string")o.then(ys,ys);else{if(n=Re,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=o,n.status="pending",n.then(function(c){if(o.status==="pending"){var d=o;d.status="fulfilled",d.value=c}},function(c){if(o.status==="pending"){var d=o;d.status="rejected",d.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,oh(n),n}throw Uo=o,Ho}}var Uo=null;function rh(){if(Uo===null)throw Error(r(459));var n=Uo;return Uo=null,n}function oh(n){if(n===Ho||n===ms)throw Error(r(483))}var Jn=!1;function Iu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gu(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Qn(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Fn(n,o,s){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Te&2)!==0){var d=c.pending;return d===null?o.next=o:(o.next=d.next,d.next=o),c.pending=o,o=ls(n),Kd(n,null,s),o}return ss(n,c,o,s),ls(n)}function qo(n,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194048)!==0)){var c=o.lanes;c&=n.pendingLanes,s|=c,o.lanes=s,Zp(n,s)}}function Ku(n,o){var s=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var d=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?d=m=v:m=m.next=v,s=s.next}while(s!==null);m===null?d=m=o:m=m.next=o}else d=m=o;s={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=o:n.next=o,s.lastBaseUpdate=o}var Pu=!1;function Vo(){if(Pu){var n=zr;if(n!==null)throw n}}function jo(n,o,s,c){Pu=!1;var d=n.updateQueue;Jn=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var k=x,R=k.next;k.next=null,v===null?m=R:v.next=R,v=k;var B=n.alternate;B!==null&&(B=B.updateQueue,x=B.lastBaseUpdate,x!==v&&(x===null?B.firstBaseUpdate=R:x.next=R,B.lastBaseUpdate=k))}if(m!==null){var U=d.baseState;v=0,B=R=k=null,x=m;do{var D=x.lane&-536870913,z=D!==x.lane;if(z?(be&D)===D:(c&D)===D){D!==0&&D===Dr&&(Pu=!0),B!==null&&(B=B.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var oe=n,te=x;D=o;var Ce=s;switch(te.tag){case 1:if(oe=te.payload,typeof oe=="function"){U=oe.call(Ce,U,D);break e}U=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=te.payload,D=typeof oe=="function"?oe.call(Ce,U,D):oe,D==null)break e;U=y({},U,D);break e;case 2:Jn=!0}}D=x.callback,D!==null&&(n.flags|=64,z&&(n.flags|=8192),z=d.callbacks,z===null?d.callbacks=[D]:z.push(D))}else z={lane:D,tag:x.tag,payload:x.payload,callback:x.callback,next:null},B===null?(R=B=z,k=U):B=B.next=z,v|=D;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;z=x,x=z.next,z.next=null,d.lastBaseUpdate=z,d.shared.pending=null}}while(!0);B===null&&(k=U),d.baseState=k,d.firstBaseUpdate=R,d.lastBaseUpdate=B,m===null&&(d.shared.lanes=0),oi|=v,n.lanes=v,n.memoizedState=U}}function ah(n,o){if(typeof n!="function")throw Error(r(191,n));n.call(o)}function sh(n,o){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)ah(s[n],o)}var Br=V(null),gs=V(0);function lh(n,o){n=Bn,G(gs,n),G(Br,o),Bn=n|o.baseLanes}function Xu(){G(gs,Bn),G(Br,Br.current)}function $u(){Bn=gs.current,$(Br),$(gs)}var Zn=0,de=null,ke=null,je=null,bs=!1,_r=!1,Xi=!1,vs=0,Yo=0,Lr=null,zv=0;function qe(){throw Error(r(321))}function Ju(n,o){if(o===null)return!1;for(var s=0;s<o.length&&s<n.length;s++)if(!Bt(n[s],o[s]))return!1;return!0}function Qu(n,o,s,c,d,m){return Zn=m,de=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,L.H=n===null||n.memoizedState===null?Kh:Ph,Xi=!1,m=s(c,d),Xi=!1,_r&&(m=ch(o,s,c,d)),uh(n),m}function uh(n){L.H=ks;var o=ke!==null&&ke.next!==null;if(Zn=0,je=ke=de=null,bs=!1,Yo=0,Lr=null,o)throw Error(r(300));n===null||$e||(n=n.dependencies,n!==null&&ps(n)&&($e=!0))}function ch(n,o,s,c){de=n;var d=0;do{if(_r&&(Lr=null),Yo=0,_r=!1,25<=d)throw Error(r(301));if(d+=1,je=ke=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}L.H=Vv,m=o(s,c)}while(_r);return m}function Bv(){var n=L.H,o=n.useState()[0];return o=typeof o.then=="function"?Io(o):o,n=n.useState()[0],(ke!==null?ke.memoizedState:null)!==n&&(de.flags|=1024),o}function Fu(){var n=vs!==0;return vs=0,n}function Zu(n,o,s){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~s}function Wu(n){if(bs){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}bs=!1}Zn=0,je=ke=de=null,_r=!1,Yo=vs=0,Lr=null}function kt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?de.memoizedState=je=n:je=je.next=n,je}function Ye(){if(ke===null){var n=de.alternate;n=n!==null?n.memoizedState:null}else n=ke.next;var o=je===null?de.memoizedState:je.next;if(o!==null)je=o,ke=n;else{if(n===null)throw de.alternate===null?Error(r(467)):Error(r(310));ke=n,n={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},je===null?de.memoizedState=je=n:je=je.next=n}return je}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Io(n){var o=Yo;return Yo+=1,Lr===null&&(Lr=[]),n=ih(Lr,n,o),o=de,(je===null?o.memoizedState:je.next)===null&&(o=o.alternate,L.H=o===null||o.memoizedState===null?Kh:Ph),n}function ws(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Io(n);if(n.$$typeof===Y)return ct(n)}throw Error(r(438,String(n)))}function tc(n){var o=null,s=de.updateQueue;if(s!==null&&(o=s.memoCache),o==null){var c=de.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(d){return d.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),s===null&&(s=ec(),de.updateQueue=s),s.memoCache=o,s=o.data[o.index],s===void 0)for(s=o.data[o.index]=Array(n),c=0;c<n;c++)s[c]=xe;return o.index++,s}function On(n,o){return typeof o=="function"?o(n):o}function Ss(n){var o=Ye();return nc(o,ke,n)}function nc(n,o,s){var c=n.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var d=n.baseQueue,m=c.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}o.baseQueue=d=m,c.pending=null}if(m=n.baseState,d===null)n.memoizedState=m;else{o=d.next;var x=v=null,k=null,R=o,B=!1;do{var U=R.lane&-536870913;if(U!==R.lane?(be&U)===U:(Zn&U)===U){var D=R.revertLane;if(D===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),U===Dr&&(B=!0);else if((Zn&D)===D){R=R.next,D===Dr&&(B=!0);continue}else U={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},k===null?(x=k=U,v=m):k=k.next=U,de.lanes|=D,oi|=D;U=R.action,Xi&&s(m,U),m=R.hasEagerState?R.eagerState:s(m,U)}else D={lane:U,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},k===null?(x=k=D,v=m):k=k.next=D,de.lanes|=U,oi|=U;R=R.next}while(R!==null&&R!==o);if(k===null?v=m:k.next=x,!Bt(m,n.memoizedState)&&($e=!0,B&&(s=zr,s!==null)))throw s;n.memoizedState=m,n.baseState=v,n.baseQueue=k,c.lastRenderedState=m}return d===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function ic(n){var o=Ye(),s=o.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=n;var c=s.dispatch,d=s.pending,m=o.memoizedState;if(d!==null){s.pending=null;var v=d=d.next;do m=n(m,v.action),v=v.next;while(v!==d);Bt(m,o.memoizedState)||($e=!0),o.memoizedState=m,o.baseQueue===null&&(o.baseState=m),s.lastRenderedState=m}return[m,c]}function fh(n,o,s){var c=de,d=Ye(),m=Se;if(m){if(s===void 0)throw Error(r(407));s=s()}else s=o();var v=!Bt((ke||d).memoizedState,s);v&&(d.memoizedState=s,$e=!0),d=d.queue;var x=hh.bind(null,c,d,n);if(Go(2048,8,x,[n]),d.getSnapshot!==o||v||je!==null&&je.memoizedState.tag&1){if(c.flags|=2048,Hr(9,xs(),dh.bind(null,c,d,s,o),null),Re===null)throw Error(r(349));m||(Zn&124)!==0||ph(c,o,s)}return s}function ph(n,o,s){n.flags|=16384,n={getSnapshot:o,value:s},o=de.updateQueue,o===null?(o=ec(),de.updateQueue=o,o.stores=[n]):(s=o.stores,s===null?o.stores=[n]:s.push(n))}function dh(n,o,s,c){o.value=s,o.getSnapshot=c,mh(o)&&yh(n)}function hh(n,o,s){return s(function(){mh(o)&&yh(n)})}function mh(n){var o=n.getSnapshot;n=n.value;try{var s=o();return!Bt(n,s)}catch{return!0}}function yh(n){var o=Or(n,2);o!==null&&Vt(o,n,2)}function rc(n){var o=kt();if(typeof n=="function"){var s=n;if(n=s(),Xi){Kn(!0);try{s()}finally{Kn(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:n},o}function gh(n,o,s,c){return n.baseState=s,nc(n,ke,typeof c=="function"?c:On)}function _v(n,o,s,c,d){if(Es(n))throw Error(r(485));if(n=o.action,n!==null){var m={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};L.T!==null?s(!0):m.isTransition=!1,c(m),s=o.pending,s===null?(m.next=o.pending=m,bh(o,m)):(m.next=s.next,o.pending=s.next=m)}}function bh(n,o){var s=o.action,c=o.payload,d=n.state;if(o.isTransition){var m=L.T,v={};L.T=v;try{var x=s(d,c),k=L.S;k!==null&&k(v,x),vh(n,o,x)}catch(R){oc(n,o,R)}finally{L.T=m}}else try{m=s(d,c),vh(n,o,m)}catch(R){oc(n,o,R)}}function vh(n,o,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){wh(n,o,c)},function(c){return oc(n,o,c)}):wh(n,o,s)}function wh(n,o,s){o.status="fulfilled",o.value=s,Sh(o),n.state=s,o=n.pending,o!==null&&(s=o.next,s===o?n.pending=null:(s=s.next,o.next=s,bh(n,s)))}function oc(n,o,s){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=s,Sh(o),o=o.next;while(o!==c)}n.action=null}function Sh(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function xh(n,o){return o}function Th(n,o){if(Se){var s=Re.formState;if(s!==null){e:{var c=de;if(Se){if(Le){t:{for(var d=Le,m=un;d.nodeType!==8;){if(!m){d=null;break t}if(d=on(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Le=on(d.nextSibling),c=d.data==="F!";break e}}Ii(c)}c=!1}c&&(o=s[0])}}return s=kt(),s.memoizedState=s.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xh,lastRenderedState:o},s.queue=c,s=Yh.bind(null,de,c),c.dispatch=s,c=rc(!1),m=cc.bind(null,de,!1,c.queue),c=kt(),d={state:o,dispatch:null,action:n,pending:null},c.queue=d,s=_v.bind(null,de,d,m,s),d.dispatch=s,c.memoizedState=n,[o,s,!1]}function Eh(n){var o=Ye();return kh(o,ke,n)}function kh(n,o,s){if(o=nc(n,o,xh)[0],n=Ss(On)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=Io(o)}catch(v){throw v===Ho?ms:v}else c=o;o=Ye();var d=o.queue,m=d.dispatch;return s!==o.memoizedState&&(de.flags|=2048,Hr(9,xs(),Lv.bind(null,d,s),null)),[c,m,n]}function Lv(n,o){n.action=o}function Mh(n){var o=Ye(),s=ke;if(s!==null)return kh(o,s,n);Ye(),o=o.memoizedState,s=Ye();var c=s.queue.dispatch;return s.memoizedState=n,[o,c,!1]}function Hr(n,o,s,c){return n={tag:n,create:s,deps:c,inst:o,next:null},o=de.updateQueue,o===null&&(o=ec(),de.updateQueue=o),s=o.lastEffect,s===null?o.lastEffect=n.next=n:(c=s.next,s.next=n,n.next=c,o.lastEffect=n),n}function xs(){return{destroy:void 0,resource:void 0}}function Ch(){return Ye().memoizedState}function Ts(n,o,s,c){var d=kt();c=c===void 0?null:c,de.flags|=n,d.memoizedState=Hr(1|o,xs(),s,c)}function Go(n,o,s,c){var d=Ye();c=c===void 0?null:c;var m=d.memoizedState.inst;ke!==null&&c!==null&&Ju(c,ke.memoizedState.deps)?d.memoizedState=Hr(o,m,s,c):(de.flags|=n,d.memoizedState=Hr(1|o,m,s,c))}function Oh(n,o){Ts(8390656,8,n,o)}function Nh(n,o){Go(2048,8,n,o)}function Ah(n,o){return Go(4,2,n,o)}function Rh(n,o){return Go(4,4,n,o)}function Dh(n,o){if(typeof o=="function"){n=n();var s=o(n);return function(){typeof s=="function"?s():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function zh(n,o,s){s=s!=null?s.concat([n]):null,Go(4,4,Dh.bind(null,o,n),s)}function ac(){}function Bh(n,o){var s=Ye();o=o===void 0?null:o;var c=s.memoizedState;return o!==null&&Ju(o,c[1])?c[0]:(s.memoizedState=[n,o],n)}function _h(n,o){var s=Ye();o=o===void 0?null:o;var c=s.memoizedState;if(o!==null&&Ju(o,c[1]))return c[0];if(c=n(),Xi){Kn(!0);try{n()}finally{Kn(!1)}}return s.memoizedState=[c,o],c}function sc(n,o,s){return s===void 0||(Zn&1073741824)!==0?n.memoizedState=o:(n.memoizedState=s,n=Um(),de.lanes|=n,oi|=n,s)}function Lh(n,o,s,c){return Bt(s,o)?s:Br.current!==null?(n=sc(n,s,c),Bt(n,o)||($e=!0),n):(Zn&42)===0?($e=!0,n.memoizedState=s):(n=Um(),de.lanes|=n,oi|=n,o)}function Hh(n,o,s,c,d){var m=K.p;K.p=m!==0&&8>m?m:8;var v=L.T,x={};L.T=x,cc(n,!1,o,s);try{var k=d(),R=L.S;if(R!==null&&R(x,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var B=Dv(k,c);Ko(n,o,B,qt(n))}else Ko(n,o,c,qt(n))}catch(U){Ko(n,o,{then:function(){},status:"rejected",reason:U},qt())}finally{K.p=m,L.T=v}}function Hv(){}function lc(n,o,s,c){if(n.tag!==5)throw Error(r(476));var d=Uh(n).queue;Hh(n,d,o,re,s===null?Hv:function(){return qh(n),s(c)})}function Uh(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:re},next:null};var s={};return o.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:s},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function qh(n){var o=Uh(n).next.queue;Ko(n,o,{},qt())}function uc(){return ct(ua)}function Vh(){return Ye().memoizedState}function jh(){return Ye().memoizedState}function Uv(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var s=qt();n=Qn(s);var c=Fn(o,n,s);c!==null&&(Vt(c,o,s),qo(c,o,s)),o={cache:qu()},n.payload=o;return}o=o.return}}function qv(n,o,s){var c=qt();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Es(n)?Ih(o,s):(s=Nu(n,o,s,c),s!==null&&(Vt(s,n,c),Gh(s,o,c)))}function Yh(n,o,s){var c=qt();Ko(n,o,s,c)}function Ko(n,o,s,c){var d={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Es(n))Ih(o,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=o.lastRenderedReducer,m!==null))try{var v=o.lastRenderedState,x=m(v,s);if(d.hasEagerState=!0,d.eagerState=x,Bt(x,v))return ss(n,o,d,0),Re===null&&as(),!1}catch{}finally{}if(s=Nu(n,o,d,c),s!==null)return Vt(s,n,c),Gh(s,o,c),!0}return!1}function cc(n,o,s,c){if(c={lane:2,revertLane:Yc(),action:c,hasEagerState:!1,eagerState:null,next:null},Es(n)){if(o)throw Error(r(479))}else o=Nu(n,s,c,2),o!==null&&Vt(o,n,2)}function Es(n){var o=n.alternate;return n===de||o!==null&&o===de}function Ih(n,o){_r=bs=!0;var s=n.pending;s===null?o.next=o:(o.next=s.next,s.next=o),n.pending=o}function Gh(n,o,s){if((s&4194048)!==0){var c=o.lanes;c&=n.pendingLanes,s|=c,o.lanes=s,Zp(n,s)}}var ks={readContext:ct,use:ws,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe},Kh={readContext:ct,use:ws,useCallback:function(n,o){return kt().memoizedState=[n,o===void 0?null:o],n},useContext:ct,useEffect:Oh,useImperativeHandle:function(n,o,s){s=s!=null?s.concat([n]):null,Ts(4194308,4,Dh.bind(null,o,n),s)},useLayoutEffect:function(n,o){return Ts(4194308,4,n,o)},useInsertionEffect:function(n,o){Ts(4,2,n,o)},useMemo:function(n,o){var s=kt();o=o===void 0?null:o;var c=n();if(Xi){Kn(!0);try{n()}finally{Kn(!1)}}return s.memoizedState=[c,o],c},useReducer:function(n,o,s){var c=kt();if(s!==void 0){var d=s(o);if(Xi){Kn(!0);try{s(o)}finally{Kn(!1)}}}else d=o;return c.memoizedState=c.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},c.queue=n,n=n.dispatch=qv.bind(null,de,n),[c.memoizedState,n]},useRef:function(n){var o=kt();return n={current:n},o.memoizedState=n},useState:function(n){n=rc(n);var o=n.queue,s=Yh.bind(null,de,o);return o.dispatch=s,[n.memoizedState,s]},useDebugValue:ac,useDeferredValue:function(n,o){var s=kt();return sc(s,n,o)},useTransition:function(){var n=rc(!1);return n=Hh.bind(null,de,n.queue,!0,!1),kt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,s){var c=de,d=kt();if(Se){if(s===void 0)throw Error(r(407));s=s()}else{if(s=o(),Re===null)throw Error(r(349));(be&124)!==0||ph(c,o,s)}d.memoizedState=s;var m={value:s,getSnapshot:o};return d.queue=m,Oh(hh.bind(null,c,m,n),[n]),c.flags|=2048,Hr(9,xs(),dh.bind(null,c,m,s,o),null),s},useId:function(){var n=kt(),o=Re.identifierPrefix;if(Se){var s=kn,c=En;s=(c&~(1<<32-zt(c)-1)).toString(32)+s,o=""+o+"R"+s,s=vs++,0<s&&(o+="H"+s.toString(32)),o+=""}else s=zv++,o=""+o+"r"+s.toString(32)+"";return n.memoizedState=o},useHostTransitionStatus:uc,useFormState:Th,useActionState:Th,useOptimistic:function(n){var o=kt();o.memoizedState=o.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=s,o=cc.bind(null,de,!0,s),s.dispatch=o,[n,o]},useMemoCache:tc,useCacheRefresh:function(){return kt().memoizedState=Uv.bind(null,de)}},Ph={readContext:ct,use:ws,useCallback:Bh,useContext:ct,useEffect:Nh,useImperativeHandle:zh,useInsertionEffect:Ah,useLayoutEffect:Rh,useMemo:_h,useReducer:Ss,useRef:Ch,useState:function(){return Ss(On)},useDebugValue:ac,useDeferredValue:function(n,o){var s=Ye();return Lh(s,ke.memoizedState,n,o)},useTransition:function(){var n=Ss(On)[0],o=Ye().memoizedState;return[typeof n=="boolean"?n:Io(n),o]},useSyncExternalStore:fh,useId:Vh,useHostTransitionStatus:uc,useFormState:Eh,useActionState:Eh,useOptimistic:function(n,o){var s=Ye();return gh(s,ke,n,o)},useMemoCache:tc,useCacheRefresh:jh},Vv={readContext:ct,use:ws,useCallback:Bh,useContext:ct,useEffect:Nh,useImperativeHandle:zh,useInsertionEffect:Ah,useLayoutEffect:Rh,useMemo:_h,useReducer:ic,useRef:Ch,useState:function(){return ic(On)},useDebugValue:ac,useDeferredValue:function(n,o){var s=Ye();return ke===null?sc(s,n,o):Lh(s,ke.memoizedState,n,o)},useTransition:function(){var n=ic(On)[0],o=Ye().memoizedState;return[typeof n=="boolean"?n:Io(n),o]},useSyncExternalStore:fh,useId:Vh,useHostTransitionStatus:uc,useFormState:Mh,useActionState:Mh,useOptimistic:function(n,o){var s=Ye();return ke!==null?gh(s,ke,n,o):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:tc,useCacheRefresh:jh},Ur=null,Po=0;function Ms(n){var o=Po;return Po+=1,Ur===null&&(Ur=[]),ih(Ur,n,o)}function Xo(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function Cs(n,o){throw o.$$typeof===g?Error(r(525)):(n=Object.prototype.toString.call(o),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function Xh(n){var o=n._init;return o(n._payload)}function $h(n){function o(N,C){if(n){var A=N.deletions;A===null?(N.deletions=[C],N.flags|=16):A.push(C)}}function s(N,C){if(!n)return null;for(;C!==null;)o(N,C),C=C.sibling;return null}function c(N){for(var C=new Map;N!==null;)N.key!==null?C.set(N.key,N):C.set(N.index,N),N=N.sibling;return C}function d(N,C){return N=Tn(N,C),N.index=0,N.sibling=null,N}function m(N,C,A){return N.index=A,n?(A=N.alternate,A!==null?(A=A.index,A<C?(N.flags|=67108866,C):A):(N.flags|=67108866,C)):(N.flags|=1048576,C)}function v(N){return n&&N.alternate===null&&(N.flags|=67108866),N}function x(N,C,A,H){return C===null||C.tag!==6?(C=Ru(A,N.mode,H),C.return=N,C):(C=d(C,A),C.return=N,C)}function k(N,C,A,H){var Q=A.type;return Q===w?B(N,C,A.props.children,H,A.key):C!==null&&(C.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===X&&Xh(Q)===C.type)?(C=d(C,A.props),Xo(C,A),C.return=N,C):(C=us(A.type,A.key,A.props,null,N.mode,H),Xo(C,A),C.return=N,C)}function R(N,C,A,H){return C===null||C.tag!==4||C.stateNode.containerInfo!==A.containerInfo||C.stateNode.implementation!==A.implementation?(C=Du(A,N.mode,H),C.return=N,C):(C=d(C,A.children||[]),C.return=N,C)}function B(N,C,A,H,Q){return C===null||C.tag!==7?(C=qi(A,N.mode,H,Q),C.return=N,C):(C=d(C,A),C.return=N,C)}function U(N,C,A){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Ru(""+C,N.mode,A),C.return=N,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case b:return A=us(C.type,C.key,C.props,null,N.mode,A),Xo(A,C),A.return=N,A;case S:return C=Du(C,N.mode,A),C.return=N,C;case X:var H=C._init;return C=H(C._payload),U(N,C,A)}if(lt(C)||st(C))return C=qi(C,N.mode,A,null),C.return=N,C;if(typeof C.then=="function")return U(N,Ms(C),A);if(C.$$typeof===Y)return U(N,ds(N,C),A);Cs(N,C)}return null}function D(N,C,A,H){var Q=C!==null?C.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return Q!==null?null:x(N,C,""+A,H);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case b:return A.key===Q?k(N,C,A,H):null;case S:return A.key===Q?R(N,C,A,H):null;case X:return Q=A._init,A=Q(A._payload),D(N,C,A,H)}if(lt(A)||st(A))return Q!==null?null:B(N,C,A,H,null);if(typeof A.then=="function")return D(N,C,Ms(A),H);if(A.$$typeof===Y)return D(N,C,ds(N,A),H);Cs(N,A)}return null}function z(N,C,A,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return N=N.get(A)||null,x(C,N,""+H,Q);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return N=N.get(H.key===null?A:H.key)||null,k(C,N,H,Q);case S:return N=N.get(H.key===null?A:H.key)||null,R(C,N,H,Q);case X:var me=H._init;return H=me(H._payload),z(N,C,A,H,Q)}if(lt(H)||st(H))return N=N.get(A)||null,B(C,N,H,Q,null);if(typeof H.then=="function")return z(N,C,A,Ms(H),Q);if(H.$$typeof===Y)return z(N,C,A,ds(C,H),Q);Cs(C,H)}return null}function oe(N,C,A,H){for(var Q=null,me=null,Z=C,ne=C=0,Qe=null;Z!==null&&ne<A.length;ne++){Z.index>ne?(Qe=Z,Z=null):Qe=Z.sibling;var we=D(N,Z,A[ne],H);if(we===null){Z===null&&(Z=Qe);break}n&&Z&&we.alternate===null&&o(N,Z),C=m(we,C,ne),me===null?Q=we:me.sibling=we,me=we,Z=Qe}if(ne===A.length)return s(N,Z),Se&&ji(N,ne),Q;if(Z===null){for(;ne<A.length;ne++)Z=U(N,A[ne],H),Z!==null&&(C=m(Z,C,ne),me===null?Q=Z:me.sibling=Z,me=Z);return Se&&ji(N,ne),Q}for(Z=c(Z);ne<A.length;ne++)Qe=z(Z,N,ne,A[ne],H),Qe!==null&&(n&&Qe.alternate!==null&&Z.delete(Qe.key===null?ne:Qe.key),C=m(Qe,C,ne),me===null?Q=Qe:me.sibling=Qe,me=Qe);return n&&Z.forEach(function(hi){return o(N,hi)}),Se&&ji(N,ne),Q}function te(N,C,A,H){if(A==null)throw Error(r(151));for(var Q=null,me=null,Z=C,ne=C=0,Qe=null,we=A.next();Z!==null&&!we.done;ne++,we=A.next()){Z.index>ne?(Qe=Z,Z=null):Qe=Z.sibling;var hi=D(N,Z,we.value,H);if(hi===null){Z===null&&(Z=Qe);break}n&&Z&&hi.alternate===null&&o(N,Z),C=m(hi,C,ne),me===null?Q=hi:me.sibling=hi,me=hi,Z=Qe}if(we.done)return s(N,Z),Se&&ji(N,ne),Q;if(Z===null){for(;!we.done;ne++,we=A.next())we=U(N,we.value,H),we!==null&&(C=m(we,C,ne),me===null?Q=we:me.sibling=we,me=we);return Se&&ji(N,ne),Q}for(Z=c(Z);!we.done;ne++,we=A.next())we=z(Z,N,ne,we.value,H),we!==null&&(n&&we.alternate!==null&&Z.delete(we.key===null?ne:we.key),C=m(we,C,ne),me===null?Q=we:me.sibling=we,me=we);return n&&Z.forEach(function(jw){return o(N,jw)}),Se&&ji(N,ne),Q}function Ce(N,C,A,H){if(typeof A=="object"&&A!==null&&A.type===w&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case b:e:{for(var Q=A.key;C!==null;){if(C.key===Q){if(Q=A.type,Q===w){if(C.tag===7){s(N,C.sibling),H=d(C,A.props.children),H.return=N,N=H;break e}}else if(C.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===X&&Xh(Q)===C.type){s(N,C.sibling),H=d(C,A.props),Xo(H,A),H.return=N,N=H;break e}s(N,C);break}else o(N,C);C=C.sibling}A.type===w?(H=qi(A.props.children,N.mode,H,A.key),H.return=N,N=H):(H=us(A.type,A.key,A.props,null,N.mode,H),Xo(H,A),H.return=N,N=H)}return v(N);case S:e:{for(Q=A.key;C!==null;){if(C.key===Q)if(C.tag===4&&C.stateNode.containerInfo===A.containerInfo&&C.stateNode.implementation===A.implementation){s(N,C.sibling),H=d(C,A.children||[]),H.return=N,N=H;break e}else{s(N,C);break}else o(N,C);C=C.sibling}H=Du(A,N.mode,H),H.return=N,N=H}return v(N);case X:return Q=A._init,A=Q(A._payload),Ce(N,C,A,H)}if(lt(A))return oe(N,C,A,H);if(st(A)){if(Q=st(A),typeof Q!="function")throw Error(r(150));return A=Q.call(A),te(N,C,A,H)}if(typeof A.then=="function")return Ce(N,C,Ms(A),H);if(A.$$typeof===Y)return Ce(N,C,ds(N,A),H);Cs(N,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,C!==null&&C.tag===6?(s(N,C.sibling),H=d(C,A),H.return=N,N=H):(s(N,C),H=Ru(A,N.mode,H),H.return=N,N=H),v(N)):s(N,C)}return function(N,C,A,H){try{Po=0;var Q=Ce(N,C,A,H);return Ur=null,Q}catch(Z){if(Z===Ho||Z===ms)throw Z;var me=_t(29,Z,null,N.mode);return me.lanes=H,me.return=N,me}finally{}}}var qr=$h(!0),Jh=$h(!1),Jt=V(null),cn=null;function Wn(n){var o=n.alternate;G(Ke,Ke.current&1),G(Jt,n),cn===null&&(o===null||Br.current!==null||o.memoizedState!==null)&&(cn=n)}function Qh(n){if(n.tag===22){if(G(Ke,Ke.current),G(Jt,n),cn===null){var o=n.alternate;o!==null&&o.memoizedState!==null&&(cn=n)}}else ei()}function ei(){G(Ke,Ke.current),G(Jt,Jt.current)}function Nn(n){$(Jt),cn===n&&(cn=null),$(Ke)}var Ke=V(0);function Os(n){for(var o=n;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||ef(s)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function fc(n,o,s,c){o=n.memoizedState,s=s(c,o),s=s==null?o:y({},o,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var pc={enqueueSetState:function(n,o,s){n=n._reactInternals;var c=qt(),d=Qn(c);d.payload=o,s!=null&&(d.callback=s),o=Fn(n,d,c),o!==null&&(Vt(o,n,c),qo(o,n,c))},enqueueReplaceState:function(n,o,s){n=n._reactInternals;var c=qt(),d=Qn(c);d.tag=1,d.payload=o,s!=null&&(d.callback=s),o=Fn(n,d,c),o!==null&&(Vt(o,n,c),qo(o,n,c))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var s=qt(),c=Qn(s);c.tag=2,o!=null&&(c.callback=o),o=Fn(n,c,s),o!==null&&(Vt(o,n,s),qo(o,n,s))}};function Fh(n,o,s,c,d,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,v):o.prototype&&o.prototype.isPureReactComponent?!No(s,c)||!No(d,m):!0}function Zh(n,o,s,c){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,c),o.state!==n&&pc.enqueueReplaceState(o,o.state,null)}function $i(n,o){var s=o;if("ref"in o){s={};for(var c in o)c!=="ref"&&(s[c]=o[c])}if(n=n.defaultProps){s===o&&(s=y({},s));for(var d in n)s[d]===void 0&&(s[d]=n[d])}return s}var Ns=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Wh(n){Ns(n)}function em(n){console.error(n)}function tm(n){Ns(n)}function As(n,o){try{var s=n.onUncaughtError;s(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function nm(n,o,s){try{var c=n.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function dc(n,o,s){return s=Qn(s),s.tag=3,s.payload={element:null},s.callback=function(){As(n,o)},s}function im(n){return n=Qn(n),n.tag=3,n}function rm(n,o,s,c){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=c.value;n.payload=function(){return d(m)},n.callback=function(){nm(o,s,c)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){nm(o,s,c),typeof d!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function jv(n,o,s,c,d){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=s.alternate,o!==null&&Bo(o,s,d,!0),s=Jt.current,s!==null){switch(s.tag){case 13:return cn===null?Hc():s.alternate===null&&He===0&&(He=3),s.flags&=-257,s.flags|=65536,s.lanes=d,c===Yu?s.flags|=16384:(o=s.updateQueue,o===null?s.updateQueue=new Set([c]):o.add(c),qc(n,c,d)),!1;case 22:return s.flags|=65536,c===Yu?s.flags|=16384:(o=s.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=o):(s=o.retryQueue,s===null?o.retryQueue=new Set([c]):s.add(c)),qc(n,c,d)),!1}throw Error(r(435,s.tag))}return qc(n,c,d),Hc(),!1}if(Se)return o=Jt.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=d,c!==_u&&(n=Error(r(422),{cause:c}),zo(Kt(n,s)))):(c!==_u&&(o=Error(r(423),{cause:c}),zo(Kt(o,s))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,c=Kt(c,s),d=dc(n.stateNode,c,d),Ku(n,d),He!==4&&(He=2)),!1;var m=Error(r(520),{cause:c});if(m=Kt(m,s),ea===null?ea=[m]:ea.push(m),He!==4&&(He=2),o===null)return!0;c=Kt(c,s),s=o;do{switch(s.tag){case 3:return s.flags|=65536,n=d&-d,s.lanes|=n,n=dc(s.stateNode,c,n),Ku(s,n),!1;case 1:if(o=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ai===null||!ai.has(m))))return s.flags|=65536,d&=-d,s.lanes|=d,d=im(d),rm(d,n,s,c),Ku(s,d),!1}s=s.return}while(s!==null);return!1}var om=Error(r(461)),$e=!1;function tt(n,o,s,c){o.child=n===null?Jh(o,null,s,c):qr(o,n.child,s,c)}function am(n,o,s,c,d){s=s.render;var m=o.ref;if("ref"in c){var v={};for(var x in c)x!=="ref"&&(v[x]=c[x])}else v=c;return Ki(o),c=Qu(n,o,s,v,m,d),x=Fu(),n!==null&&!$e?(Zu(n,o,d),An(n,o,d)):(Se&&x&&zu(o),o.flags|=1,tt(n,o,c,d),o.child)}function sm(n,o,s,c,d){if(n===null){var m=s.type;return typeof m=="function"&&!Au(m)&&m.defaultProps===void 0&&s.compare===null?(o.tag=15,o.type=m,lm(n,o,m,c,d)):(n=us(s.type,null,c,o,o.mode,d),n.ref=o.ref,n.return=o,o.child=n)}if(m=n.child,!Sc(n,d)){var v=m.memoizedProps;if(s=s.compare,s=s!==null?s:No,s(v,c)&&n.ref===o.ref)return An(n,o,d)}return o.flags|=1,n=Tn(m,c),n.ref=o.ref,n.return=o,o.child=n}function lm(n,o,s,c,d){if(n!==null){var m=n.memoizedProps;if(No(m,c)&&n.ref===o.ref)if($e=!1,o.pendingProps=c=m,Sc(n,d))(n.flags&131072)!==0&&($e=!0);else return o.lanes=n.lanes,An(n,o,d)}return hc(n,o,s,c,d)}function um(n,o,s){var c=o.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((o.flags&128)!==0){if(c=m!==null?m.baseLanes|s:s,n!==null){for(d=o.child=n.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;o.childLanes=m&~c}else o.childLanes=0,o.child=null;return cm(n,o,c,s)}if((s&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&hs(o,m!==null?m.cachePool:null),m!==null?lh(o,m):Xu(),Qh(o);else return o.lanes=o.childLanes=536870912,cm(n,o,m!==null?m.baseLanes|s:s,s)}else m!==null?(hs(o,m.cachePool),lh(o,m),ei(),o.memoizedState=null):(n!==null&&hs(o,null),Xu(),ei());return tt(n,o,d,s),o.child}function cm(n,o,s,c){var d=ju();return d=d===null?null:{parent:Ge._currentValue,pool:d},o.memoizedState={baseLanes:s,cachePool:d},n!==null&&hs(o,null),Xu(),Qh(o),n!==null&&Bo(n,o,c,!0),null}function Rs(n,o){var s=o.ref;if(s===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(n===null||n.ref!==s)&&(o.flags|=4194816)}}function hc(n,o,s,c,d){return Ki(o),s=Qu(n,o,s,c,void 0,d),c=Fu(),n!==null&&!$e?(Zu(n,o,d),An(n,o,d)):(Se&&c&&zu(o),o.flags|=1,tt(n,o,s,d),o.child)}function fm(n,o,s,c,d,m){return Ki(o),o.updateQueue=null,s=ch(o,c,s,d),uh(n),c=Fu(),n!==null&&!$e?(Zu(n,o,m),An(n,o,m)):(Se&&c&&zu(o),o.flags|=1,tt(n,o,s,m),o.child)}function pm(n,o,s,c,d){if(Ki(o),o.stateNode===null){var m=Nr,v=s.contextType;typeof v=="object"&&v!==null&&(m=ct(v)),m=new s(c,m),o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=pc,o.stateNode=m,m._reactInternals=o,m=o.stateNode,m.props=c,m.state=o.memoizedState,m.refs={},Iu(o),v=s.contextType,m.context=typeof v=="object"&&v!==null?ct(v):Nr,m.state=o.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(fc(o,s,v,c),m.state=o.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&pc.enqueueReplaceState(m,m.state,null),jo(o,c,m,d),Vo(),m.state=o.memoizedState),typeof m.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(n===null){m=o.stateNode;var x=o.memoizedProps,k=$i(s,x);m.props=k;var R=m.context,B=s.contextType;v=Nr,typeof B=="object"&&B!==null&&(v=ct(B));var U=s.getDerivedStateFromProps;B=typeof U=="function"||typeof m.getSnapshotBeforeUpdate=="function",x=o.pendingProps!==x,B||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x||R!==v)&&Zh(o,m,c,v),Jn=!1;var D=o.memoizedState;m.state=D,jo(o,c,m,d),Vo(),R=o.memoizedState,x||D!==R||Jn?(typeof U=="function"&&(fc(o,s,U,c),R=o.memoizedState),(k=Jn||Fh(o,s,k,c,D,R,v))?(B||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(o.flags|=4194308)):(typeof m.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=R),m.props=c,m.state=R,m.context=v,c=k):(typeof m.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{m=o.stateNode,Gu(n,o),v=o.memoizedProps,B=$i(s,v),m.props=B,U=o.pendingProps,D=m.context,R=s.contextType,k=Nr,typeof R=="object"&&R!==null&&(k=ct(R)),x=s.getDerivedStateFromProps,(R=typeof x=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==U||D!==k)&&Zh(o,m,c,k),Jn=!1,D=o.memoizedState,m.state=D,jo(o,c,m,d),Vo();var z=o.memoizedState;v!==U||D!==z||Jn||n!==null&&n.dependencies!==null&&ps(n.dependencies)?(typeof x=="function"&&(fc(o,s,x,c),z=o.memoizedState),(B=Jn||Fh(o,s,B,c,D,z,k)||n!==null&&n.dependencies!==null&&ps(n.dependencies))?(R||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,z,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,z,k)),typeof m.componentDidUpdate=="function"&&(o.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&D===n.memoizedState||(o.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&D===n.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=z),m.props=c,m.state=z,m.context=k,c=B):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&D===n.memoizedState||(o.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&D===n.memoizedState||(o.flags|=1024),c=!1)}return m=c,Rs(n,o),c=(o.flags&128)!==0,m||c?(m=o.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:m.render(),o.flags|=1,n!==null&&c?(o.child=qr(o,n.child,null,d),o.child=qr(o,null,s,d)):tt(n,o,s,d),o.memoizedState=m.state,n=o.child):n=An(n,o,d),n}function dm(n,o,s,c){return Do(),o.flags|=256,tt(n,o,s,c),o.child}var mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yc(n){return{baseLanes:n,cachePool:eh()}}function gc(n,o,s){return n=n!==null?n.childLanes&~s:0,o&&(n|=Qt),n}function hm(n,o,s){var c=o.pendingProps,d=!1,m=(o.flags&128)!==0,v;if((v=m)||(v=n!==null&&n.memoizedState===null?!1:(Ke.current&2)!==0),v&&(d=!0,o.flags&=-129),v=(o.flags&32)!==0,o.flags&=-33,n===null){if(Se){if(d?Wn(o):ei(),Se){var x=Le,k;if(k=x){e:{for(k=x,x=un;k.nodeType!==8;){if(!x){x=null;break e}if(k=on(k.nextSibling),k===null){x=null;break e}}x=k}x!==null?(o.memoizedState={dehydrated:x,treeContext:Vi!==null?{id:En,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},k=_t(18,null,null,0),k.stateNode=x,k.return=o,o.child=k,yt=o,Le=null,k=!0):k=!1}k||Ii(o)}if(x=o.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return ef(x)?o.lanes=32:o.lanes=536870912,null;Nn(o)}return x=c.children,c=c.fallback,d?(ei(),d=o.mode,x=Ds({mode:"hidden",children:x},d),c=qi(c,d,s,null),x.return=o,c.return=o,x.sibling=c,o.child=x,d=o.child,d.memoizedState=yc(s),d.childLanes=gc(n,v,s),o.memoizedState=mc,c):(Wn(o),bc(o,x))}if(k=n.memoizedState,k!==null&&(x=k.dehydrated,x!==null)){if(m)o.flags&256?(Wn(o),o.flags&=-257,o=vc(n,o,s)):o.memoizedState!==null?(ei(),o.child=n.child,o.flags|=128,o=null):(ei(),d=c.fallback,x=o.mode,c=Ds({mode:"visible",children:c.children},x),d=qi(d,x,s,null),d.flags|=2,c.return=o,d.return=o,c.sibling=d,o.child=c,qr(o,n.child,null,s),c=o.child,c.memoizedState=yc(s),c.childLanes=gc(n,v,s),o.memoizedState=mc,o=d);else if(Wn(o),ef(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var R=v.dgst;v=R,c=Error(r(419)),c.stack="",c.digest=v,zo({value:c,source:null,stack:null}),o=vc(n,o,s)}else if($e||Bo(n,o,s,!1),v=(s&n.childLanes)!==0,$e||v){if(v=Re,v!==null&&(c=s&-s,c=(c&42)!==0?1:tu(c),c=(c&(v.suspendedLanes|s))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,Or(n,c),Vt(v,n,c),om;x.data==="$?"||Hc(),o=vc(n,o,s)}else x.data==="$?"?(o.flags|=192,o.child=n.child,o=null):(n=k.treeContext,Le=on(x.nextSibling),yt=o,Se=!0,Yi=null,un=!1,n!==null&&(Xt[$t++]=En,Xt[$t++]=kn,Xt[$t++]=Vi,En=n.id,kn=n.overflow,Vi=o),o=bc(o,c.children),o.flags|=4096);return o}return d?(ei(),d=c.fallback,x=o.mode,k=n.child,R=k.sibling,c=Tn(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,R!==null?d=Tn(R,d):(d=qi(d,x,s,null),d.flags|=2),d.return=o,c.return=o,c.sibling=d,o.child=c,c=d,d=o.child,x=n.child.memoizedState,x===null?x=yc(s):(k=x.cachePool,k!==null?(R=Ge._currentValue,k=k.parent!==R?{parent:R,pool:R}:k):k=eh(),x={baseLanes:x.baseLanes|s,cachePool:k}),d.memoizedState=x,d.childLanes=gc(n,v,s),o.memoizedState=mc,c):(Wn(o),s=n.child,n=s.sibling,s=Tn(s,{mode:"visible",children:c.children}),s.return=o,s.sibling=null,n!==null&&(v=o.deletions,v===null?(o.deletions=[n],o.flags|=16):v.push(n)),o.child=s,o.memoizedState=null,s)}function bc(n,o){return o=Ds({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function Ds(n,o){return n=_t(22,n,null,o),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function vc(n,o,s){return qr(o,n.child,null,s),n=bc(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function mm(n,o,s){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o),Hu(n.return,o,s)}function wc(n,o,s,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:d}:(m.isBackwards=o,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=s,m.tailMode=d)}function ym(n,o,s){var c=o.pendingProps,d=c.revealOrder,m=c.tail;if(tt(n,o,c.children,s),c=Ke.current,(c&2)!==0)c=c&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&mm(n,s,o);else if(n.tag===19)mm(n,s,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(G(Ke,c),d){case"forwards":for(s=o.child,d=null;s!==null;)n=s.alternate,n!==null&&Os(n)===null&&(d=s),s=s.sibling;s=d,s===null?(d=o.child,o.child=null):(d=s.sibling,s.sibling=null),wc(o,!1,d,s,m);break;case"backwards":for(s=null,d=o.child,o.child=null;d!==null;){if(n=d.alternate,n!==null&&Os(n)===null){o.child=d;break}n=d.sibling,d.sibling=s,s=d,d=n}wc(o,!0,s,null,m);break;case"together":wc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function An(n,o,s){if(n!==null&&(o.dependencies=n.dependencies),oi|=o.lanes,(s&o.childLanes)===0)if(n!==null){if(Bo(n,o,s,!1),(s&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(r(153));if(o.child!==null){for(n=o.child,s=Tn(n,n.pendingProps),o.child=s,s.return=o;n.sibling!==null;)n=n.sibling,s=s.sibling=Tn(n,n.pendingProps),s.return=o;s.sibling=null}return o.child}function Sc(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&ps(n)))}function Yv(n,o,s){switch(o.tag){case 3:De(o,o.stateNode.containerInfo),$n(o,Ge,n.memoizedState.cache),Do();break;case 27:case 5:Ql(o);break;case 4:De(o,o.stateNode.containerInfo);break;case 10:$n(o,o.type,o.memoizedProps.value);break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(Wn(o),o.flags|=128,null):(s&o.child.childLanes)!==0?hm(n,o,s):(Wn(o),n=An(n,o,s),n!==null?n.sibling:null);Wn(o);break;case 19:var d=(n.flags&128)!==0;if(c=(s&o.childLanes)!==0,c||(Bo(n,o,s,!1),c=(s&o.childLanes)!==0),d){if(c)return ym(n,o,s);o.flags|=128}if(d=o.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),G(Ke,Ke.current),c)break;return null;case 22:case 23:return o.lanes=0,um(n,o,s);case 24:$n(o,Ge,n.memoizedState.cache)}return An(n,o,s)}function gm(n,o,s){if(n!==null)if(n.memoizedProps!==o.pendingProps)$e=!0;else{if(!Sc(n,s)&&(o.flags&128)===0)return $e=!1,Yv(n,o,s);$e=(n.flags&131072)!==0}else $e=!1,Se&&(o.flags&1048576)!==0&&Xd(o,fs,o.index);switch(o.lanes=0,o.tag){case 16:e:{n=o.pendingProps;var c=o.elementType,d=c._init;if(c=d(c._payload),o.type=c,typeof c=="function")Au(c)?(n=$i(c,n),o.tag=1,o=pm(null,o,c,n,s)):(o.tag=0,o=hc(null,o,c,n,s));else{if(c!=null){if(d=c.$$typeof,d===J){o.tag=11,o=am(null,o,c,n,s);break e}else if(d===ae){o.tag=14,o=sm(null,o,c,n,s);break e}}throw o=zi(c)||c,Error(r(306,o,""))}}return o;case 0:return hc(n,o,o.type,o.pendingProps,s);case 1:return c=o.type,d=$i(c,o.pendingProps),pm(n,o,c,d,s);case 3:e:{if(De(o,o.stateNode.containerInfo),n===null)throw Error(r(387));c=o.pendingProps;var m=o.memoizedState;d=m.element,Gu(n,o),jo(o,c,null,s);var v=o.memoizedState;if(c=v.cache,$n(o,Ge,c),c!==m.cache&&Uu(o,[Ge],s,!0),Vo(),c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache},o.updateQueue.baseState=m,o.memoizedState=m,o.flags&256){o=dm(n,o,c,s);break e}else if(c!==d){d=Kt(Error(r(424)),o),zo(d),o=dm(n,o,c,s);break e}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Le=on(n.firstChild),yt=o,Se=!0,Yi=null,un=!0,s=Jh(o,null,c,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Do(),c===d){o=An(n,o,s);break e}tt(n,o,c,s)}o=o.child}return o;case 26:return Rs(n,o),n===null?(s=Sy(o.type,null,o.pendingProps,null))?o.memoizedState=s:Se||(s=o.type,n=o.pendingProps,c=Ps(ue.current).createElement(s),c[ut]=o,c[Tt]=n,it(c,s,n),Xe(c),o.stateNode=c):o.memoizedState=Sy(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return Ql(o),n===null&&Se&&(c=o.stateNode=by(o.type,o.pendingProps,ue.current),yt=o,un=!0,d=Le,ui(o.type)?(tf=d,Le=on(c.firstChild)):Le=d),tt(n,o,o.pendingProps.children,s),Rs(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&Se&&((d=c=Le)&&(c=yw(c,o.type,o.pendingProps,un),c!==null?(o.stateNode=c,yt=o,Le=on(c.firstChild),un=!1,d=!0):d=!1),d||Ii(o)),Ql(o),d=o.type,m=o.pendingProps,v=n!==null?n.memoizedProps:null,c=m.children,Fc(d,m)?c=null:v!==null&&Fc(d,v)&&(o.flags|=32),o.memoizedState!==null&&(d=Qu(n,o,Bv,null,null,s),ua._currentValue=d),Rs(n,o),tt(n,o,c,s),o.child;case 6:return n===null&&Se&&((n=s=Le)&&(s=gw(s,o.pendingProps,un),s!==null?(o.stateNode=s,yt=o,Le=null,n=!0):n=!1),n||Ii(o)),null;case 13:return hm(n,o,s);case 4:return De(o,o.stateNode.containerInfo),c=o.pendingProps,n===null?o.child=qr(o,null,c,s):tt(n,o,c,s),o.child;case 11:return am(n,o,o.type,o.pendingProps,s);case 7:return tt(n,o,o.pendingProps,s),o.child;case 8:return tt(n,o,o.pendingProps.children,s),o.child;case 12:return tt(n,o,o.pendingProps.children,s),o.child;case 10:return c=o.pendingProps,$n(o,o.type,c.value),tt(n,o,c.children,s),o.child;case 9:return d=o.type._context,c=o.pendingProps.children,Ki(o),d=ct(d),c=c(d),o.flags|=1,tt(n,o,c,s),o.child;case 14:return sm(n,o,o.type,o.pendingProps,s);case 15:return lm(n,o,o.type,o.pendingProps,s);case 19:return ym(n,o,s);case 31:return c=o.pendingProps,s=o.mode,c={mode:c.mode,children:c.children},n===null?(s=Ds(c,s),s.ref=o.ref,o.child=s,s.return=o,o=s):(s=Tn(n.child,c),s.ref=o.ref,o.child=s,s.return=o,o=s),o;case 22:return um(n,o,s);case 24:return Ki(o),c=ct(Ge),n===null?(d=ju(),d===null&&(d=Re,m=qu(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=s),d=m),o.memoizedState={parent:c,cache:d},Iu(o),$n(o,Ge,d)):((n.lanes&s)!==0&&(Gu(n,o),jo(o,null,null,s),Vo()),d=n.memoizedState,m=o.memoizedState,d.parent!==c?(d={parent:c,cache:c},o.memoizedState=d,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=d),$n(o,Ge,c)):(c=m.cache,$n(o,Ge,c),c!==d.cache&&Uu(o,[Ge],s,!0))),tt(n,o,o.pendingProps.children,s),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Rn(n){n.flags|=4}function bm(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!My(o)){if(o=Jt.current,o!==null&&((be&4194048)===be?cn!==null:(be&62914560)!==be&&(be&536870912)===0||o!==cn))throw Uo=Yu,th;n.flags|=8192}}function zs(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?Qp():536870912,n.lanes|=o,Ir|=o)}function $o(n,o){if(!Se)switch(n.tailMode){case"hidden":o=n.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Be(n){var o=n.alternate!==null&&n.alternate.child===n.child,s=0,c=0;if(o)for(var d=n.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=s,o}function Iv(n,o,s){var c=o.pendingProps;switch(Bu(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(o),null;case 1:return Be(o),null;case 3:return s=o.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Cn(Ge),Gn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Ro(o)?Rn(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Qd())),Be(o),null;case 26:return s=o.memoizedState,n===null?(Rn(o),s!==null?(Be(o),bm(o,s)):(Be(o),o.flags&=-16777217)):s?s!==n.memoizedState?(Rn(o),Be(o),bm(o,s)):(Be(o),o.flags&=-16777217):(n.memoizedProps!==c&&Rn(o),Be(o),o.flags&=-16777217),null;case 27:Ia(o),s=ue.current;var d=o.type;if(n!==null&&o.stateNode!=null)n.memoizedProps!==c&&Rn(o);else{if(!c){if(o.stateNode===null)throw Error(r(166));return Be(o),null}n=ee.current,Ro(o)?$d(o):(n=by(d,c,s),o.stateNode=n,Rn(o))}return Be(o),null;case 5:if(Ia(o),s=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==c&&Rn(o);else{if(!c){if(o.stateNode===null)throw Error(r(166));return Be(o),null}if(n=ee.current,Ro(o))$d(o);else{switch(d=Ps(ue.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?d.createElement(s,{is:c.is}):d.createElement(s)}}n[ut]=o,n[Tt]=c;e:for(d=o.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break e;for(;d.sibling===null;){if(d.return===null||d.return===o)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}o.stateNode=n;e:switch(it(n,s,c),s){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Rn(o)}}return Be(o),o.flags&=-16777217,null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==c&&Rn(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(r(166));if(n=ue.current,Ro(o)){if(n=o.stateNode,s=o.memoizedProps,c=null,d=yt,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}n[ut]=o,n=!!(n.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||fy(n.nodeValue,s)),n||Ii(o)}else n=Ps(n).createTextNode(c),n[ut]=o,o.stateNode=n}return Be(o),null;case 13:if(c=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Ro(o),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(r(318));if(d=o.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[ut]=o}else Do(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Be(o),d=!1}else d=Qd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return o.flags&256?(Nn(o),o):(Nn(o),null)}if(Nn(o),(o.flags&128)!==0)return o.lanes=s,o;if(s=c!==null,n=n!==null&&n.memoizedState!==null,s){c=o.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var m=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==d&&(c.flags|=2048)}return s!==n&&s&&(o.child.flags|=8192),zs(o,o.updateQueue),Be(o),null;case 4:return Gn(),n===null&&Pc(o.stateNode.containerInfo),Be(o),null;case 10:return Cn(o.type),Be(o),null;case 19:if($(Ke),d=o.memoizedState,d===null)return Be(o),null;if(c=(o.flags&128)!==0,m=d.rendering,m===null)if(c)$o(d,!1);else{if(He!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(m=Os(n),m!==null){for(o.flags|=128,$o(d,!1),n=m.updateQueue,o.updateQueue=n,zs(o,n),o.subtreeFlags=0,n=s,s=o.child;s!==null;)Pd(s,n),s=s.sibling;return G(Ke,Ke.current&1|2),o.child}n=n.sibling}d.tail!==null&&ln()>Ls&&(o.flags|=128,c=!0,$o(d,!1),o.lanes=4194304)}else{if(!c)if(n=Os(m),n!==null){if(o.flags|=128,c=!0,n=n.updateQueue,o.updateQueue=n,zs(o,n),$o(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Se)return Be(o),null}else 2*ln()-d.renderingStartTime>Ls&&s!==536870912&&(o.flags|=128,c=!0,$o(d,!1),o.lanes=4194304);d.isBackwards?(m.sibling=o.child,o.child=m):(n=d.last,n!==null?n.sibling=m:o.child=m,d.last=m)}return d.tail!==null?(o=d.tail,d.rendering=o,d.tail=o.sibling,d.renderingStartTime=ln(),o.sibling=null,n=Ke.current,G(Ke,c?n&1|2:n&1),o):(Be(o),null);case 22:case 23:return Nn(o),$u(),c=o.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(s&536870912)!==0&&(o.flags&128)===0&&(Be(o),o.subtreeFlags&6&&(o.flags|=8192)):Be(o),s=o.updateQueue,s!==null&&zs(o,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==s&&(o.flags|=2048),n!==null&&$(Pi),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),o.memoizedState.cache!==s&&(o.flags|=2048),Cn(Ge),Be(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function Gv(n,o){switch(Bu(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Cn(Ge),Gn(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return Ia(o),null;case 13:if(Nn(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Do()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return $(Ke),null;case 4:return Gn(),null;case 10:return Cn(o.type),null;case 22:case 23:return Nn(o),$u(),n!==null&&$(Pi),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return Cn(Ge),null;case 25:return null;default:return null}}function vm(n,o){switch(Bu(o),o.tag){case 3:Cn(Ge),Gn();break;case 26:case 27:case 5:Ia(o);break;case 4:Gn();break;case 13:Nn(o);break;case 19:$(Ke);break;case 10:Cn(o.type);break;case 22:case 23:Nn(o),$u(),n!==null&&$(Pi);break;case 24:Cn(Ge)}}function Jo(n,o){try{var s=o.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var d=c.next;s=d;do{if((s.tag&n)===n){c=void 0;var m=s.create,v=s.inst;c=m(),v.destroy=c}s=s.next}while(s!==d)}}catch(x){Ne(o,o.return,x)}}function ti(n,o,s){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&n)===n){var v=c.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,d=o;var k=s,R=x;try{R()}catch(B){Ne(d,k,B)}}}c=c.next}while(c!==m)}}catch(B){Ne(o,o.return,B)}}function wm(n){var o=n.updateQueue;if(o!==null){var s=n.stateNode;try{sh(o,s)}catch(c){Ne(n,n.return,c)}}}function Sm(n,o,s){s.props=$i(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(c){Ne(n,o,c)}}function Qo(n,o){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof s=="function"?n.refCleanup=s(c):s.current=c}}catch(d){Ne(n,o,d)}}function fn(n,o){var s=n.ref,c=n.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(d){Ne(n,o,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Ne(n,o,d)}else s.current=null}function xm(n){var o=n.type,s=n.memoizedProps,c=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(d){Ne(n,n.return,d)}}function xc(n,o,s){try{var c=n.stateNode;fw(c,n.type,s,o),c[Tt]=o}catch(d){Ne(n,n.return,d)}}function Tm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ui(n.type)||n.tag===4}function Tc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Tm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ui(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ec(n,o,s){var c=n.tag;if(c===5||c===6)n=n.stateNode,o?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,o):(o=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.appendChild(n),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=Ks));else if(c!==4&&(c===27&&ui(n.type)&&(s=n.stateNode,o=null),n=n.child,n!==null))for(Ec(n,o,s),n=n.sibling;n!==null;)Ec(n,o,s),n=n.sibling}function Bs(n,o,s){var c=n.tag;if(c===5||c===6)n=n.stateNode,o?s.insertBefore(n,o):s.appendChild(n);else if(c!==4&&(c===27&&ui(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Bs(n,o,s),n=n.sibling;n!==null;)Bs(n,o,s),n=n.sibling}function Em(n){var o=n.stateNode,s=n.memoizedProps;try{for(var c=n.type,d=o.attributes;d.length;)o.removeAttributeNode(d[0]);it(o,c,s),o[ut]=n,o[Tt]=s}catch(m){Ne(n,n.return,m)}}var Dn=!1,Ve=!1,kc=!1,km=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Kv(n,o){if(n=n.containerInfo,Jc=Zs,n=Ld(n),Tu(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var v=0,x=-1,k=-1,R=0,B=0,U=n,D=null;t:for(;;){for(var z;U!==s||d!==0&&U.nodeType!==3||(x=v+d),U!==m||c!==0&&U.nodeType!==3||(k=v+c),U.nodeType===3&&(v+=U.nodeValue.length),(z=U.firstChild)!==null;)D=U,U=z;for(;;){if(U===n)break t;if(D===s&&++R===d&&(x=v),D===m&&++B===c&&(k=v),(z=U.nextSibling)!==null)break;U=D,D=U.parentNode}U=z}s=x===-1||k===-1?null:{start:x,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(Qc={focusedElem:n,selectionRange:s},Zs=!1,Je=o;Je!==null;)if(o=Je,n=o.child,(o.subtreeFlags&1024)!==0&&n!==null)n.return=o,Je=n;else for(;Je!==null;){switch(o=Je,m=o.alternate,n=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,s=o,d=m.memoizedProps,m=m.memoizedState,c=s.stateNode;try{var oe=$i(s.type,d,s.elementType===s.type);n=c.getSnapshotBeforeUpdate(oe,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(te){Ne(s,s.return,te)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,s=n.nodeType,s===9)Wc(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Wc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=o.sibling,n!==null){n.return=o.return,Je=n;break}Je=o.return}}function Mm(n,o,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:ni(n,s),c&4&&Jo(5,s);break;case 1:if(ni(n,s),c&4)if(n=s.stateNode,o===null)try{n.componentDidMount()}catch(v){Ne(s,s.return,v)}else{var d=$i(s.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(d,o,n.__reactInternalSnapshotBeforeUpdate)}catch(v){Ne(s,s.return,v)}}c&64&&wm(s),c&512&&Qo(s,s.return);break;case 3:if(ni(n,s),c&64&&(n=s.updateQueue,n!==null)){if(o=null,s.child!==null)switch(s.child.tag){case 27:case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}try{sh(n,o)}catch(v){Ne(s,s.return,v)}}break;case 27:o===null&&c&4&&Em(s);case 26:case 5:ni(n,s),o===null&&c&4&&xm(s),c&512&&Qo(s,s.return);break;case 12:ni(n,s);break;case 13:ni(n,s),c&4&&Nm(n,s),c&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=ew.bind(null,s),bw(n,s))));break;case 22:if(c=s.memoizedState!==null||Dn,!c){o=o!==null&&o.memoizedState!==null||Ve,d=Dn;var m=Ve;Dn=c,(Ve=o)&&!m?ii(n,s,(s.subtreeFlags&8772)!==0):ni(n,s),Dn=d,Ve=m}break;case 30:break;default:ni(n,s)}}function Cm(n){var o=n.alternate;o!==null&&(n.alternate=null,Cm(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&ru(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ze=null,Mt=!1;function zn(n,o,s){for(s=s.child;s!==null;)Om(n,o,s),s=s.sibling}function Om(n,o,s){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(go,s)}catch{}switch(s.tag){case 26:Ve||fn(s,o),zn(n,o,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ve||fn(s,o);var c=ze,d=Mt;ui(s.type)&&(ze=s.stateNode,Mt=!1),zn(n,o,s),oa(s.stateNode),ze=c,Mt=d;break;case 5:Ve||fn(s,o);case 6:if(c=ze,d=Mt,ze=null,zn(n,o,s),ze=c,Mt=d,ze!==null)if(Mt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(s.stateNode)}catch(m){Ne(s,o,m)}else try{ze.removeChild(s.stateNode)}catch(m){Ne(s,o,m)}break;case 18:ze!==null&&(Mt?(n=ze,yy(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),da(n)):yy(ze,s.stateNode));break;case 4:c=ze,d=Mt,ze=s.stateNode.containerInfo,Mt=!0,zn(n,o,s),ze=c,Mt=d;break;case 0:case 11:case 14:case 15:Ve||ti(2,s,o),Ve||ti(4,s,o),zn(n,o,s);break;case 1:Ve||(fn(s,o),c=s.stateNode,typeof c.componentWillUnmount=="function"&&Sm(s,o,c)),zn(n,o,s);break;case 21:zn(n,o,s);break;case 22:Ve=(c=Ve)||s.memoizedState!==null,zn(n,o,s),Ve=c;break;default:zn(n,o,s)}}function Nm(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{da(n)}catch(s){Ne(o,o.return,s)}}function Pv(n){switch(n.tag){case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new km),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new km),o;default:throw Error(r(435,n.tag))}}function Mc(n,o){var s=Pv(n);o.forEach(function(c){var d=tw.bind(null,n,c);s.has(c)||(s.add(c),c.then(d,d))})}function Lt(n,o){var s=o.deletions;if(s!==null)for(var c=0;c<s.length;c++){var d=s[c],m=n,v=o,x=v;e:for(;x!==null;){switch(x.tag){case 27:if(ui(x.type)){ze=x.stateNode,Mt=!1;break e}break;case 5:ze=x.stateNode,Mt=!1;break e;case 3:case 4:ze=x.stateNode.containerInfo,Mt=!0;break e}x=x.return}if(ze===null)throw Error(r(160));Om(m,v,d),ze=null,Mt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Am(o,n),o=o.sibling}var rn=null;function Am(n,o){var s=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Lt(o,n),Ht(n),c&4&&(ti(3,n,n.return),Jo(3,n),ti(5,n,n.return));break;case 1:Lt(o,n),Ht(n),c&512&&(Ve||s===null||fn(s,s.return)),c&64&&Dn&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var d=rn;if(Lt(o,n),Ht(n),c&512&&(Ve||s===null||fn(s,s.return)),c&4){var m=s!==null?s.memoizedState:null;if(c=n.memoizedState,s===null)if(c===null)if(n.stateNode===null){e:{c=n.type,s=n.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":m=d.getElementsByTagName("title")[0],(!m||m[wo]||m[ut]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(c),d.head.insertBefore(m,d.querySelector("head > title"))),it(m,c,s),m[ut]=n,Xe(m),c=m;break e;case"link":var v=Ey("link","href",d).get(c+(s.href||""));if(v){for(var x=0;x<v.length;x++)if(m=v[x],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(x,1);break t}}m=d.createElement(c),it(m,c,s),d.head.appendChild(m);break;case"meta":if(v=Ey("meta","content",d).get(c+(s.content||""))){for(x=0;x<v.length;x++)if(m=v[x],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(x,1);break t}}m=d.createElement(c),it(m,c,s),d.head.appendChild(m);break;default:throw Error(r(468,c))}m[ut]=n,Xe(m),c=m}n.stateNode=c}else ky(d,n.type,n.stateNode);else n.stateNode=Ty(d,c,n.memoizedProps);else m!==c?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,c===null?ky(d,n.type,n.stateNode):Ty(d,c,n.memoizedProps)):c===null&&n.stateNode!==null&&xc(n,n.memoizedProps,s.memoizedProps)}break;case 27:Lt(o,n),Ht(n),c&512&&(Ve||s===null||fn(s,s.return)),s!==null&&c&4&&xc(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Lt(o,n),Ht(n),c&512&&(Ve||s===null||fn(s,s.return)),n.flags&32){d=n.stateNode;try{Sr(d,"")}catch(z){Ne(n,n.return,z)}}c&4&&n.stateNode!=null&&(d=n.memoizedProps,xc(n,d,s!==null?s.memoizedProps:d)),c&1024&&(kc=!0);break;case 6:if(Lt(o,n),Ht(n),c&4){if(n.stateNode===null)throw Error(r(162));c=n.memoizedProps,s=n.stateNode;try{s.nodeValue=c}catch(z){Ne(n,n.return,z)}}break;case 3:if(Js=null,d=rn,rn=Xs(o.containerInfo),Lt(o,n),rn=d,Ht(n),c&4&&s!==null&&s.memoizedState.isDehydrated)try{da(o.containerInfo)}catch(z){Ne(n,n.return,z)}kc&&(kc=!1,Rm(n));break;case 4:c=rn,rn=Xs(n.stateNode.containerInfo),Lt(o,n),Ht(n),rn=c;break;case 12:Lt(o,n),Ht(n);break;case 13:Lt(o,n),Ht(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Dc=ln()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Mc(n,c)));break;case 22:d=n.memoizedState!==null;var k=s!==null&&s.memoizedState!==null,R=Dn,B=Ve;if(Dn=R||d,Ve=B||k,Lt(o,n),Ve=B,Dn=R,Ht(n),c&8192)e:for(o=n.stateNode,o._visibility=d?o._visibility&-2:o._visibility|1,d&&(s===null||k||Dn||Ve||Ji(n)),s=null,o=n;;){if(o.tag===5||o.tag===26){if(s===null){k=s=o;try{if(m=k.stateNode,d)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=k.stateNode;var U=k.memoizedProps.style,D=U!=null&&U.hasOwnProperty("display")?U.display:null;x.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(z){Ne(k,k.return,z)}}}else if(o.tag===6){if(s===null){k=o;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(z){Ne(k,k.return,z)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;s===o&&(s=null),o=o.return}s===o&&(s=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=n.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,Mc(n,s))));break;case 19:Lt(o,n),Ht(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Mc(n,c)));break;case 30:break;case 21:break;default:Lt(o,n),Ht(n)}}function Ht(n){var o=n.flags;if(o&2){try{for(var s,c=n.return;c!==null;){if(Tm(c)){s=c;break}c=c.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var d=s.stateNode,m=Tc(n);Bs(n,m,d);break;case 5:var v=s.stateNode;s.flags&32&&(Sr(v,""),s.flags&=-33);var x=Tc(n);Bs(n,x,v);break;case 3:case 4:var k=s.stateNode.containerInfo,R=Tc(n);Ec(n,R,k);break;default:throw Error(r(161))}}catch(B){Ne(n,n.return,B)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function Rm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;Rm(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function ni(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Mm(n,o.alternate,o),o=o.sibling}function Ji(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:ti(4,o,o.return),Ji(o);break;case 1:fn(o,o.return);var s=o.stateNode;typeof s.componentWillUnmount=="function"&&Sm(o,o.return,s),Ji(o);break;case 27:oa(o.stateNode);case 26:case 5:fn(o,o.return),Ji(o);break;case 22:o.memoizedState===null&&Ji(o);break;case 30:Ji(o);break;default:Ji(o)}n=n.sibling}}function ii(n,o,s){for(s=s&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,d=n,m=o,v=m.flags;switch(m.tag){case 0:case 11:case 15:ii(d,m,s),Jo(4,m);break;case 1:if(ii(d,m,s),c=m,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(R){Ne(c,c.return,R)}if(c=m,d=c.updateQueue,d!==null){var x=c.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)ah(k[d],x)}catch(R){Ne(c,c.return,R)}}s&&v&64&&wm(m),Qo(m,m.return);break;case 27:Em(m);case 26:case 5:ii(d,m,s),s&&c===null&&v&4&&xm(m),Qo(m,m.return);break;case 12:ii(d,m,s);break;case 13:ii(d,m,s),s&&v&4&&Nm(d,m);break;case 22:m.memoizedState===null&&ii(d,m,s),Qo(m,m.return);break;case 30:break;default:ii(d,m,s)}o=o.sibling}}function Cc(n,o){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&_o(s))}function Oc(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&_o(n))}function pn(n,o,s,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Dm(n,o,s,c),o=o.sibling}function Dm(n,o,s,c){var d=o.flags;switch(o.tag){case 0:case 11:case 15:pn(n,o,s,c),d&2048&&Jo(9,o);break;case 1:pn(n,o,s,c);break;case 3:pn(n,o,s,c),d&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&_o(n)));break;case 12:if(d&2048){pn(n,o,s,c),n=o.stateNode;try{var m=o.memoizedProps,v=m.id,x=m.onPostCommit;typeof x=="function"&&x(v,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){Ne(o,o.return,k)}}else pn(n,o,s,c);break;case 13:pn(n,o,s,c);break;case 23:break;case 22:m=o.stateNode,v=o.alternate,o.memoizedState!==null?m._visibility&2?pn(n,o,s,c):Fo(n,o):m._visibility&2?pn(n,o,s,c):(m._visibility|=2,Vr(n,o,s,c,(o.subtreeFlags&10256)!==0)),d&2048&&Cc(v,o);break;case 24:pn(n,o,s,c),d&2048&&Oc(o.alternate,o);break;default:pn(n,o,s,c)}}function Vr(n,o,s,c,d){for(d=d&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var m=n,v=o,x=s,k=c,R=v.flags;switch(v.tag){case 0:case 11:case 15:Vr(m,v,x,k,d),Jo(8,v);break;case 23:break;case 22:var B=v.stateNode;v.memoizedState!==null?B._visibility&2?Vr(m,v,x,k,d):Fo(m,v):(B._visibility|=2,Vr(m,v,x,k,d)),d&&R&2048&&Cc(v.alternate,v);break;case 24:Vr(m,v,x,k,d),d&&R&2048&&Oc(v.alternate,v);break;default:Vr(m,v,x,k,d)}o=o.sibling}}function Fo(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var s=n,c=o,d=c.flags;switch(c.tag){case 22:Fo(s,c),d&2048&&Cc(c.alternate,c);break;case 24:Fo(s,c),d&2048&&Oc(c.alternate,c);break;default:Fo(s,c)}o=o.sibling}}var Zo=8192;function jr(n){if(n.subtreeFlags&Zo)for(n=n.child;n!==null;)zm(n),n=n.sibling}function zm(n){switch(n.tag){case 26:jr(n),n.flags&Zo&&n.memoizedState!==null&&Rw(rn,n.memoizedState,n.memoizedProps);break;case 5:jr(n);break;case 3:case 4:var o=rn;rn=Xs(n.stateNode.containerInfo),jr(n),rn=o;break;case 22:n.memoizedState===null&&(o=n.alternate,o!==null&&o.memoizedState!==null?(o=Zo,Zo=16777216,jr(n),Zo=o):jr(n));break;default:jr(n)}}function Bm(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function Wo(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var s=0;s<o.length;s++){var c=o[s];Je=c,Lm(c,n)}Bm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_m(n),n=n.sibling}function _m(n){switch(n.tag){case 0:case 11:case 15:Wo(n),n.flags&2048&&ti(9,n,n.return);break;case 3:Wo(n);break;case 12:Wo(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,_s(n)):Wo(n);break;default:Wo(n)}}function _s(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var s=0;s<o.length;s++){var c=o[s];Je=c,Lm(c,n)}Bm(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:ti(8,o,o.return),_s(o);break;case 22:s=o.stateNode,s._visibility&2&&(s._visibility&=-3,_s(o));break;default:_s(o)}n=n.sibling}}function Lm(n,o){for(;Je!==null;){var s=Je;switch(s.tag){case 0:case 11:case 15:ti(8,s,o);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:_o(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,Je=c;else e:for(s=n;Je!==null;){c=Je;var d=c.sibling,m=c.return;if(Cm(c),c===s){Je=null;break e}if(d!==null){d.return=m,Je=d;break e}Je=m}}}var Xv={getCacheForType:function(n){var o=ct(Ge),s=o.data.get(n);return s===void 0&&(s=n(),o.data.set(n,s)),s}},$v=typeof WeakMap=="function"?WeakMap:Map,Te=0,Re=null,ye=null,be=0,Ee=0,Ut=null,ri=!1,Yr=!1,Nc=!1,Bn=0,He=0,oi=0,Qi=0,Ac=0,Qt=0,Ir=0,ea=null,Ct=null,Rc=!1,Dc=0,Ls=1/0,Hs=null,ai=null,nt=0,si=null,Gr=null,Kr=0,zc=0,Bc=null,Hm=null,ta=0,_c=null;function qt(){if((Te&2)!==0&&be!==0)return be&-be;if(L.T!==null){var n=Dr;return n!==0?n:Yc()}return Wp()}function Um(){Qt===0&&(Qt=(be&536870912)===0||Se?Jp():536870912);var n=Jt.current;return n!==null&&(n.flags|=32),Qt}function Vt(n,o,s){(n===Re&&(Ee===2||Ee===9)||n.cancelPendingCommit!==null)&&(Pr(n,0),li(n,be,Qt,!1)),vo(n,s),((Te&2)===0||n!==Re)&&(n===Re&&((Te&2)===0&&(Qi|=s),He===4&&li(n,be,Qt,!1)),dn(n))}function qm(n,o,s){if((Te&6)!==0)throw Error(r(327));var c=!s&&(o&124)===0&&(o&n.expiredLanes)===0||bo(n,o),d=c?Fv(n,o):Uc(n,o,!0),m=c;do{if(d===0){Yr&&!c&&li(n,o,0,!1);break}else{if(s=n.current.alternate,m&&!Jv(s)){d=Uc(n,o,!1),m=!1;continue}if(d===2){if(m=o,n.errorRecoveryDisabledLanes&m)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){o=v;e:{var x=n;d=ea;var k=x.current.memoizedState.isDehydrated;if(k&&(Pr(x,v).flags|=256),v=Uc(x,v,!1),v!==2){if(Nc&&!k){x.errorRecoveryDisabledLanes|=m,Qi|=m,d=4;break e}m=Ct,Ct=d,m!==null&&(Ct===null?Ct=m:Ct.push.apply(Ct,m))}d=v}if(m=!1,d!==2)continue}}if(d===1){Pr(n,0),li(n,o,0,!0);break}e:{switch(c=n,m=d,m){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:li(c,o,Qt,!ri);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(d=Dc+300-ln(),10<d)){if(li(c,o,Qt,!ri),Xa(c,0,!0)!==0)break e;c.timeoutHandle=hy(Vm.bind(null,c,s,Ct,Hs,Rc,o,Qt,Qi,Ir,ri,m,2,-0,0),d);break e}Vm(c,s,Ct,Hs,Rc,o,Qt,Qi,Ir,ri,m,0,-0,0)}}break}while(!0);dn(n)}function Vm(n,o,s,c,d,m,v,x,k,R,B,U,D,z){if(n.timeoutHandle=-1,U=o.subtreeFlags,(U&8192||(U&16785408)===16785408)&&(la={stylesheets:null,count:0,unsuspend:Aw},zm(o),U=Dw(),U!==null)){n.cancelPendingCommit=U(Xm.bind(null,n,o,m,s,c,d,v,x,k,B,1,D,z)),li(n,m,v,!R);return}Xm(n,o,m,s,c,d,v,x,k)}function Jv(n){for(var o=n;;){var s=o.tag;if((s===0||s===11||s===15)&&o.flags&16384&&(s=o.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var d=s[c],m=d.getSnapshot;d=d.value;try{if(!Bt(m(),d))return!1}catch{return!1}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function li(n,o,s,c){o&=~Ac,o&=~Qi,n.suspendedLanes|=o,n.pingedLanes&=~o,c&&(n.warmLanes|=o),c=n.expirationTimes;for(var d=o;0<d;){var m=31-zt(d),v=1<<m;c[m]=-1,d&=~v}s!==0&&Fp(n,s,o)}function Us(){return(Te&6)===0?(na(0),!1):!0}function Lc(){if(ye!==null){if(Ee===0)var n=ye.return;else n=ye,Mn=Gi=null,Wu(n),Ur=null,Po=0,n=ye;for(;n!==null;)vm(n.alternate,n),n=n.return;ye=null}}function Pr(n,o){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,dw(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Lc(),Re=n,ye=s=Tn(n.current,null),be=o,Ee=0,Ut=null,ri=!1,Yr=bo(n,o),Nc=!1,Ir=Qt=Ac=Qi=oi=He=0,Ct=ea=null,Rc=!1,(o&8)!==0&&(o|=o&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=o;0<c;){var d=31-zt(c),m=1<<d;o|=n[d],c&=~m}return Bn=o,as(),s}function jm(n,o){de=null,L.H=ks,o===Ho||o===ms?(o=rh(),Ee=3):o===th?(o=rh(),Ee=4):Ee=o===om?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ut=o,ye===null&&(He=1,As(n,Kt(o,n.current)))}function Ym(){var n=L.H;return L.H=ks,n===null?ks:n}function Im(){var n=L.A;return L.A=Xv,n}function Hc(){He=4,ri||(be&4194048)!==be&&Jt.current!==null||(Yr=!0),(oi&134217727)===0&&(Qi&134217727)===0||Re===null||li(Re,be,Qt,!1)}function Uc(n,o,s){var c=Te;Te|=2;var d=Ym(),m=Im();(Re!==n||be!==o)&&(Hs=null,Pr(n,o)),o=!1;var v=He;e:do try{if(Ee!==0&&ye!==null){var x=ye,k=Ut;switch(Ee){case 8:Lc(),v=6;break e;case 3:case 2:case 9:case 6:Jt.current===null&&(o=!0);var R=Ee;if(Ee=0,Ut=null,Xr(n,x,k,R),s&&Yr){v=0;break e}break;default:R=Ee,Ee=0,Ut=null,Xr(n,x,k,R)}}Qv(),v=He;break}catch(B){jm(n,B)}while(!0);return o&&n.shellSuspendCounter++,Mn=Gi=null,Te=c,L.H=d,L.A=m,ye===null&&(Re=null,be=0,as()),v}function Qv(){for(;ye!==null;)Gm(ye)}function Fv(n,o){var s=Te;Te|=2;var c=Ym(),d=Im();Re!==n||be!==o?(Hs=null,Ls=ln()+500,Pr(n,o)):Yr=bo(n,o);e:do try{if(Ee!==0&&ye!==null){o=ye;var m=Ut;t:switch(Ee){case 1:Ee=0,Ut=null,Xr(n,o,m,1);break;case 2:case 9:if(nh(m)){Ee=0,Ut=null,Km(o);break}o=function(){Ee!==2&&Ee!==9||Re!==n||(Ee=7),dn(n)},m.then(o,o);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:nh(m)?(Ee=0,Ut=null,Km(o)):(Ee=0,Ut=null,Xr(n,o,m,7));break;case 5:var v=null;switch(ye.tag){case 26:v=ye.memoizedState;case 5:case 27:var x=ye;if(!v||My(v)){Ee=0,Ut=null;var k=x.sibling;if(k!==null)ye=k;else{var R=x.return;R!==null?(ye=R,qs(R)):ye=null}break t}}Ee=0,Ut=null,Xr(n,o,m,5);break;case 6:Ee=0,Ut=null,Xr(n,o,m,6);break;case 8:Lc(),He=6;break e;default:throw Error(r(462))}}Zv();break}catch(B){jm(n,B)}while(!0);return Mn=Gi=null,L.H=c,L.A=d,Te=s,ye!==null?0:(Re=null,be=0,as(),He)}function Zv(){for(;ye!==null&&!w1();)Gm(ye)}function Gm(n){var o=gm(n.alternate,n,Bn);n.memoizedProps=n.pendingProps,o===null?qs(n):ye=o}function Km(n){var o=n,s=o.alternate;switch(o.tag){case 15:case 0:o=fm(s,o,o.pendingProps,o.type,void 0,be);break;case 11:o=fm(s,o,o.pendingProps,o.type.render,o.ref,be);break;case 5:Wu(o);default:vm(s,o),o=ye=Pd(o,Bn),o=gm(s,o,Bn)}n.memoizedProps=n.pendingProps,o===null?qs(n):ye=o}function Xr(n,o,s,c){Mn=Gi=null,Wu(o),Ur=null,Po=0;var d=o.return;try{if(jv(n,d,o,s,be)){He=1,As(n,Kt(s,n.current)),ye=null;return}}catch(m){if(d!==null)throw ye=d,m;He=1,As(n,Kt(s,n.current)),ye=null;return}o.flags&32768?(Se||c===1?n=!0:Yr||(be&536870912)!==0?n=!1:(ri=n=!0,(c===2||c===9||c===3||c===6)&&(c=Jt.current,c!==null&&c.tag===13&&(c.flags|=16384))),Pm(o,n)):qs(o)}function qs(n){var o=n;do{if((o.flags&32768)!==0){Pm(o,ri);return}n=o.return;var s=Iv(o.alternate,o,Bn);if(s!==null){ye=s;return}if(o=o.sibling,o!==null){ye=o;return}ye=o=n}while(o!==null);He===0&&(He=5)}function Pm(n,o){do{var s=Gv(n.alternate,n);if(s!==null){s.flags&=32767,ye=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!o&&(n=n.sibling,n!==null)){ye=n;return}ye=n=s}while(n!==null);He=6,ye=null}function Xm(n,o,s,c,d,m,v,x,k){n.cancelPendingCommit=null;do Vs();while(nt!==0);if((Te&6)!==0)throw Error(r(327));if(o!==null){if(o===n.current)throw Error(r(177));if(m=o.lanes|o.childLanes,m|=Ou,A1(n,s,m,v,x,k),n===Re&&(ye=Re=null,be=0),Gr=o,si=n,Kr=s,zc=m,Bc=d,Hm=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,nw(Ga,function(){return Zm(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=L.T,L.T=null,d=K.p,K.p=2,v=Te,Te|=4;try{Kv(n,o,s)}finally{Te=v,K.p=d,L.T=c}}nt=1,$m(),Jm(),Qm()}}function $m(){if(nt===1){nt=0;var n=si,o=Gr,s=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var c=K.p;K.p=2;var d=Te;Te|=4;try{Am(o,n);var m=Qc,v=Ld(n.containerInfo),x=m.focusedElem,k=m.selectionRange;if(v!==x&&x&&x.ownerDocument&&_d(x.ownerDocument.documentElement,x)){if(k!==null&&Tu(x)){var R=k.start,B=k.end;if(B===void 0&&(B=R),"selectionStart"in x)x.selectionStart=R,x.selectionEnd=Math.min(B,x.value.length);else{var U=x.ownerDocument||document,D=U&&U.defaultView||window;if(D.getSelection){var z=D.getSelection(),oe=x.textContent.length,te=Math.min(k.start,oe),Ce=k.end===void 0?te:Math.min(k.end,oe);!z.extend&&te>Ce&&(v=Ce,Ce=te,te=v);var N=Bd(x,te),C=Bd(x,Ce);if(N&&C&&(z.rangeCount!==1||z.anchorNode!==N.node||z.anchorOffset!==N.offset||z.focusNode!==C.node||z.focusOffset!==C.offset)){var A=U.createRange();A.setStart(N.node,N.offset),z.removeAllRanges(),te>Ce?(z.addRange(A),z.extend(C.node,C.offset)):(A.setEnd(C.node,C.offset),z.addRange(A))}}}}for(U=[],z=x;z=z.parentNode;)z.nodeType===1&&U.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<U.length;x++){var H=U[x];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Zs=!!Jc,Qc=Jc=null}finally{Te=d,K.p=c,L.T=s}}n.current=o,nt=2}}function Jm(){if(nt===2){nt=0;var n=si,o=Gr,s=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var c=K.p;K.p=2;var d=Te;Te|=4;try{Mm(n,o.alternate,o)}finally{Te=d,K.p=c,L.T=s}}nt=3}}function Qm(){if(nt===4||nt===3){nt=0,S1();var n=si,o=Gr,s=Kr,c=Hm;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?nt=5:(nt=0,Gr=si=null,Fm(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(ai=null),nu(s),o=o.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(go,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=L.T,d=K.p,K.p=2,L.T=null;try{for(var m=n.onRecoverableError,v=0;v<c.length;v++){var x=c[v];m(x.value,{componentStack:x.stack})}}finally{L.T=o,K.p=d}}(Kr&3)!==0&&Vs(),dn(n),d=n.pendingLanes,(s&4194090)!==0&&(d&42)!==0?n===_c?ta++:(ta=0,_c=n):ta=0,na(0)}}function Fm(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,_o(o)))}function Vs(n){return $m(),Jm(),Qm(),Zm()}function Zm(){if(nt!==5)return!1;var n=si,o=zc;zc=0;var s=nu(Kr),c=L.T,d=K.p;try{K.p=32>s?32:s,L.T=null,s=Bc,Bc=null;var m=si,v=Kr;if(nt=0,Gr=si=null,Kr=0,(Te&6)!==0)throw Error(r(331));var x=Te;if(Te|=4,_m(m.current),Dm(m,m.current,v,s),Te=x,na(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(go,m)}catch{}return!0}finally{K.p=d,L.T=c,Fm(n,o)}}function Wm(n,o,s){o=Kt(s,o),o=dc(n.stateNode,o,2),n=Fn(n,o,2),n!==null&&(vo(n,2),dn(n))}function Ne(n,o,s){if(n.tag===3)Wm(n,n,s);else for(;o!==null;){if(o.tag===3){Wm(o,n,s);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ai===null||!ai.has(c))){n=Kt(s,n),s=im(2),c=Fn(o,s,2),c!==null&&(rm(s,c,o,n),vo(c,2),dn(c));break}}o=o.return}}function qc(n,o,s){var c=n.pingCache;if(c===null){c=n.pingCache=new $v;var d=new Set;c.set(o,d)}else d=c.get(o),d===void 0&&(d=new Set,c.set(o,d));d.has(s)||(Nc=!0,d.add(s),n=Wv.bind(null,n,o,s),o.then(n,n))}function Wv(n,o,s){var c=n.pingCache;c!==null&&c.delete(o),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,Re===n&&(be&s)===s&&(He===4||He===3&&(be&62914560)===be&&300>ln()-Dc?(Te&2)===0&&Pr(n,0):Ac|=s,Ir===be&&(Ir=0)),dn(n)}function ey(n,o){o===0&&(o=Qp()),n=Or(n,o),n!==null&&(vo(n,o),dn(n))}function ew(n){var o=n.memoizedState,s=0;o!==null&&(s=o.retryLane),ey(n,s)}function tw(n,o){var s=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(s=d.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(o),ey(n,s)}function nw(n,o){return Zl(n,o)}var js=null,$r=null,Vc=!1,Ys=!1,jc=!1,Fi=0;function dn(n){n!==$r&&n.next===null&&($r===null?js=$r=n:$r=$r.next=n),Ys=!0,Vc||(Vc=!0,rw())}function na(n,o){if(!jc&&Ys){jc=!0;do for(var s=!1,c=js;c!==null;){if(n!==0){var d=c.pendingLanes;if(d===0)var m=0;else{var v=c.suspendedLanes,x=c.pingedLanes;m=(1<<31-zt(42|n)+1)-1,m&=d&~(v&~x),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,ry(c,m))}else m=be,m=Xa(c,c===Re?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||bo(c,m)||(s=!0,ry(c,m));c=c.next}while(s);jc=!1}}function iw(){ty()}function ty(){Ys=Vc=!1;var n=0;Fi!==0&&(pw()&&(n=Fi),Fi=0);for(var o=ln(),s=null,c=js;c!==null;){var d=c.next,m=ny(c,o);m===0?(c.next=null,s===null?js=d:s.next=d,d===null&&($r=s)):(s=c,(n!==0||(m&3)!==0)&&(Ys=!0)),c=d}na(n)}function ny(n,o){for(var s=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var v=31-zt(m),x=1<<v,k=d[v];k===-1?((x&s)===0||(x&c)!==0)&&(d[v]=N1(x,o)):k<=o&&(n.expiredLanes|=x),m&=~x}if(o=Re,s=be,s=Xa(n,n===o?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,s===0||n===o&&(Ee===2||Ee===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Wl(c),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||bo(n,s)){if(o=s&-s,o===n.callbackPriority)return o;switch(c!==null&&Wl(c),nu(s)){case 2:case 8:s=Xp;break;case 32:s=Ga;break;case 268435456:s=$p;break;default:s=Ga}return c=iy.bind(null,n),s=Zl(s,c),n.callbackPriority=o,n.callbackNode=s,o}return c!==null&&c!==null&&Wl(c),n.callbackPriority=2,n.callbackNode=null,2}function iy(n,o){if(nt!==0&&nt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Vs()&&n.callbackNode!==s)return null;var c=be;return c=Xa(n,n===Re?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(qm(n,c,o),ny(n,ln()),n.callbackNode!=null&&n.callbackNode===s?iy.bind(null,n):null)}function ry(n,o){if(Vs())return null;qm(n,o,!0)}function rw(){hw(function(){(Te&6)!==0?Zl(Pp,iw):ty()})}function Yc(){return Fi===0&&(Fi=Jp()),Fi}function oy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Za(""+n)}function ay(n,o){var s=o.ownerDocument.createElement("input");return s.name=o.name,s.value=o.value,n.id&&s.setAttribute("form",n.id),o.parentNode.insertBefore(s,o),n=new FormData(n),s.parentNode.removeChild(s),n}function ow(n,o,s,c,d){if(o==="submit"&&s&&s.stateNode===d){var m=oy((d[Tt]||null).action),v=c.submitter;v&&(o=(o=v[Tt]||null)?oy(o.formAction):v.getAttribute("formAction"),o!==null&&(m=o,v=null));var x=new ns("action","action",null,c,d);n.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Fi!==0){var k=v?ay(d,v):new FormData(d);lc(s,{pending:!0,data:k,method:d.method,action:m},null,k)}}else typeof m=="function"&&(x.preventDefault(),k=v?ay(d,v):new FormData(d),lc(s,{pending:!0,data:k,method:d.method,action:m},m,k))},currentTarget:d}]})}}for(var Ic=0;Ic<Cu.length;Ic++){var Gc=Cu[Ic],aw=Gc.toLowerCase(),sw=Gc[0].toUpperCase()+Gc.slice(1);nn(aw,"on"+sw)}nn(qd,"onAnimationEnd"),nn(Vd,"onAnimationIteration"),nn(jd,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(Ev,"onTransitionRun"),nn(kv,"onTransitionStart"),nn(Mv,"onTransitionCancel"),nn(Yd,"onTransitionEnd"),br("onMouseEnter",["mouseout","mouseover"]),br("onMouseLeave",["mouseout","mouseover"]),br("onPointerEnter",["pointerout","pointerover"]),br("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ia));function sy(n,o){o=(o&4)!==0;for(var s=0;s<n.length;s++){var c=n[s],d=c.event;c=c.listeners;e:{var m=void 0;if(o)for(var v=c.length-1;0<=v;v--){var x=c[v],k=x.instance,R=x.currentTarget;if(x=x.listener,k!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=R;try{m(d)}catch(B){Ns(B)}d.currentTarget=null,m=k}else for(v=0;v<c.length;v++){if(x=c[v],k=x.instance,R=x.currentTarget,x=x.listener,k!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=R;try{m(d)}catch(B){Ns(B)}d.currentTarget=null,m=k}}}}function ge(n,o){var s=o[iu];s===void 0&&(s=o[iu]=new Set);var c=n+"__bubble";s.has(c)||(ly(o,n,2,!1),s.add(c))}function Kc(n,o,s){var c=0;o&&(c|=4),ly(s,n,c,o)}var Is="_reactListening"+Math.random().toString(36).slice(2);function Pc(n){if(!n[Is]){n[Is]=!0,td.forEach(function(s){s!=="selectionchange"&&(lw.has(s)||Kc(s,!1,n),Kc(s,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[Is]||(o[Is]=!0,Kc("selectionchange",!1,o))}}function ly(n,o,s,c){switch(Dy(o)){case 2:var d=_w;break;case 8:d=Lw;break;default:d=sf}s=d.bind(null,o,s,n),d=void 0,!hu||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(o,s,{capture:!0,passive:d}):n.addEventListener(o,s,!0):d!==void 0?n.addEventListener(o,s,{passive:d}):n.addEventListener(o,s,!1)}function Xc(n,o,s,c,d){var m=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var x=c.stateNode.containerInfo;if(x===d)break;if(v===4)for(v=c.return;v!==null;){var k=v.tag;if((k===3||k===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;x!==null;){if(v=mr(x),v===null)return;if(k=v.tag,k===5||k===6||k===26||k===27){c=m=v;continue e}x=x.parentNode}}c=c.return}md(function(){var R=m,B=pu(s),U=[];e:{var D=Id.get(n);if(D!==void 0){var z=ns,oe=n;switch(n){case"keypress":if(es(s)===0)break e;case"keydown":case"keyup":z=nv;break;case"focusin":oe="focus",z=bu;break;case"focusout":oe="blur",z=bu;break;case"beforeblur":case"afterblur":z=bu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=G1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=ov;break;case qd:case Vd:case jd:z=X1;break;case Yd:z=sv;break;case"scroll":case"scrollend":z=Y1;break;case"wheel":z=uv;break;case"copy":case"cut":case"paste":z=J1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=wd;break;case"toggle":case"beforetoggle":z=fv}var te=(o&4)!==0,Ce=!te&&(n==="scroll"||n==="scrollend"),N=te?D!==null?D+"Capture":null:D;te=[];for(var C=R,A;C!==null;){var H=C;if(A=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||A===null||N===null||(H=xo(C,N),H!=null&&te.push(ra(C,H,A))),Ce)break;C=C.return}0<te.length&&(D=new z(D,oe,null,s,B),U.push({event:D,listeners:te}))}}if((o&7)===0){e:{if(D=n==="mouseover"||n==="pointerover",z=n==="mouseout"||n==="pointerout",D&&s!==fu&&(oe=s.relatedTarget||s.fromElement)&&(mr(oe)||oe[hr]))break e;if((z||D)&&(D=B.window===B?B:(D=B.ownerDocument)?D.defaultView||D.parentWindow:window,z?(oe=s.relatedTarget||s.toElement,z=R,oe=oe?mr(oe):null,oe!==null&&(Ce=l(oe),te=oe.tag,oe!==Ce||te!==5&&te!==27&&te!==6)&&(oe=null)):(z=null,oe=R),z!==oe)){if(te=bd,H="onMouseLeave",N="onMouseEnter",C="mouse",(n==="pointerout"||n==="pointerover")&&(te=wd,H="onPointerLeave",N="onPointerEnter",C="pointer"),Ce=z==null?D:So(z),A=oe==null?D:So(oe),D=new te(H,C+"leave",z,s,B),D.target=Ce,D.relatedTarget=A,H=null,mr(B)===R&&(te=new te(N,C+"enter",oe,s,B),te.target=A,te.relatedTarget=Ce,H=te),Ce=H,z&&oe)t:{for(te=z,N=oe,C=0,A=te;A;A=Jr(A))C++;for(A=0,H=N;H;H=Jr(H))A++;for(;0<C-A;)te=Jr(te),C--;for(;0<A-C;)N=Jr(N),A--;for(;C--;){if(te===N||N!==null&&te===N.alternate)break t;te=Jr(te),N=Jr(N)}te=null}else te=null;z!==null&&uy(U,D,z,te,!1),oe!==null&&Ce!==null&&uy(U,Ce,oe,te,!0)}}e:{if(D=R?So(R):window,z=D.nodeName&&D.nodeName.toLowerCase(),z==="select"||z==="input"&&D.type==="file")var Q=Od;else if(Md(D))if(Nd)Q=Sv;else{Q=vv;var me=bv}else z=D.nodeName,!z||z.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?R&&cu(R.elementType)&&(Q=Od):Q=wv;if(Q&&(Q=Q(n,R))){Cd(U,Q,s,B);break e}me&&me(n,D,R),n==="focusout"&&R&&D.type==="number"&&R.memoizedProps.value!=null&&uu(D,"number",D.value)}switch(me=R?So(R):window,n){case"focusin":(Md(me)||me.contentEditable==="true")&&(kr=me,Eu=R,Ao=null);break;case"focusout":Ao=Eu=kr=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,Hd(U,s,B);break;case"selectionchange":if(Tv)break;case"keydown":case"keyup":Hd(U,s,B)}var Z;if(wu)e:{switch(n){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Er?Ed(n,s)&&(ne="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(ne="onCompositionStart");ne&&(Sd&&s.locale!=="ko"&&(Er||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Er&&(Z=yd()):(Xn=B,mu="value"in Xn?Xn.value:Xn.textContent,Er=!0)),me=Gs(R,ne),0<me.length&&(ne=new vd(ne,n,null,s,B),U.push({event:ne,listeners:me}),Z?ne.data=Z:(Z=kd(s),Z!==null&&(ne.data=Z)))),(Z=dv?hv(n,s):mv(n,s))&&(ne=Gs(R,"onBeforeInput"),0<ne.length&&(me=new vd("onBeforeInput","beforeinput",null,s,B),U.push({event:me,listeners:ne}),me.data=Z)),ow(U,n,R,s,B)}sy(U,o)})}function ra(n,o,s){return{instance:n,listener:o,currentTarget:s}}function Gs(n,o){for(var s=o+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=xo(n,s),d!=null&&c.unshift(ra(n,d,m)),d=xo(n,o),d!=null&&c.push(ra(n,d,m))),n.tag===3)return c;n=n.return}return[]}function Jr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function uy(n,o,s,c,d){for(var m=o._reactName,v=[];s!==null&&s!==c;){var x=s,k=x.alternate,R=x.stateNode;if(x=x.tag,k!==null&&k===c)break;x!==5&&x!==26&&x!==27||R===null||(k=R,d?(R=xo(s,m),R!=null&&v.unshift(ra(s,R,k))):d||(R=xo(s,m),R!=null&&v.push(ra(s,R,k)))),s=s.return}v.length!==0&&n.push({event:o,listeners:v})}var uw=/\r\n?/g,cw=/\u0000|\uFFFD/g;function cy(n){return(typeof n=="string"?n:""+n).replace(uw,`
`).replace(cw,"")}function fy(n,o){return o=cy(o),cy(n)===o}function Ks(){}function Me(n,o,s,c,d,m){switch(s){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||Sr(n,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&Sr(n,""+c);break;case"className":Ja(n,"class",c);break;case"tabIndex":Ja(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ja(n,s,c);break;case"style":dd(n,c,m);break;case"data":if(o!=="object"){Ja(n,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||s!=="href")){n.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(s);break}c=Za(""+c),n.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(o!=="input"&&Me(n,o,"name",d.name,d,null),Me(n,o,"formEncType",d.formEncType,d,null),Me(n,o,"formMethod",d.formMethod,d,null),Me(n,o,"formTarget",d.formTarget,d,null)):(Me(n,o,"encType",d.encType,d,null),Me(n,o,"method",d.method,d,null),Me(n,o,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(s);break}c=Za(""+c),n.setAttribute(s,c);break;case"onClick":c!=null&&(n.onclick=Ks);break;case"onScroll":c!=null&&ge("scroll",n);break;case"onScrollEnd":c!=null&&ge("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(d.children!=null)throw Error(r(60));n.innerHTML=s}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}s=Za(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,""+c):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":c===!0?n.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,c):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(s,c):n.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(s):n.setAttribute(s,c);break;case"popover":ge("beforetoggle",n),ge("toggle",n),$a(n,"popover",c);break;case"xlinkActuate":Sn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Sn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Sn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Sn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Sn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Sn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Sn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Sn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Sn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":$a(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=V1.get(s)||s,$a(n,s,c))}}function $c(n,o,s,c,d,m){switch(s){case"style":dd(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(d.children!=null)throw Error(r(60));n.innerHTML=s}}break;case"children":typeof c=="string"?Sr(n,c):(typeof c=="number"||typeof c=="bigint")&&Sr(n,""+c);break;case"onScroll":c!=null&&ge("scroll",n);break;case"onScrollEnd":c!=null&&ge("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Ks);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),o=s.slice(2,d?s.length-7:void 0),m=n[Tt]||null,m=m!=null?m[s]:null,typeof m=="function"&&n.removeEventListener(o,m,d),typeof c=="function")){typeof m!="function"&&m!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(o,c,d);break e}s in n?n[s]=c:c===!0?n.setAttribute(s,""):$a(n,s,c)}}}function it(n,o,s){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",n),ge("load",n);var c=!1,d=!1,m;for(m in s)if(s.hasOwnProperty(m)){var v=s[m];if(v!=null)switch(m){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Me(n,o,m,v,s,null)}}d&&Me(n,o,"srcSet",s.srcSet,s,null),c&&Me(n,o,"src",s.src,s,null);return;case"input":ge("invalid",n);var x=m=v=d=null,k=null,R=null;for(c in s)if(s.hasOwnProperty(c)){var B=s[c];if(B!=null)switch(c){case"name":d=B;break;case"type":v=B;break;case"checked":k=B;break;case"defaultChecked":R=B;break;case"value":m=B;break;case"defaultValue":x=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,o));break;default:Me(n,o,c,B,s,null)}}ud(n,m,x,k,R,v,d,!1),Qa(n);return;case"select":ge("invalid",n),c=v=m=null;for(d in s)if(s.hasOwnProperty(d)&&(x=s[d],x!=null))switch(d){case"value":m=x;break;case"defaultValue":v=x;break;case"multiple":c=x;default:Me(n,o,d,x,s,null)}o=m,s=v,n.multiple=!!c,o!=null?wr(n,!!c,o,!1):s!=null&&wr(n,!!c,s,!0);return;case"textarea":ge("invalid",n),m=d=c=null;for(v in s)if(s.hasOwnProperty(v)&&(x=s[v],x!=null))switch(v){case"value":c=x;break;case"defaultValue":d=x;break;case"children":m=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:Me(n,o,v,x,s,null)}fd(n,c,d,m),Qa(n);return;case"option":for(k in s)if(s.hasOwnProperty(k)&&(c=s[k],c!=null))switch(k){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Me(n,o,k,c,s,null)}return;case"dialog":ge("beforetoggle",n),ge("toggle",n),ge("cancel",n),ge("close",n);break;case"iframe":case"object":ge("load",n);break;case"video":case"audio":for(c=0;c<ia.length;c++)ge(ia[c],n);break;case"image":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"embed":case"source":case"link":ge("error",n),ge("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in s)if(s.hasOwnProperty(R)&&(c=s[R],c!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Me(n,o,R,c,s,null)}return;default:if(cu(o)){for(B in s)s.hasOwnProperty(B)&&(c=s[B],c!==void 0&&$c(n,o,B,c,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(c=s[x],c!=null&&Me(n,o,x,c,s,null))}function fw(n,o,s,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,v=null,x=null,k=null,R=null,B=null;for(z in s){var U=s[z];if(s.hasOwnProperty(z)&&U!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":k=U;default:c.hasOwnProperty(z)||Me(n,o,z,null,c,U)}}for(var D in c){var z=c[D];if(U=s[D],c.hasOwnProperty(D)&&(z!=null||U!=null))switch(D){case"type":m=z;break;case"name":d=z;break;case"checked":R=z;break;case"defaultChecked":B=z;break;case"value":v=z;break;case"defaultValue":x=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,o));break;default:z!==U&&Me(n,o,D,z,c,U)}}lu(n,v,x,k,R,B,m,d);return;case"select":z=v=x=D=null;for(m in s)if(k=s[m],s.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":z=k;default:c.hasOwnProperty(m)||Me(n,o,m,null,c,k)}for(d in c)if(m=c[d],k=s[d],c.hasOwnProperty(d)&&(m!=null||k!=null))switch(d){case"value":D=m;break;case"defaultValue":x=m;break;case"multiple":v=m;default:m!==k&&Me(n,o,d,m,c,k)}o=x,s=v,c=z,D!=null?wr(n,!!s,D,!1):!!c!=!!s&&(o!=null?wr(n,!!s,o,!0):wr(n,!!s,s?[]:"",!1));return;case"textarea":z=D=null;for(x in s)if(d=s[x],s.hasOwnProperty(x)&&d!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Me(n,o,x,null,c,d)}for(v in c)if(d=c[v],m=s[v],c.hasOwnProperty(v)&&(d!=null||m!=null))switch(v){case"value":D=d;break;case"defaultValue":z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==m&&Me(n,o,v,d,c,m)}cd(n,D,z);return;case"option":for(var oe in s)if(D=s[oe],s.hasOwnProperty(oe)&&D!=null&&!c.hasOwnProperty(oe))switch(oe){case"selected":n.selected=!1;break;default:Me(n,o,oe,null,c,D)}for(k in c)if(D=c[k],z=s[k],c.hasOwnProperty(k)&&D!==z&&(D!=null||z!=null))switch(k){case"selected":n.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Me(n,o,k,D,c,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var te in s)D=s[te],s.hasOwnProperty(te)&&D!=null&&!c.hasOwnProperty(te)&&Me(n,o,te,null,c,D);for(R in c)if(D=c[R],z=s[R],c.hasOwnProperty(R)&&D!==z&&(D!=null||z!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,o));break;default:Me(n,o,R,D,c,z)}return;default:if(cu(o)){for(var Ce in s)D=s[Ce],s.hasOwnProperty(Ce)&&D!==void 0&&!c.hasOwnProperty(Ce)&&$c(n,o,Ce,void 0,c,D);for(B in c)D=c[B],z=s[B],!c.hasOwnProperty(B)||D===z||D===void 0&&z===void 0||$c(n,o,B,D,c,z);return}}for(var N in s)D=s[N],s.hasOwnProperty(N)&&D!=null&&!c.hasOwnProperty(N)&&Me(n,o,N,null,c,D);for(U in c)D=c[U],z=s[U],!c.hasOwnProperty(U)||D===z||D==null&&z==null||Me(n,o,U,D,c,z)}var Jc=null,Qc=null;function Ps(n){return n.nodeType===9?n:n.ownerDocument}function py(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dy(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function Fc(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Zc=null;function pw(){var n=window.event;return n&&n.type==="popstate"?n===Zc?!1:(Zc=n,!0):(Zc=null,!1)}var hy=typeof setTimeout=="function"?setTimeout:void 0,dw=typeof clearTimeout=="function"?clearTimeout:void 0,my=typeof Promise=="function"?Promise:void 0,hw=typeof queueMicrotask=="function"?queueMicrotask:typeof my<"u"?function(n){return my.resolve(null).then(n).catch(mw)}:hy;function mw(n){setTimeout(function(){throw n})}function ui(n){return n==="head"}function yy(n,o){var s=o,c=0,d=0;do{var m=s.nextSibling;if(n.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"){if(0<c&&8>c){s=c;var v=n.ownerDocument;if(s&1&&oa(v.documentElement),s&2&&oa(v.body),s&4)for(s=v.head,oa(s),v=s.firstChild;v;){var x=v.nextSibling,k=v.nodeName;v[wo]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=x}}if(d===0){n.removeChild(m),da(o);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:c=s.charCodeAt(0)-48;else c=0;s=m}while(s);da(o)}function Wc(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var s=o;switch(o=o.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Wc(s),ru(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function yw(n,o,s,c){for(;n.nodeType===1;){var d=s;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[wo])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=on(n.nextSibling),n===null)break}return null}function gw(n,o,s){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=on(n.nextSibling),n===null))return null;return n}function ef(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function bw(n,o){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")o();else{var c=function(){o(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function on(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return n}var tf=null;function gy(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return n;o--}else s==="/$"&&o++}n=n.previousSibling}return null}function by(n,o,s){switch(o=Ps(s),n){case"html":if(n=o.documentElement,!n)throw Error(r(452));return n;case"head":if(n=o.head,!n)throw Error(r(453));return n;case"body":if(n=o.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function oa(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);ru(n)}var Ft=new Map,vy=new Set;function Xs(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var _n=K.d;K.d={f:vw,r:ww,D:Sw,C:xw,L:Tw,m:Ew,X:Mw,S:kw,M:Cw};function vw(){var n=_n.f(),o=Us();return n||o}function ww(n){var o=yr(n);o!==null&&o.tag===5&&o.type==="form"?qh(o):_n.r(n)}var Qr=typeof document>"u"?null:document;function wy(n,o,s){var c=Qr;if(c&&typeof o=="string"&&o){var d=Gt(o);d='link[rel="'+n+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),vy.has(d)||(vy.add(d),n={rel:n,crossOrigin:s,href:o},c.querySelector(d)===null&&(o=c.createElement("link"),it(o,"link",n),Xe(o),c.head.appendChild(o)))}}function Sw(n){_n.D(n),wy("dns-prefetch",n,null)}function xw(n,o){_n.C(n,o),wy("preconnect",n,o)}function Tw(n,o,s){_n.L(n,o,s);var c=Qr;if(c&&n&&o){var d='link[rel="preload"][as="'+Gt(o)+'"]';o==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Gt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Gt(s.imageSizes)+'"]')):d+='[href="'+Gt(n)+'"]';var m=d;switch(o){case"style":m=Fr(n);break;case"script":m=Zr(n)}Ft.has(m)||(n=y({rel:"preload",href:o==="image"&&s&&s.imageSrcSet?void 0:n,as:o},s),Ft.set(m,n),c.querySelector(d)!==null||o==="style"&&c.querySelector(aa(m))||o==="script"&&c.querySelector(sa(m))||(o=c.createElement("link"),it(o,"link",n),Xe(o),c.head.appendChild(o)))}}function Ew(n,o){_n.m(n,o);var s=Qr;if(s&&n){var c=o&&typeof o.as=="string"?o.as:"script",d='link[rel="modulepreload"][as="'+Gt(c)+'"][href="'+Gt(n)+'"]',m=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Zr(n)}if(!Ft.has(m)&&(n=y({rel:"modulepreload",href:n},o),Ft.set(m,n),s.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(sa(m)))return}c=s.createElement("link"),it(c,"link",n),Xe(c),s.head.appendChild(c)}}}function kw(n,o,s){_n.S(n,o,s);var c=Qr;if(c&&n){var d=gr(c).hoistableStyles,m=Fr(n);o=o||"default";var v=d.get(m);if(!v){var x={loading:0,preload:null};if(v=c.querySelector(aa(m)))x.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":o},s),(s=Ft.get(m))&&nf(n,s);var k=v=c.createElement("link");Xe(k),it(k,"link",n),k._p=new Promise(function(R,B){k.onload=R,k.onerror=B}),k.addEventListener("load",function(){x.loading|=1}),k.addEventListener("error",function(){x.loading|=2}),x.loading|=4,$s(v,o,c)}v={type:"stylesheet",instance:v,count:1,state:x},d.set(m,v)}}}function Mw(n,o){_n.X(n,o);var s=Qr;if(s&&n){var c=gr(s).hoistableScripts,d=Zr(n),m=c.get(d);m||(m=s.querySelector(sa(d)),m||(n=y({src:n,async:!0},o),(o=Ft.get(d))&&rf(n,o),m=s.createElement("script"),Xe(m),it(m,"link",n),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(d,m))}}function Cw(n,o){_n.M(n,o);var s=Qr;if(s&&n){var c=gr(s).hoistableScripts,d=Zr(n),m=c.get(d);m||(m=s.querySelector(sa(d)),m||(n=y({src:n,async:!0,type:"module"},o),(o=Ft.get(d))&&rf(n,o),m=s.createElement("script"),Xe(m),it(m,"link",n),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(d,m))}}function Sy(n,o,s,c){var d=(d=ue.current)?Xs(d):null;if(!d)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(o=Fr(s.href),s=gr(d).hoistableStyles,c=s.get(o),c||(c={type:"style",instance:null,count:0,state:null},s.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Fr(s.href);var m=gr(d).hoistableStyles,v=m.get(n);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,v),(m=d.querySelector(aa(n)))&&!m._p&&(v.instance=m,v.state.loading=5),Ft.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ft.set(n,s),m||Ow(d,n,s,v.state))),o&&c===null)throw Error(r(528,""));return v}if(o&&c!==null)throw Error(r(529,""));return null;case"script":return o=s.async,s=s.src,typeof s=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Zr(s),s=gr(d).hoistableScripts,c=s.get(o),c||(c={type:"script",instance:null,count:0,state:null},s.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Fr(n){return'href="'+Gt(n)+'"'}function aa(n){return'link[rel="stylesheet"]['+n+"]"}function xy(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function Ow(n,o,s,c){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=n.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),it(o,"link",s),Xe(o),n.head.appendChild(o))}function Zr(n){return'[src="'+Gt(n)+'"]'}function sa(n){return"script[async]"+n}function Ty(n,o,s){if(o.count++,o.instance===null)switch(o.type){case"style":var c=n.querySelector('style[data-href~="'+Gt(s.href)+'"]');if(c)return o.instance=c,Xe(c),c;var d=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Xe(c),it(c,"style",d),$s(c,s.precedence,n),o.instance=c;case"stylesheet":d=Fr(s.href);var m=n.querySelector(aa(d));if(m)return o.state.loading|=4,o.instance=m,Xe(m),m;c=xy(s),(d=Ft.get(d))&&nf(c,d),m=(n.ownerDocument||n).createElement("link"),Xe(m);var v=m;return v._p=new Promise(function(x,k){v.onload=x,v.onerror=k}),it(m,"link",c),o.state.loading|=4,$s(m,s.precedence,n),o.instance=m;case"script":return m=Zr(s.src),(d=n.querySelector(sa(m)))?(o.instance=d,Xe(d),d):(c=s,(d=Ft.get(m))&&(c=y({},s),rf(c,d)),n=n.ownerDocument||n,d=n.createElement("script"),Xe(d),it(d,"link",c),n.head.appendChild(d),o.instance=d);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,$s(c,s.precedence,n));return o.instance}function $s(n,o,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,m=d,v=0;v<c.length;v++){var x=c[v];if(x.dataset.precedence===o)m=x;else if(m!==d)break}m?m.parentNode.insertBefore(n,m.nextSibling):(o=s.nodeType===9?s.head:s,o.insertBefore(n,o.firstChild))}function nf(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function rf(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var Js=null;function Ey(n,o,s){if(Js===null){var c=new Map,d=Js=new Map;d.set(s,c)}else d=Js,c=d.get(s),c||(c=new Map,d.set(s,c));if(c.has(n))return c;for(c.set(n,null),s=s.getElementsByTagName(n),d=0;d<s.length;d++){var m=s[d];if(!(m[wo]||m[ut]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(o)||"";v=n+v;var x=c.get(v);x?x.push(m):c.set(v,[m])}}return c}function ky(n,o,s){n=n.ownerDocument||n,n.head.insertBefore(s,o==="title"?n.querySelector("head > title"):null)}function Nw(n,o,s){if(s===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function My(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var la=null;function Aw(){}function Rw(n,o,s){if(la===null)throw Error(r(475));var c=la;if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Fr(s.href),m=n.querySelector(aa(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Qs.bind(c),n.then(c,c)),o.state.loading|=4,o.instance=m,Xe(m);return}m=n.ownerDocument||n,s=xy(s),(d=Ft.get(d))&&nf(s,d),m=m.createElement("link"),Xe(m);var v=m;v._p=new Promise(function(x,k){v.onload=x,v.onerror=k}),it(m,"link",s),o.instance=m}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(c.count++,o=Qs.bind(c),n.addEventListener("load",o),n.addEventListener("error",o))}}function Dw(){if(la===null)throw Error(r(475));var n=la;return n.stylesheets&&n.count===0&&of(n,n.stylesheets),0<n.count?function(o){var s=setTimeout(function(){if(n.stylesheets&&of(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(s)}}:null}function Qs(){if(this.count--,this.count===0){if(this.stylesheets)of(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Fs=null;function of(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Fs=new Map,o.forEach(zw,n),Fs=null,Qs.call(n))}function zw(n,o){if(!(o.state.loading&4)){var s=Fs.get(n);if(s)var c=s.get(null);else{s=new Map,Fs.set(n,s);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var v=d[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),c=v)}c&&s.set(null,c)}d=o.instance,v=d.getAttribute("data-precedence"),m=s.get(v)||c,m===c&&s.set(null,d),s.set(v,d),this.count++,c=Qs.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),m?m.parentNode.insertBefore(d,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),o.state.loading|=4}}var ua={$$typeof:Y,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Bw(n,o,s,c,d,m,v,x){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.hiddenUpdates=eu(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Cy(n,o,s,c,d,m,v,x,k,R,B,U){return n=new Bw(n,o,s,v,x,k,R,U),o=1,m===!0&&(o|=24),m=_t(3,null,null,o),n.current=m,m.stateNode=n,o=qu(),o.refCount++,n.pooledCache=o,o.refCount++,m.memoizedState={element:c,isDehydrated:s,cache:o},Iu(m),n}function Oy(n){return n?(n=Nr,n):Nr}function Ny(n,o,s,c,d,m){d=Oy(d),c.context===null?c.context=d:c.pendingContext=d,c=Qn(o),c.payload={element:s},m=m===void 0?null:m,m!==null&&(c.callback=m),s=Fn(n,c,o),s!==null&&(Vt(s,n,o),qo(s,n,o))}function Ay(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<o?s:o}}function af(n,o){Ay(n,o),(n=n.alternate)&&Ay(n,o)}function Ry(n){if(n.tag===13){var o=Or(n,67108864);o!==null&&Vt(o,n,67108864),af(n,67108864)}}var Zs=!0;function _w(n,o,s,c){var d=L.T;L.T=null;var m=K.p;try{K.p=2,sf(n,o,s,c)}finally{K.p=m,L.T=d}}function Lw(n,o,s,c){var d=L.T;L.T=null;var m=K.p;try{K.p=8,sf(n,o,s,c)}finally{K.p=m,L.T=d}}function sf(n,o,s,c){if(Zs){var d=lf(c);if(d===null)Xc(n,o,c,Ws,s),zy(n,c);else if(Uw(d,n,o,s,c))c.stopPropagation();else if(zy(n,c),o&4&&-1<Hw.indexOf(n)){for(;d!==null;){var m=yr(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Bi(m.pendingLanes);if(v!==0){var x=m;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var k=1<<31-zt(v);x.entanglements[1]|=k,v&=~k}dn(m),(Te&6)===0&&(Ls=ln()+500,na(0))}}break;case 13:x=Or(m,2),x!==null&&Vt(x,m,2),Us(),af(m,2)}if(m=lf(c),m===null&&Xc(n,o,c,Ws,s),m===d)break;d=m}d!==null&&c.stopPropagation()}else Xc(n,o,c,null,s)}}function lf(n){return n=pu(n),uf(n)}var Ws=null;function uf(n){if(Ws=null,n=mr(n),n!==null){var o=l(n);if(o===null)n=null;else{var s=o.tag;if(s===13){if(n=u(o),n!==null)return n;n=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return Ws=n,null}function Dy(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(x1()){case Pp:return 2;case Xp:return 8;case Ga:case T1:return 32;case $p:return 268435456;default:return 32}default:return 32}}var cf=!1,ci=null,fi=null,pi=null,ca=new Map,fa=new Map,di=[],Hw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zy(n,o){switch(n){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":ca.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":fa.delete(o.pointerId)}}function pa(n,o,s,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:o,domEventName:s,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},o!==null&&(o=yr(o),o!==null&&Ry(o)),n):(n.eventSystemFlags|=c,o=n.targetContainers,d!==null&&o.indexOf(d)===-1&&o.push(d),n)}function Uw(n,o,s,c,d){switch(o){case"focusin":return ci=pa(ci,n,o,s,c,d),!0;case"dragenter":return fi=pa(fi,n,o,s,c,d),!0;case"mouseover":return pi=pa(pi,n,o,s,c,d),!0;case"pointerover":var m=d.pointerId;return ca.set(m,pa(ca.get(m)||null,n,o,s,c,d)),!0;case"gotpointercapture":return m=d.pointerId,fa.set(m,pa(fa.get(m)||null,n,o,s,c,d)),!0}return!1}function By(n){var o=mr(n.target);if(o!==null){var s=l(o);if(s!==null){if(o=s.tag,o===13){if(o=u(s),o!==null){n.blockedOn=o,R1(n.priority,function(){if(s.tag===13){var c=qt();c=tu(c);var d=Or(s,c);d!==null&&Vt(d,s,c),af(s,c)}});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function el(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var s=lf(n.nativeEvent);if(s===null){s=n.nativeEvent;var c=new s.constructor(s.type,s);fu=c,s.target.dispatchEvent(c),fu=null}else return o=yr(s),o!==null&&Ry(o),n.blockedOn=s,!1;o.shift()}return!0}function _y(n,o,s){el(n)&&s.delete(o)}function qw(){cf=!1,ci!==null&&el(ci)&&(ci=null),fi!==null&&el(fi)&&(fi=null),pi!==null&&el(pi)&&(pi=null),ca.forEach(_y),fa.forEach(_y)}function tl(n,o){n.blockedOn===o&&(n.blockedOn=null,cf||(cf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,qw)))}var nl=null;function Ly(n){nl!==n&&(nl=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nl===n&&(nl=null);for(var o=0;o<n.length;o+=3){var s=n[o],c=n[o+1],d=n[o+2];if(typeof c!="function"){if(uf(c||s)===null)continue;break}var m=yr(s);m!==null&&(n.splice(o,3),o-=3,lc(m,{pending:!0,data:d,method:s.method,action:c},c,d))}}))}function da(n){function o(k){return tl(k,n)}ci!==null&&tl(ci,n),fi!==null&&tl(fi,n),pi!==null&&tl(pi,n),ca.forEach(o),fa.forEach(o);for(var s=0;s<di.length;s++){var c=di[s];c.blockedOn===n&&(c.blockedOn=null)}for(;0<di.length&&(s=di[0],s.blockedOn===null);)By(s),s.blockedOn===null&&di.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var d=s[c],m=s[c+1],v=d[Tt]||null;if(typeof m=="function")v||Ly(s);else if(v){var x=null;if(m&&m.hasAttribute("formAction")){if(d=m,v=m[Tt]||null)x=v.formAction;else if(uf(d)!==null)continue}else x=v.action;typeof x=="function"?s[c+1]=x:(s.splice(c,3),c-=3),Ly(s)}}}function ff(n){this._internalRoot=n}il.prototype.render=ff.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(r(409));var s=o.current,c=qt();Ny(s,c,n,o,null,null)},il.prototype.unmount=ff.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;Ny(n.current,2,null,n,null,null),Us(),o[hr]=null}};function il(n){this._internalRoot=n}il.prototype.unstable_scheduleHydration=function(n){if(n){var o=Wp();n={blockedOn:null,target:n,priority:o};for(var s=0;s<di.length&&o!==0&&o<di[s].priority;s++);di.splice(s,0,n),s===0&&By(n)}};var Hy=e.version;if(Hy!=="19.1.0")throw Error(r(527,Hy,"19.1.0"));K.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(o),n=n!==null?h(n):null,n=n===null?null:n.stateNode,n};var Vw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{go=rl.inject(Vw),Dt=rl}catch{}}return ma.createRoot=function(n,o){if(!a(n))throw Error(r(299));var s=!1,c="",d=Wh,m=em,v=tm,x=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(d=o.onUncaughtError),o.onCaughtError!==void 0&&(m=o.onCaughtError),o.onRecoverableError!==void 0&&(v=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(x=o.unstable_transitionCallbacks)),o=Cy(n,1,!1,null,null,s,c,d,m,v,x,null),n[hr]=o.current,Pc(n),new ff(o)},ma.hydrateRoot=function(n,o,s){if(!a(n))throw Error(r(299));var c=!1,d="",m=Wh,v=em,x=tm,k=null,R=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks),s.formState!==void 0&&(R=s.formState)),o=Cy(n,1,!0,o,s??null,c,d,m,v,x,k,R),o.context=Oy(null),s=o.current,c=qt(),c=tu(c),d=Qn(c),d.callback=null,Fn(s,d,c),s=c,o.current.lanes=s,vo(o,s),dn(o),n[hr]=o.current,Pc(n),new il(o)},ma.version="19.1.0",ma}var Xy;function Jw(){if(Xy)return hf.exports;Xy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hf.exports=$w(),hf.exports}var Qw=Jw();const Fw=pp(Qw);var ya={},$y;function Zw(){if($y)return ya;$y=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.parse=u,ya.serialize=h;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,S){const w=new l,T=b.length;if(T<2)return w;const E=(S==null?void 0:S.decode)||y;let O=0;do{const q=b.indexOf("=",O);if(q===-1)break;const Y=b.indexOf(";",O),J=Y===-1?T:Y;if(q>J){O=b.lastIndexOf(";",q-1)+1;continue}const I=f(b,O,q),ie=p(b,q,I),ae=b.slice(I,ie);if(w[ae]===void 0){let X=f(b,q+1,J),se=p(b,J,X);const xe=E(b.slice(X,se));w[ae]=xe}O=J+1}while(O<T);return w}function f(b,S,w){do{const T=b.charCodeAt(S);if(T!==32&&T!==9)return S}while(++S<w);return w}function p(b,S,w){for(;S>w;){const T=b.charCodeAt(--S);if(T!==32&&T!==9)return S+1}return w}function h(b,S,w){const T=(w==null?void 0:w.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const E=T(S);if(!e.test(E))throw new TypeError(`argument val is invalid: ${S}`);let O=b+"="+E;if(!w)return O;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);O+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);O+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);O+="; Path="+w.path}if(w.expires){if(!g(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);O+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(O+="; HttpOnly"),w.secure&&(O+="; Secure"),w.partitioned&&(O+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return O}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function g(b){return a.call(b)==="[object Date]"}return ya}Zw();var Jy="popstate";function Ww(i={}){function e(r,a){let{pathname:l,search:u,hash:f}=r.location;return Yf("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Ma(a)}return tS(e,t,null,i)}function _e(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function yn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eS(){return Math.random().toString(36).substring(2,10)}function Qy(i,e){return{usr:i.state,key:i.key,idx:e}}function Yf(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ho(e):e,state:t,key:e&&e.key||r||eS()}}function Ma({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function ho(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function tS(i,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,f="POP",p=null,h=y();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function y(){return(u.state||{idx:null}).idx}function g(){f="POP";let E=y(),O=E==null?null:E-h;h=E,p&&p({action:f,location:T.location,delta:O})}function b(E,O){f="PUSH";let q=Yf(T.location,E,O);h=y()+1;let Y=Qy(q,h),J=T.createHref(q);try{u.pushState(Y,"",J)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;a.location.assign(J)}l&&p&&p({action:f,location:T.location,delta:1})}function S(E,O){f="REPLACE";let q=Yf(T.location,E,O);h=y();let Y=Qy(q,h),J=T.createHref(q);u.replaceState(Y,"",J),l&&p&&p({action:f,location:T.location,delta:0})}function w(E){return nS(E)}let T={get action(){return f},get location(){return i(a,u)},listen(E){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Jy,g),p=E,()=>{a.removeEventListener(Jy,g),p=null}},createHref(E){return e(a,E)},createURL:w,encodeLocation(E){let O=w(E);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:S,go(E){return u.go(E)}};return T}function nS(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),_e(t,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Ma(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function mb(i,e,t="/"){return iS(i,e,t,!1)}function iS(i,e,t,r){let a=typeof e=="string"?ho(e):e,l=Yn(a.pathname||"/",t);if(l==null)return null;let u=yb(i);rS(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let h=mS(l);f=dS(u[p],h,r)}return f}function yb(i,e=[],t=[],r=""){let a=(l,u,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(_e(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let h=qn([r,p.relativePath]),y=t.concat(p);l.children&&l.children.length>0&&(_e(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),yb(l.children,e,y,h)),!(l.path==null&&!l.index)&&e.push({path:h,score:fS(h,l.index),routesMeta:y})};return i.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,u);else for(let p of gb(l.path))a(l,u,p)}),e}function gb(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=gb(r.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...u),f.map(p=>i.startsWith("/")&&p===""?"/":p)}function rS(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:pS(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var oS=/^:[\w-]+$/,aS=3,sS=2,lS=1,uS=10,cS=-2,Fy=i=>i==="*";function fS(i,e){let t=i.split("/"),r=t.length;return t.some(Fy)&&(r+=cS),e&&(r+=sS),t.filter(a=>!Fy(a)).reduce((a,l)=>a+(oS.test(l)?aS:l===""?lS:uS),r)}function pS(i,e){return i.length===e.length&&i.slice(0,-1).every((r,a)=>r===e[a])?i[i.length-1]-e[e.length-1]:0}function dS(i,e,t=!1){let{routesMeta:r}=i,a={},l="/",u=[];for(let f=0;f<r.length;++f){let p=r[f],h=f===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",g=wl({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},y),b=p.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=wl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!g)return null;Object.assign(a,g.params),u.push({params:a,pathname:qn([l,g.pathname]),pathnameBase:vS(qn([l,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(l=qn([l,g.pathnameBase]))}return u}function wl(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=hS(i.path,i.caseSensitive,i.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((h,{paramName:y,isOptional:g},b)=>{if(y==="*"){let w=f[b]||"";u=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const S=f[b];return g&&!S?h[y]=void 0:h[y]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:u,pattern:i}}function hS(i,e=!1,t=!0){yn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function mS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Yn(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}function yS(i,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof i=="string"?ho(i):i;return{pathname:t?t.startsWith("/")?t:gS(t,e):e,search:wS(r),hash:SS(a)}}function gS(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function bf(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bS(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bb(i){let e=bS(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function vb(i,e,t,r=!1){let a;typeof i=="string"?a=ho(i):(a={...i},_e(!a.pathname||!a.pathname.includes("?"),bf("?","pathname","search",a)),_e(!a.pathname||!a.pathname.includes("#"),bf("#","pathname","hash",a)),_e(!a.search||!a.search.includes("#"),bf("#","search","hash",a)));let l=i===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=t;else{let g=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),g-=1;a.pathname=b.join("/")}f=g>=0?e[g]:"/"}let p=yS(a,f),h=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(h||y)&&(p.pathname+="/"),p}var qn=i=>i.join("/").replace(/\/\/+/g,"/"),vS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),wS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,SS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function xS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var wb=["POST","PUT","PATCH","DELETE"];new Set(wb);var TS=["GET",...wb];new Set(TS);var mo=_.createContext(null);mo.displayName="DataRouter";var _l=_.createContext(null);_l.displayName="DataRouterState";var Sb=_.createContext({isTransitioning:!1});Sb.displayName="ViewTransition";var ES=_.createContext(new Map);ES.displayName="Fetchers";var kS=_.createContext(null);kS.displayName="Await";var vn=_.createContext(null);vn.displayName="Navigation";var Ha=_.createContext(null);Ha.displayName="Location";var In=_.createContext({outlet:null,matches:[],isDataRoute:!1});In.displayName="Route";var hp=_.createContext(null);hp.displayName="RouteError";function MS(i,{relative:e}={}){_e(Ua(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=_.useContext(vn),{hash:a,pathname:l,search:u}=qa(i,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:qn([t,l])),r.createHref({pathname:f,search:u,hash:a})}function Ua(){return _.useContext(Ha)!=null}function pr(){return _e(Ua(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Ha).location}var xb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tb(i){_.useContext(vn).static||_.useLayoutEffect(i)}function CS(){let{isDataRoute:i}=_.useContext(In);return i?VS():OS()}function OS(){_e(Ua(),"useNavigate() may be used only in the context of a <Router> component.");let i=_.useContext(mo),{basename:e,navigator:t}=_.useContext(vn),{matches:r}=_.useContext(In),{pathname:a}=pr(),l=JSON.stringify(bb(r)),u=_.useRef(!1);return Tb(()=>{u.current=!0}),_.useCallback((p,h={})=>{if(yn(u.current,xb),!u.current)return;if(typeof p=="number"){t.go(p);return}let y=vb(p,JSON.parse(l),a,h.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:qn([e,y.pathname])),(h.replace?t.replace:t.push)(y,h.state,h)},[e,t,l,a,i])}_.createContext(null);function qa(i,{relative:e}={}){let{matches:t}=_.useContext(In),{pathname:r}=pr(),a=JSON.stringify(bb(t));return _.useMemo(()=>vb(i,JSON.parse(a),r,e==="path"),[i,a,r,e])}function NS(i,e){return Eb(i,e)}function Eb(i,e,t,r){var O;_e(Ua(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(vn),{matches:l}=_.useContext(In),u=l[l.length-1],f=u?u.params:{},p=u?u.pathname:"/",h=u?u.pathnameBase:"/",y=u&&u.route;{let q=y&&y.path||"";kb(p,!y||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let g=pr(),b;if(e){let q=typeof e=="string"?ho(e):e;_e(h==="/"||((O=q.pathname)==null?void 0:O.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${q.pathname}" was given in the \`location\` prop.`),b=q}else b=g;let S=b.pathname||"/",w=S;if(h!=="/"){let q=h.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(q.length).join("/")}let T=mb(i,{pathname:w});yn(y||T!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),yn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=BS(T&&T.map(q=>Object.assign({},q,{params:Object.assign({},f,q.params),pathname:qn([h,a.encodeLocation?a.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?h:qn([h,a.encodeLocation?a.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),l,t,r);return e&&E?_.createElement(Ha.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},E):E}function AS(){let i=qS(),e=xS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:l},"ErrorBoundary")," or"," ",_.createElement("code",{style:l},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),t?_.createElement("pre",{style:a},t):null,u)}var RS=_.createElement(AS,null),DS=class extends _.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?_.createElement(In.Provider,{value:this.props.routeContext},_.createElement(hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zS({routeContext:i,match:e,children:t}){let r=_.useContext(mo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(In.Provider,{value:i},t)}function BS(i,e=[],t=null,r=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let a=i,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);_e(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,f=-1;if(t)for(let p=0;p<a.length;p++){let h=a[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=p),h.route.id){let{loaderData:y,errors:g}=t,b=h.route.loader&&!y.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,h,y)=>{let g,b=!1,S=null,w=null;t&&(g=l&&h.route.id?l[h.route.id]:void 0,S=h.route.errorElement||RS,u&&(f<0&&y===0?(kb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):f===y&&(b=!0,w=h.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,y+1)),E=()=>{let O;return g?O=S:b?O=w:h.route.Component?O=_.createElement(h.route.Component,null):h.route.element?O=h.route.element:O=p,_.createElement(zS,{match:h,routeContext:{outlet:p,matches:T,isDataRoute:t!=null},children:O})};return t&&(h.route.ErrorBoundary||h.route.errorElement||y===0)?_.createElement(DS,{location:t.location,revalidation:t.revalidation,component:S,error:g,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}function mp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _S(i){let e=_.useContext(mo);return _e(e,mp(i)),e}function LS(i){let e=_.useContext(_l);return _e(e,mp(i)),e}function HS(i){let e=_.useContext(In);return _e(e,mp(i)),e}function yp(i){let e=HS(i),t=e.matches[e.matches.length-1];return _e(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function US(){return yp("useRouteId")}function qS(){var r;let i=_.useContext(hp),e=LS("useRouteError"),t=yp("useRouteError");return i!==void 0?i:(r=e.errors)==null?void 0:r[t]}function VS(){let{router:i}=_S("useNavigate"),e=yp("useNavigate"),t=_.useRef(!1);return Tb(()=>{t.current=!0}),_.useCallback(async(a,l={})=>{yn(t.current,xb),t.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...l}))},[i,e])}var Zy={};function kb(i,e,t){!e&&!Zy[i]&&(Zy[i]=!0,yn(!1,t))}_.memo(jS);function jS({routes:i,future:e,state:t}){return Eb(i,void 0,t,e)}function If(i){_e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YS({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){_e(!Ua(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=i.replace(/^\/*/,"/"),f=_.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof t=="string"&&(t=ho(t));let{pathname:p="/",search:h="",hash:y="",state:g=null,key:b="default"}=t,S=_.useMemo(()=>{let w=Yn(p,u);return w==null?null:{location:{pathname:w,search:h,hash:y,state:g,key:b},navigationType:r}},[u,p,h,y,g,b,r]);return yn(S!=null,`<Router basename="${u}"> is not able to match the URL "${p}${h}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:_.createElement(vn.Provider,{value:f},_.createElement(Ha.Provider,{children:e,value:S}))}function IS({children:i,location:e}){return NS(Gf(i),e)}function Gf(i,e=[]){let t=[];return _.Children.forEach(i,(r,a)=>{if(!_.isValidElement(r))return;let l=[...e,a];if(r.type===_.Fragment){t.push.apply(t,Gf(r.props.children,l));return}_e(r.type===If,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_e(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Gf(r.props.children,l)),t.push(u)}),t}var hl="get",ml="application/x-www-form-urlencoded";function Ll(i){return i!=null&&typeof i.tagName=="string"}function GS(i){return Ll(i)&&i.tagName.toLowerCase()==="button"}function KS(i){return Ll(i)&&i.tagName.toLowerCase()==="form"}function PS(i){return Ll(i)&&i.tagName.toLowerCase()==="input"}function XS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function $S(i,e){return i.button===0&&(!e||e==="_self")&&!XS(i)}var ol=null;function JS(){if(ol===null)try{new FormData(document.createElement("form"),0),ol=!1}catch{ol=!0}return ol}var QS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vf(i){return i!=null&&!QS.has(i)?(yn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ml}"`),null):i}function FS(i,e){let t,r,a,l,u;if(KS(i)){let f=i.getAttribute("action");r=f?Yn(f,e):null,t=i.getAttribute("method")||hl,a=vf(i.getAttribute("enctype"))||ml,l=new FormData(i)}else if(GS(i)||PS(i)&&(i.type==="submit"||i.type==="image")){let f=i.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||f.getAttribute("action");if(r=p?Yn(p,e):null,t=i.getAttribute("formmethod")||f.getAttribute("method")||hl,a=vf(i.getAttribute("formenctype"))||vf(f.getAttribute("enctype"))||ml,l=new FormData(f,i),!JS()){let{name:h,type:y,value:g}=i;if(y==="image"){let b=h?`${h}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else h&&l.append(h,g)}}else{if(Ll(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hl,r=null,a=ml,u=i}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:u}}function gp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function ZS(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ex(i,e,t){let r=await Promise.all(i.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await ZS(l,t);return u.links?u.links():[]}return[]}));return rx(r.flat(1).filter(WS).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Wy(i,e,t,r,a,l){let u=(p,h)=>t[h]?p.route.id!==t[h].route.id:!0,f=(p,h)=>{var y;return t[h].pathname!==p.pathname||((y=t[h].route.path)==null?void 0:y.endsWith("*"))&&t[h].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,h)=>u(p,h)||f(p,h)):l==="data"?e.filter((p,h)=>{var g;let y=r.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(u(p,h)||f(p,h))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function tx(i,e,{includeHydrateFallback:t}={}){return nx(i.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function nx(i){return[...new Set(i)]}function ix(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function rx(i,e){let t=new Set;return new Set(e),i.reduce((r,a)=>{let l=JSON.stringify(ix(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ox=new Set([100,101,204,205]);function ax(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&Yn(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Mb(){let i=_.useContext(mo);return gp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function sx(){let i=_.useContext(_l);return gp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var bp=_.createContext(void 0);bp.displayName="FrameworkContext";function Cb(){let i=_.useContext(bp);return gp(i,"You must render this element inside a <HydratedRouter> element"),i}function lx(i,e){let t=_.useContext(bp),[r,a]=_.useState(!1),[l,u]=_.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:h,onMouseLeave:y,onTouchStart:g}=e,b=_.useRef(null);_.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let T=O=>{O.forEach(q=>{u(q.isIntersecting)})},E=new IntersectionObserver(T,{threshold:.5});return b.current&&E.observe(b.current),()=>{E.disconnect()}}},[i]),_.useEffect(()=>{if(r){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[r]);let S=()=>{a(!0)},w=()=>{a(!1),u(!1)};return t?i!=="intent"?[l,b,{}]:[l,b,{onFocus:ga(f,S),onBlur:ga(p,w),onMouseEnter:ga(h,S),onMouseLeave:ga(y,w),onTouchStart:ga(g,S)}]:[!1,b,{}]}function ga(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function ux({page:i,...e}){let{router:t}=Mb(),r=_.useMemo(()=>mb(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?_.createElement(fx,{page:i,matches:r,...e}):null}function cx(i){let{manifest:e,routeModules:t}=Cb(),[r,a]=_.useState([]);return _.useEffect(()=>{let l=!1;return ex(i,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[i,e,t]),r}function fx({page:i,matches:e,...t}){let r=pr(),{manifest:a,routeModules:l}=Cb(),{basename:u}=Mb(),{loaderData:f,matches:p}=sx(),h=_.useMemo(()=>Wy(i,e,p,a,r,"data"),[i,e,p,a,r]),y=_.useMemo(()=>Wy(i,e,p,a,r,"assets"),[i,e,p,a,r]),g=_.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let w=new Set,T=!1;if(e.forEach(O=>{var Y;let q=a.routes[O.route.id];!q||!q.hasLoader||(!h.some(J=>J.route.id===O.route.id)&&O.route.id in f&&((Y=l[O.route.id])!=null&&Y.shouldRevalidate)||q.hasClientLoader?T=!0:w.add(O.route.id))}),w.size===0)return[];let E=ax(i,u);return T&&w.size>0&&E.searchParams.set("_routes",e.filter(O=>w.has(O.route.id)).map(O=>O.route.id).join(",")),[E.pathname+E.search]},[u,f,r,a,h,e,i,l]),b=_.useMemo(()=>tx(y,a),[y,a]),S=cx(y);return _.createElement(_.Fragment,null,g.map(w=>_.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),b.map(w=>_.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),S.map(({key:w,link:T})=>_.createElement("link",{key:w,...T})))}function px(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ob=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ob&&(window.__reactRouterVersion="7.6.2")}catch{}function dx({basename:i,children:e,window:t}){let r=_.useRef();r.current==null&&(r.current=Ww({window:t,v5Compat:!0}));let a=r.current,[l,u]=_.useState({action:a.action,location:a.location}),f=_.useCallback(p=>{_.startTransition(()=>u(p))},[u]);return _.useLayoutEffect(()=>a.listen(f),[a,f]),_.createElement(YS,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:a})}var Nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sl=_.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:f,target:p,to:h,preventScrollReset:y,viewTransition:g,...b},S){let{basename:w}=_.useContext(vn),T=typeof h=="string"&&Nb.test(h),E,O=!1;if(typeof h=="string"&&T&&(E=h,Ob))try{let se=new URL(window.location.href),xe=h.startsWith("//")?new URL(se.protocol+h):new URL(h),xt=Yn(xe.pathname,w);xe.origin===se.origin&&xt!=null?h=xt+xe.search+xe.hash:O=!0}catch{yn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=MS(h,{relative:a}),[Y,J,I]=lx(r,b),ie=gx(h,{replace:u,state:f,target:p,preventScrollReset:y,relative:a,viewTransition:g});function ae(se){e&&e(se),se.defaultPrevented||ie(se)}let X=_.createElement("a",{...b,...I,href:E||q,onClick:O||l?e:ae,ref:px(S,J),target:p,"data-discover":!T&&t==="render"?"true":void 0});return Y&&!T?_.createElement(_.Fragment,null,X,_.createElement(ux,{page:q})):X});Sl.displayName="Link";var hx=_.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:f,children:p,...h},y){let g=qa(u,{relative:h.relative}),b=pr(),S=_.useContext(_l),{navigator:w,basename:T}=_.useContext(vn),E=S!=null&&xx(g)&&f===!0,O=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,q=b.pathname,Y=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(q=q.toLowerCase(),Y=Y?Y.toLowerCase():null,O=O.toLowerCase()),Y&&T&&(Y=Yn(Y,T)||Y);const J=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let I=q===O||!a&&q.startsWith(O)&&q.charAt(J)==="/",ie=Y!=null&&(Y===O||!a&&Y.startsWith(O)&&Y.charAt(O.length)==="/"),ae={isActive:I,isPending:ie,isTransitioning:E},X=I?e:void 0,se;typeof r=="function"?se=r(ae):se=[r,I?"active":null,ie?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let xe=typeof l=="function"?l(ae):l;return _.createElement(Sl,{...h,"aria-current":X,className:se,ref:y,style:xe,to:u,viewTransition:f},typeof p=="function"?p(ae):p)});hx.displayName="NavLink";var mx=_.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:u=hl,action:f,onSubmit:p,relative:h,preventScrollReset:y,viewTransition:g,...b},S)=>{let w=wx(),T=Sx(f,{relative:h}),E=u.toLowerCase()==="get"?"get":"post",O=typeof f=="string"&&Nb.test(f),q=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let J=Y.nativeEvent.submitter,I=(J==null?void 0:J.getAttribute("formmethod"))||u;w(J||Y.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:a,state:l,relative:h,preventScrollReset:y,viewTransition:g})};return _.createElement("form",{ref:S,method:E,action:T,onSubmit:r?p:q,...b,"data-discover":!O&&i==="render"?"true":void 0})});mx.displayName="Form";function yx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ab(i){let e=_.useContext(mo);return _e(e,yx(i)),e}function gx(i,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=CS(),p=pr(),h=qa(i,{relative:l});return _.useCallback(y=>{if($S(y,e)){y.preventDefault();let g=t!==void 0?t:Ma(p)===Ma(h);f(i,{replace:g,state:r,preventScrollReset:a,relative:l,viewTransition:u})}},[p,f,h,t,r,e,i,a,l,u])}var bx=0,vx=()=>`__${String(++bx)}__`;function wx(){let{router:i}=Ab("useSubmit"),{basename:e}=_.useContext(vn),t=US();return _.useCallback(async(r,a={})=>{let{action:l,method:u,encType:f,formData:p,body:h}=FS(r,e);if(a.navigate===!1){let y=a.fetcherKey||vx();await i.fetch(y,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:h,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await i.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:h,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,t])}function Sx(i,{relative:e}={}){let{basename:t}=_.useContext(vn),r=_.useContext(In);_e(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...qa(i||".",{relative:e})},u=pr();if(i==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(g=>g).forEach(g=>f.append("index",g));let y=f.toString();l.search=y?`?${y}`:""}}return(!i||i===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:qn([t,l.pathname])),Ma(l)}function xx(i,e={}){let t=_.useContext(Sb);_e(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ab("useViewTransitionState"),a=qa(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Yn(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Yn(t.nextLocation.pathname,r)||t.nextLocation.pathname;return wl(a.pathname,u)!=null||wl(a.pathname,l)!=null}[...ox];var Tx=hb();const Ex=pp(Tx);function kx(){return ce.jsxs("div",{className:"about-me-container",children:[ce.jsx("h1",{children:"About Me"}),ce.jsx("p",{children:"Hello! I'm [Your Name/Nickname], and this is my personal page."}),ce.jsx("p",{children:"I'm interested in [Your Interests/Skills]."}),ce.jsx("p",{children:"Welcome to my corner of the web!"})]})}function rt(i){this.content=i}rt.prototype={constructor:rt,find:function(i){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===i)return e;return-1},get:function(i){var e=this.find(i);return e==-1?void 0:this.content[e+1]},update:function(i,e,t){var r=t&&t!=i?this.remove(t):this,a=r.find(i),l=r.content.slice();return a==-1?l.push(t||i,e):(l[a+1]=e,t&&(l[a]=t)),new rt(l)},remove:function(i){var e=this.find(i);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new rt(t)},addToStart:function(i,e){return new rt([i,e].concat(this.remove(i).content))},addToEnd:function(i,e){var t=this.remove(i).content.slice();return t.push(i,e),new rt(t)},addBefore:function(i,e,t){var r=this.remove(e),a=r.content.slice(),l=r.find(i);return a.splice(l==-1?a.length:l,0,e,t),new rt(a)},forEach:function(i){for(var e=0;e<this.content.length;e+=2)i(this.content[e],this.content[e+1])},prepend:function(i){return i=rt.from(i),i.size?new rt(i.content.concat(this.subtract(i).content)):this},append:function(i){return i=rt.from(i),i.size?new rt(this.subtract(i).content.concat(i.content)):this},subtract:function(i){var e=this;i=rt.from(i);for(var t=0;t<i.content.length;t+=2)e=e.remove(i.content[t]);return e},toObject:function(){var i={};return this.forEach(function(e,t){i[e]=t}),i},get size(){return this.content.length>>1}};rt.from=function(i){if(i instanceof rt)return i;var e=[];if(i)for(var t in i)e.push(t,i[t]);return new rt(e)};function Rb(i,e,t){for(let r=0;;r++){if(r==i.childCount||r==e.childCount)return i.childCount==e.childCount?null:t;let a=i.child(r),l=e.child(r);if(a==l){t+=a.nodeSize;continue}if(!a.sameMarkup(l))return t;if(a.isText&&a.text!=l.text){for(let u=0;a.text[u]==l.text[u];u++)t++;return t}if(a.content.size||l.content.size){let u=Rb(a.content,l.content,t+1);if(u!=null)return u}t+=a.nodeSize}}function Db(i,e,t,r){for(let a=i.childCount,l=e.childCount;;){if(a==0||l==0)return a==l?null:{a:t,b:r};let u=i.child(--a),f=e.child(--l),p=u.nodeSize;if(u==f){t-=p,r-=p;continue}if(!u.sameMarkup(f))return{a:t,b:r};if(u.isText&&u.text!=f.text){let h=0,y=Math.min(u.text.length,f.text.length);for(;h<y&&u.text[u.text.length-h-1]==f.text[f.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(u.content.size||f.content.size){let h=Db(u.content,f.content,t-1,r-1);if(h)return h}t-=p,r-=p}}class j{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,a=0,l){for(let u=0,f=0;f<t;u++){let p=this.content[u],h=f+p.nodeSize;if(h>e&&r(p,a+f,l||null,u)!==!1&&p.content.size){let y=f+1;p.nodesBetween(Math.max(0,e-y),Math.min(p.content.size,t-y),r,a+y)}f=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,a){let l="",u=!0;return this.nodesBetween(e,t,(f,p)=>{let h=f.isText?f.text.slice(Math.max(e,p)-p,t-p):f.isLeaf?a?typeof a=="function"?a(f):a:f.type.spec.leafText?f.type.spec.leafText(f):"":"";f.isBlock&&(f.isLeaf&&h||f.isTextblock)&&r&&(u?u=!1:l+=r),l+=h},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,a=this.content.slice(),l=0;for(t.isText&&t.sameMarkup(r)&&(a[a.length-1]=t.withText(t.text+r.text),l=1);l<e.content.length;l++)a.push(e.content[l]);return new j(a,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],a=0;if(t>e)for(let l=0,u=0;u<t;l++){let f=this.content[l],p=u+f.nodeSize;p>e&&((u<e||p>t)&&(f.isText?f=f.cut(Math.max(0,e-u),Math.min(f.text.length,t-u)):f=f.cut(Math.max(0,e-u-1),Math.min(f.content.size,t-u-1))),r.push(f),a+=f.nodeSize),u=p}return new j(r,a)}cutByIndex(e,t){return e==t?j.empty:e==0&&t==this.content.length?this:new j(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let a=this.content.slice(),l=this.size+t.nodeSize-r.nodeSize;return a[e]=t,new j(a,l)}addToStart(e){return new j([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new j(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let a=this.content[t];e(a,r,t),r+=a.nodeSize}}findDiffStart(e,t=0){return Rb(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return Db(this,e,t,r)}findIndex(e,t=-1){if(e==0)return al(0,e);if(e==this.size)return al(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,a=0;;r++){let l=this.child(r),u=a+l.nodeSize;if(u>=e)return u==e||t>0?al(r+1,u):al(r,a);a=u}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return j.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new j(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return j.empty;let t,r=0;for(let a=0;a<e.length;a++){let l=e[a];r+=l.nodeSize,a&&l.isText&&e[a-1].sameMarkup(l)?(t||(t=e.slice(0,a)),t[t.length-1]=l.withText(t[t.length-1].text+l.text)):t&&t.push(l)}return new j(t||e,r)}static from(e){if(!e)return j.empty;if(e instanceof j)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new j([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}j.empty=new j([],0);const wf={index:0,offset:0};function al(i,e){return wf.index=i,wf.offset=e,wf}function xl(i,e){if(i===e)return!0;if(!(i&&typeof i=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(i);if(Array.isArray(e)!=t)return!1;if(t){if(i.length!=e.length)return!1;for(let r=0;r<i.length;r++)if(!xl(i[r],e[r]))return!1}else{for(let r in i)if(!(r in e)||!xl(i[r],e[r]))return!1;for(let r in e)if(!(r in i))return!1}return!0}let Ae=class Kf{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let a=0;a<e.length;a++){let l=e[a];if(this.eq(l))return e;if(this.type.excludes(l.type))t||(t=e.slice(0,a));else{if(l.type.excludes(this.type))return e;!r&&l.type.rank>this.type.rank&&(t||(t=e.slice(0,a)),t.push(this),r=!0),t&&t.push(l)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&xl(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let a=r.create(t.attrs);return r.checkAttrs(a.attrs),a}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Kf.none;if(e instanceof Kf)return[e];let t=e.slice();return t.sort((r,a)=>r.type.rank-a.type.rank),t}};Ae.none=[];class Tl extends Error{}class P{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=Bb(this.content,e+this.openStart,t);return r&&new P(r,this.openStart,this.openEnd)}removeBetween(e,t){return new P(zb(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return P.empty;let r=t.openStart||0,a=t.openEnd||0;if(typeof r!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new P(j.fromJSON(e,t.content),r,a)}static maxOpen(e,t=!0){let r=0,a=0;for(let l=e.firstChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.firstChild)r++;for(let l=e.lastChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.lastChild)a++;return new P(e,r,a)}}P.empty=new P(j.empty,0,0);function zb(i,e,t){let{index:r,offset:a}=i.findIndex(e),l=i.maybeChild(r),{index:u,offset:f}=i.findIndex(t);if(a==e||l.isText){if(f!=t&&!i.child(u).isText)throw new RangeError("Removing non-flat range");return i.cut(0,e).append(i.cut(t))}if(r!=u)throw new RangeError("Removing non-flat range");return i.replaceChild(r,l.copy(zb(l.content,e-a-1,t-a-1)))}function Bb(i,e,t,r){let{index:a,offset:l}=i.findIndex(e),u=i.maybeChild(a);if(l==e||u.isText)return i.cut(0,e).append(t).append(i.cut(e));let f=Bb(u.content,e-l-1,t);return f&&i.replaceChild(a,u.copy(f))}function Mx(i,e,t){if(t.openStart>i.depth)throw new Tl("Inserted content deeper than insertion position");if(i.depth-t.openStart!=e.depth-t.openEnd)throw new Tl("Inconsistent open depths");return _b(i,e,t,0)}function _b(i,e,t,r){let a=i.index(r),l=i.node(r);if(a==e.index(r)&&r<i.depth-t.openStart){let u=_b(i,e,t,r+1);return l.copy(l.content.replaceChild(a,u))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&i.depth==r&&e.depth==r){let u=i.parent,f=u.content;return rr(u,f.cut(0,i.parentOffset).append(t.content).append(f.cut(e.parentOffset)))}else{let{start:u,end:f}=Cx(t,i);return rr(l,Hb(i,u,f,e,r))}else return rr(l,El(i,e,r))}function Lb(i,e){if(!e.type.compatibleContent(i.type))throw new Tl("Cannot join "+e.type.name+" onto "+i.type.name)}function Pf(i,e,t){let r=i.node(t);return Lb(r,e.node(t)),r}function ir(i,e){let t=e.length-1;t>=0&&i.isText&&i.sameMarkup(e[t])?e[t]=i.withText(e[t].text+i.text):e.push(i)}function xa(i,e,t,r){let a=(e||i).node(t),l=0,u=e?e.index(t):a.childCount;i&&(l=i.index(t),i.depth>t?l++:i.textOffset&&(ir(i.nodeAfter,r),l++));for(let f=l;f<u;f++)ir(a.child(f),r);e&&e.depth==t&&e.textOffset&&ir(e.nodeBefore,r)}function rr(i,e){return i.type.checkContent(e),i.copy(e)}function Hb(i,e,t,r,a){let l=i.depth>a&&Pf(i,e,a+1),u=r.depth>a&&Pf(t,r,a+1),f=[];return xa(null,i,a,f),l&&u&&e.index(a)==t.index(a)?(Lb(l,u),ir(rr(l,Hb(i,e,t,r,a+1)),f)):(l&&ir(rr(l,El(i,e,a+1)),f),xa(e,t,a,f),u&&ir(rr(u,El(t,r,a+1)),f)),xa(r,null,a,f),new j(f)}function El(i,e,t){let r=[];if(xa(null,i,t,r),i.depth>t){let a=Pf(i,e,t+1);ir(rr(a,El(i,e,t+1)),r)}return xa(e,null,t,r),new j(r)}function Cx(i,e){let t=e.depth-i.openStart,a=e.node(t).copy(i.content);for(let l=t-1;l>=0;l--)a=e.node(l).copy(j.from(a));return{start:a.resolveNoCache(i.openStart+t),end:a.resolveNoCache(a.content.size-i.openEnd-t)}}class Ca{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],a=e.child(t);return r?e.child(t).cut(r):a}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],a=t==0?0:this.path[t*3-1]+1;for(let l=0;l<e;l++)a+=r.child(l).nodeSize;return a}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Ae.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),a=e.maybeChild(t);if(!r){let f=r;r=a,a=f}let l=r.marks;for(var u=0;u<l.length;u++)l[u].type.spec.inclusive===!1&&(!a||!l[u].isInSet(a.marks))&&(l=l[u--].removeFromSet(l));return l}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,a=e.parent.maybeChild(e.index());for(var l=0;l<r.length;l++)r[l].type.spec.inclusive===!1&&(!a||!r[l].isInSet(a.marks))&&(r=r[l--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new kl(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],a=0,l=t;for(let u=e;;){let{index:f,offset:p}=u.content.findIndex(l),h=l-p;if(r.push(u,f,a+p),!h||(u=u.child(f),u.isText))break;l=h-1,a+=p+1}return new Ca(t,r,l)}static resolveCached(e,t){let r=eg.get(e);if(r)for(let l=0;l<r.elts.length;l++){let u=r.elts[l];if(u.pos==t)return u}else eg.set(e,r=new Ox);let a=r.elts[r.i]=Ca.resolve(e,t);return r.i=(r.i+1)%Nx,a}}class Ox{constructor(){this.elts=[],this.i=0}}const Nx=12,eg=new WeakMap;class kl{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Ax=Object.create(null);let xi=class Xf{constructor(e,t,r,a=Ae.none){this.type=e,this.attrs=t,this.marks=a,this.content=r||j.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,a=0){this.content.nodesBetween(e,t,r,a,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,a){return this.content.textBetween(e,t,r,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&xl(this.attrs,t||e.defaultAttrs||Ax)&&Ae.sameSet(this.marks,r||Ae.none)}copy(e=null){return e==this.content?this:new Xf(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Xf(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return P.empty;let a=this.resolve(e),l=this.resolve(t),u=r?0:a.sharedDepth(t),f=a.start(u),h=a.node(u).content.cut(a.pos-f,l.pos-f);return new P(h,a.depth-u,l.depth-u)}replace(e,t,r){return Mx(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:a}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(a==e||t.isText)return t;e-=a+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let a=this.content.child(t-1);return{node:a,index:t-1,offset:r-a.nodeSize}}resolve(e){return Ca.resolveCached(this,e)}resolveNoCache(e){return Ca.resolve(this,e)}rangeHasMark(e,t,r){let a=!1;return t>e&&this.nodesBetween(e,t,l=>(r.isInSet(l.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Ub(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=j.empty,a=0,l=r.childCount){let u=this.contentMatchAt(e).matchFragment(r,a,l),f=u&&u.matchFragment(this.content,t);if(!f||!f.validEnd)return!1;for(let p=a;p<l;p++)if(!this.type.allowsMarks(r.child(p).marks))return!1;return!0}canReplaceWith(e,t,r,a){if(a&&!this.type.allowsMarks(a))return!1;let l=this.contentMatchAt(e).matchType(r),u=l&&l.matchFragment(this.content,t);return u?u.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ae.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ae.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let a=j.fromJSON(e,t.content),l=e.nodeType(t.type).create(t.attrs,a,r);return l.type.checkAttrs(l.attrs),l}};xi.prototype.text=void 0;class Ml extends xi{constructor(e,t,r,a){if(super(e,t,null,a),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Ub(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ml(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ml(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Ub(i,e){for(let t=i.length-1;t>=0;t--)e=i[t].type.name+"("+e+")";return e}class lr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new Rx(e,t);if(r.next==null)return lr.empty;let a=qb(r);r.next&&r.err("Unexpected trailing text");let l=Ux(Hx(a));return qx(l,r),l}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let a=this;for(let l=t;a&&l<r;l++)a=a.matchType(e.child(l).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let a=[this];function l(u,f){let p=u.matchFragment(e,r);if(p&&(!t||p.validEnd))return j.from(f.map(h=>h.createAndFill()));for(let h=0;h<u.next.length;h++){let{type:y,next:g}=u.next[h];if(!(y.isText||y.hasRequiredAttrs())&&a.indexOf(g)==-1){a.push(g);let b=l(g,f.concat(y));if(b)return b}}return null}return l(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let a=r.shift(),l=a.match;if(l.matchType(e)){let u=[];for(let f=a;f.type;f=f.via)u.push(f.type);return u.reverse()}for(let u=0;u<l.next.length;u++){let{type:f,next:p}=l.next[u];!f.isLeaf&&!f.hasRequiredAttrs()&&!(f.name in t)&&(!a.type||p.validEnd)&&(r.push({match:f.contentMatch,type:f,via:a}),t[f.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let a=0;a<r.next.length;a++)e.indexOf(r.next[a].next)==-1&&t(r.next[a].next)}return t(this),e.map((r,a)=>{let l=a+(r.validEnd?"*":" ")+" ";for(let u=0;u<r.next.length;u++)l+=(u?", ":"")+r.next[u].type.name+"->"+e.indexOf(r.next[u].next);return l}).join(`
`)}}lr.empty=new lr(!0);class Rx{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function qb(i){let e=[];do e.push(Dx(i));while(i.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Dx(i){let e=[];do e.push(zx(i));while(i.next&&i.next!=")"&&i.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function zx(i){let e=Lx(i);for(;;)if(i.eat("+"))e={type:"plus",expr:e};else if(i.eat("*"))e={type:"star",expr:e};else if(i.eat("?"))e={type:"opt",expr:e};else if(i.eat("{"))e=Bx(i,e);else break;return e}function tg(i){/\D/.test(i.next)&&i.err("Expected number, got '"+i.next+"'");let e=Number(i.next);return i.pos++,e}function Bx(i,e){let t=tg(i),r=t;return i.eat(",")&&(i.next!="}"?r=tg(i):r=-1),i.eat("}")||i.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function _x(i,e){let t=i.nodeTypes,r=t[e];if(r)return[r];let a=[];for(let l in t){let u=t[l];u.isInGroup(e)&&a.push(u)}return a.length==0&&i.err("No node type or group '"+e+"' found"),a}function Lx(i){if(i.eat("(")){let e=qb(i);return i.eat(")")||i.err("Missing closing paren"),e}else if(/\W/.test(i.next))i.err("Unexpected token '"+i.next+"'");else{let e=_x(i,i.next).map(t=>(i.inline==null?i.inline=t.isInline:i.inline!=t.isInline&&i.err("Mixing inline and block content"),{type:"name",value:t}));return i.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Hx(i){let e=[[]];return a(l(i,0),t()),e;function t(){return e.push([])-1}function r(u,f,p){let h={term:p,to:f};return e[u].push(h),h}function a(u,f){u.forEach(p=>p.to=f)}function l(u,f){if(u.type=="choice")return u.exprs.reduce((p,h)=>p.concat(l(h,f)),[]);if(u.type=="seq")for(let p=0;;p++){let h=l(u.exprs[p],f);if(p==u.exprs.length-1)return h;a(h,f=t())}else if(u.type=="star"){let p=t();return r(f,p),a(l(u.expr,p),p),[r(p)]}else if(u.type=="plus"){let p=t();return a(l(u.expr,f),p),a(l(u.expr,p),p),[r(p)]}else{if(u.type=="opt")return[r(f)].concat(l(u.expr,f));if(u.type=="range"){let p=f;for(let h=0;h<u.min;h++){let y=t();a(l(u.expr,p),y),p=y}if(u.max==-1)a(l(u.expr,p),p);else for(let h=u.min;h<u.max;h++){let y=t();r(p,y),a(l(u.expr,p),y),p=y}return[r(p)]}else{if(u.type=="name")return[r(f,void 0,u.value)];throw new Error("Unknown expr type")}}}}function Vb(i,e){return e-i}function ng(i,e){let t=[];return r(e),t.sort(Vb);function r(a){let l=i[a];if(l.length==1&&!l[0].term)return r(l[0].to);t.push(a);for(let u=0;u<l.length;u++){let{term:f,to:p}=l[u];!f&&t.indexOf(p)==-1&&r(p)}}}function Ux(i){let e=Object.create(null);return t(ng(i,0));function t(r){let a=[];r.forEach(u=>{i[u].forEach(({term:f,to:p})=>{if(!f)return;let h;for(let y=0;y<a.length;y++)a[y][0]==f&&(h=a[y][1]);ng(i,p).forEach(y=>{h||a.push([f,h=[]]),h.indexOf(y)==-1&&h.push(y)})})});let l=e[r.join(",")]=new lr(r.indexOf(i.length-1)>-1);for(let u=0;u<a.length;u++){let f=a[u][1].sort(Vb);l.next.push({type:a[u][0],next:e[f.join(",")]||t(f)})}return l}}function qx(i,e){for(let t=0,r=[i];t<r.length;t++){let a=r[t],l=!a.validEnd,u=[];for(let f=0;f<a.next.length;f++){let{type:p,next:h}=a.next[f];u.push(p.name),l&&!(p.isText||p.hasRequiredAttrs())&&(l=!1),r.indexOf(h)==-1&&r.push(h)}l&&e.err("Only non-generatable nodes ("+u.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function jb(i){let e=Object.create(null);for(let t in i){let r=i[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function Yb(i,e){let t=Object.create(null);for(let r in i){let a=e&&e[r];if(a===void 0){let l=i[r];if(l.hasDefault)a=l.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=a}return t}function Ib(i,e,t,r){for(let a in e)if(!(a in i))throw new RangeError(`Unsupported attribute ${a} for ${t} of type ${a}`);for(let a in i){let l=i[a];l.validate&&l.validate(e[a])}}function Gb(i,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new jx(i,r,e[r]);return t}let ig=class Kb{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Gb(e,r.attrs),this.defaultAttrs=jb(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==lr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Yb(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new xi(this,this.computeAttrs(e),j.from(t),Ae.setFrom(r))}createChecked(e=null,t,r){return t=j.from(t),this.checkContent(t),new xi(this,this.computeAttrs(e),t,Ae.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=j.from(t),t.size){let u=this.contentMatch.fillBefore(t);if(!u)return null;t=u.append(t)}let a=this.contentMatch.matchFragment(t),l=a&&a.fillBefore(j.empty,!0);return l?new xi(this,e,t.append(l),Ae.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Ib(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Ae.none:e}static compile(e,t){let r=Object.create(null);e.forEach((l,u)=>r[l]=new Kb(l,t,u));let a=t.spec.topNode||"doc";if(!r[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let l in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Vx(i,e,t){let r=t.split("|");return a=>{let l=a===null?"null":typeof a;if(r.indexOf(l)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${i}, got ${l}`)}}class jx{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Vx(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Hl{constructor(e,t,r,a){this.name=e,this.rank=t,this.schema=r,this.spec=a,this.attrs=Gb(e,a.attrs),this.excluded=null;let l=jb(this.attrs);this.instance=l?new Ae(this,l):null}create(e=null){return!e&&this.instance?this.instance:new Ae(this,Yb(this.attrs,e))}static compile(e,t){let r=Object.create(null),a=0;return e.forEach((l,u)=>r[l]=new Hl(l,a++,t,u)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Ib(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Pb{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let a in e)t[a]=e[a];t.nodes=rt.from(e.nodes),t.marks=rt.from(e.marks||{}),this.nodes=ig.compile(this.spec.nodes,this),this.marks=Hl.compile(this.spec.marks,this);let r=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let l=this.nodes[a],u=l.spec.content||"",f=l.spec.marks;if(l.contentMatch=r[u]||(r[u]=lr.parse(u,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=f=="_"?null:f?rg(this,f.split(" ")):f==""||!l.inlineContent?[]:null}for(let a in this.marks){let l=this.marks[a],u=l.spec.excludes;l.excluded=u==null?[l]:u==""?[]:rg(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,a){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof ig){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,a)}text(e,t){let r=this.nodes.text;return new Ml(r,r.defaultAttrs,e,Ae.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return xi.fromJSON(this,e)}markFromJSON(e){return Ae.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function rg(i,e){let t=[];for(let r=0;r<e.length;r++){let a=e[r],l=i.marks[a],u=l;if(l)t.push(l);else for(let f in i.marks){let p=i.marks[f];(a=="_"||p.spec.group&&p.spec.group.split(" ").indexOf(a)>-1)&&t.push(u=p)}if(!u)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function Yx(i){return i.tag!=null}function Ix(i){return i.style!=null}class Ti{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(a=>{if(Yx(a))this.tags.push(a);else if(Ix(a)){let l=/[^=]*/.exec(a.style)[0];r.indexOf(l)<0&&r.push(l),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let l=e.nodes[a.node];return l.contentMatch.matchType(l)})}parse(e,t={}){let r=new ag(this,t,!1);return r.addAll(e,Ae.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new ag(this,t,!0);return r.addAll(e,Ae.none,t.from,t.to),P.maxOpen(r.finish())}matchTag(e,t,r){for(let a=r?this.tags.indexOf(r)+1:0;a<this.tags.length;a++){let l=this.tags[a];if(Px(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||t.matchesContext(l.context))){if(l.getAttrs){let u=l.getAttrs(e);if(u===!1)continue;l.attrs=u||void 0}return l}}}matchStyle(e,t,r,a){for(let l=a?this.styles.indexOf(a)+1:0;l<this.styles.length;l++){let u=this.styles[l],f=u.style;if(!(f.indexOf(e)!=0||u.context&&!r.matchesContext(u.context)||f.length>e.length&&(f.charCodeAt(e.length)!=61||f.slice(e.length+1)!=t))){if(u.getAttrs){let p=u.getAttrs(t);if(p===!1)continue;u.attrs=p||void 0}return u}}}static schemaRules(e){let t=[];function r(a){let l=a.priority==null?50:a.priority,u=0;for(;u<t.length;u++){let f=t[u];if((f.priority==null?50:f.priority)<l)break}t.splice(u,0,a)}for(let a in e.marks){let l=e.marks[a].spec.parseDOM;l&&l.forEach(u=>{r(u=sg(u)),u.mark||u.ignore||u.clearMark||(u.mark=a)})}for(let a in e.nodes){let l=e.nodes[a].spec.parseDOM;l&&l.forEach(u=>{r(u=sg(u)),u.node||u.ignore||u.mark||(u.node=a)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ti(e,Ti.schemaRules(e)))}}const Xb={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Gx={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},$b={ol:!0,ul:!0},Oa=1,$f=2,Ta=4;function og(i,e,t){return e!=null?(e?Oa:0)|(e==="full"?$f:0):i&&i.whitespace=="pre"?Oa|$f:t&~Ta}class sl{constructor(e,t,r,a,l,u){this.type=e,this.attrs=t,this.marks=r,this.solid=a,this.options=u,this.content=[],this.activeMarks=Ae.none,this.match=l||(u&Ta?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(j.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,a;return(a=r.findWrapping(e.type))?(this.match=r,a):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Oa)){let r=this.content[this.content.length-1],a;if(r&&r.isText&&(a=/[ \t\r\n\u000c]+$/.exec(r.text))){let l=r;r.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-a[0].length))}}let t=j.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(j.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Xb.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ag{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let a=t.topNode,l,u=og(null,t.preserveWhitespace,0)|(r?Ta:0);a?l=new sl(a.type,a.attrs,Ae.none,!0,t.topMatch||a.type.contentMatch,u):r?l=new sl(null,null,Ae.none,!0,null,u):l=new sl(e.schema.topNodeType,null,Ae.none,!0,null,u),this.nodes=[l],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,a=this.top,l=a.options&$f?"full":this.localPreserveWS||(a.options&Oa)>0;if(l==="full"||a.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(l)l!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let u=a.content[a.content.length-1],f=e.previousSibling;(!u||f&&f.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let a=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let u=e.nodeName.toLowerCase(),f;$b.hasOwnProperty(u)&&this.parser.normalizeLists&&Kx(e);let p=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(f=this.parser.matchTag(e,this,r));e:if(p?p.ignore:Gx.hasOwnProperty(u))this.findInside(e),this.ignoreFallback(e,t);else if(!p||p.skip||p.closeParent){p&&p.closeParent?this.open=Math.max(0,this.open-1):p&&p.skip.nodeType&&(e=p.skip);let h,y=this.needsBlock;if(Xb.hasOwnProperty(u))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),h=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let g=p&&p.skip?t:this.readStyles(e,t);g&&this.addAll(e,g),h&&this.sync(l),this.needsBlock=y}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,p,h,p.consuming===!1?f:void 0)}this.localPreserveWS=a}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let l=this.parser.matchedStyles[a],u=r.getPropertyValue(l);if(u)for(let f=void 0;;){let p=this.parser.matchStyle(l,u,this,f);if(!p)break;if(p.ignore)return null;if(p.clearMark?t=t.filter(h=>!p.clearMark(h)):t=t.concat(this.parser.schema.marks[p.mark].create(p.attrs)),p.consuming===!1)f=p;else break}}return t}addElementByRule(e,t,r,a){let l,u;if(t.node)if(u=this.parser.schema.nodes[t.node],u.isLeaf)this.insertNode(u.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let p=this.enter(u,t.attrs||null,r,t.preserveWhitespace);p&&(l=!0,r=p)}else{let p=this.parser.schema.marks[t.mark];r=r.concat(p.create(t.attrs))}let f=this.top;if(u&&u.isLeaf)this.findInside(e);else if(a)this.addElement(e,r,a);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(p=>this.insertNode(p,r,!1));else{let p=e;typeof t.contentElement=="string"?p=e.querySelector(t.contentElement):typeof t.contentElement=="function"?p=t.contentElement(e):t.contentElement&&(p=t.contentElement),this.findAround(e,p,!0),this.addAll(p,r),this.findAround(e,p,!1)}l&&this.sync(f)&&this.open--}addAll(e,t,r,a){let l=r||0;for(let u=r?e.childNodes[r]:e.firstChild,f=a==null?null:e.childNodes[a];u!=f;u=u.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(u,t);this.findAtPoint(e,l)}findPlace(e,t,r){let a,l;for(let u=this.open,f=0;u>=0;u--){let p=this.nodes[u],h=p.findWrapping(e);if(h&&(!a||a.length>h.length+f)&&(a=h,l=p,!h.length))break;if(p.solid){if(r)break;f+=2}}if(!a)return null;this.sync(l);for(let u=0;u<a.length;u++)t=this.enterInner(a[u],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(t=this.enterInner(l,null,t))}let a=this.findPlace(e,t,r);if(a){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(e.type));let u=Ae.none;for(let f of a.concat(e.marks))(l.type?l.type.allowsMarkType(f.type):lg(f.type,e.type))&&(u=f.addToSet(u));return l.content.push(e.mark(u)),!0}return!1}enter(e,t,r,a){let l=this.findPlace(e.create(t),r,!1);return l&&(l=this.enterInner(e,t,r,!0,a)),l}enterInner(e,t,r,a=!1,l){this.closeExtra();let u=this.top;u.match=u.match&&u.match.matchType(e);let f=og(e,l,u.options);u.options&Ta&&u.content.length==0&&(f|=Ta);let p=Ae.none;return r=r.filter(h=>(u.type?u.type.allowsMarkType(h.type):lg(h.type,e))?(p=h.addToSet(p),!1):!0),this.nodes.push(new sl(e,t,p,a,null,f)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Oa)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let a=r.length-1;a>=0;a--)e+=r[a].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&e.nodeType==1&&e.contains(this.find[a].node)&&t.compareDocumentPosition(this.find[a].node)&(r?2:4)&&(this.find[a].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,a=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),l=-(r?r.depth+1:0)+(a?0:1),u=(f,p)=>{for(;f>=0;f--){let h=t[f];if(h==""){if(f==t.length-1||f==0)continue;for(;p>=l;p--)if(u(f-1,p))return!0;return!1}else{let y=p>0||p==0&&a?this.nodes[p].type:r&&p>=l?r.node(p-l).type:null;if(!y||y.name!=h&&!y.isInGroup(h))return!1;p--}}return!0};return u(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function Kx(i){for(let e=i.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&$b.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function Px(i,e){return(i.matches||i.msMatchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector).call(i,e)}function sg(i){let e={};for(let t in i)e[t]=i[t];return e}function lg(i,e){let t=e.schema.nodes;for(let r in t){let a=t[r];if(!a.allowsMarkType(i))continue;let l=[],u=f=>{l.push(f);for(let p=0;p<f.edgeCount;p++){let{type:h,next:y}=f.edge(p);if(h==e||l.indexOf(y)<0&&u(y))return!0}};if(u(a.contentMatch))return!0}}class dr{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Sf(t).createDocumentFragment());let a=r,l=[];return e.forEach(u=>{if(l.length||u.marks.length){let f=0,p=0;for(;f<l.length&&p<u.marks.length;){let h=u.marks[p];if(!this.marks[h.type.name]){p++;continue}if(!h.eq(l[f][0])||h.type.spec.spanning===!1)break;f++,p++}for(;f<l.length;)a=l.pop()[1];for(;p<u.marks.length;){let h=u.marks[p++],y=this.serializeMark(h,u.isInline,t);y&&(l.push([h,a]),a.appendChild(y.dom),a=y.contentDOM||y.dom)}}a.appendChild(this.serializeNodeInner(u,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:a}=yl(Sf(t),this.nodes[e.type.name](e),null,e.attrs);if(a){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,a)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let a=e.marks.length-1;a>=0;a--){let l=this.serializeMark(e.marks[a],e.isInline,t);l&&((l.contentDOM||l.dom).appendChild(r),r=l.dom)}return r}serializeMark(e,t,r={}){let a=this.marks[e.type.name];return a&&yl(Sf(r),a(e,t),null,e.attrs)}static renderSpec(e,t,r=null,a){return yl(e,t,r,a)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new dr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=ug(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return ug(e.marks)}}function ug(i){let e={};for(let t in i){let r=i[t].spec.toDOM;r&&(e[t]=r)}return e}function Sf(i){return i.document||window.document}const cg=new WeakMap;function Xx(i){let e=cg.get(i);return e===void 0&&cg.set(i,e=$x(i)),e}function $x(i){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let a=0;a<r.length;a++)t(r[a]);else for(let a in r)t(r[a])}return t(i),e}function yl(i,e,t,r){if(typeof e=="string")return{dom:i.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let a=e[0],l;if(typeof a!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(l=Xx(r))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let u=a.indexOf(" ");u>0&&(t=a.slice(0,u),a=a.slice(u+1));let f,p=t?i.createElementNS(t,a):i.createElement(a),h=e[1],y=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){y=2;for(let g in h)if(h[g]!=null){let b=g.indexOf(" ");b>0?p.setAttributeNS(g.slice(0,b),g.slice(b+1),h[g]):p.setAttribute(g,h[g])}}for(let g=y;g<e.length;g++){let b=e[g];if(b===0){if(g<e.length-1||g>y)throw new RangeError("Content hole must be the only child of its parent node");return{dom:p,contentDOM:p}}else{let{dom:S,contentDOM:w}=yl(i,b,t,r);if(p.appendChild(S),w){if(f)throw new RangeError("Multiple content holes");f=w}}}return{dom:p,contentDOM:f}}const Jb=65535,Qb=Math.pow(2,16);function Jx(i,e){return i+e*Qb}function fg(i){return i&Jb}function Qx(i){return(i-(i&Jb))/Qb}const Fb=1,Zb=2,gl=4,Wb=8;class Jf{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&Wb)>0}get deletedBefore(){return(this.delInfo&(Fb|gl))>0}get deletedAfter(){return(this.delInfo&(Zb|gl))>0}get deletedAcross(){return(this.delInfo&gl)>0}}class jt{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&jt.empty)return jt.empty}recover(e){let t=0,r=fg(e);if(!this.inverted)for(let a=0;a<r;a++)t+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[r*3]+t+Qx(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let a=0,l=this.inverted?2:1,u=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let p=this.ranges[f]-(this.inverted?a:0);if(p>e)break;let h=this.ranges[f+l],y=this.ranges[f+u],g=p+h;if(e<=g){let b=h?e==p?-1:e==g?1:t:t,S=p+a+(b<0?0:y);if(r)return S;let w=e==(t<0?p:g)?null:Jx(f/3,e-p),T=e==p?Zb:e==g?Fb:gl;return(t<0?e!=p:e!=g)&&(T|=Wb),new Jf(S,T,w)}a+=y-h}return r?e+a:new Jf(e+a,0,null)}touches(e,t){let r=0,a=fg(t),l=this.inverted?2:1,u=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let p=this.ranges[f]-(this.inverted?r:0);if(p>e)break;let h=this.ranges[f+l],y=p+h;if(e<=y&&f==a*3)return!0;r+=this.ranges[f+u]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let a=0,l=0;a<this.ranges.length;a+=3){let u=this.ranges[a],f=u-(this.inverted?l:0),p=u+(this.inverted?0:l),h=this.ranges[a+t],y=this.ranges[a+r];e(f,f+h,p,p+y),l+=y-h}}invert(){return new jt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?jt.empty:new jt(e<0?[0,-e,0]:[0,0,e])}}jt.empty=new jt([]);class Na{constructor(e,t,r=0,a=e?e.length:0){this.mirror=t,this.from=r,this.to=a,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Na(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let a=e.getMirror(t);this.appendMap(e._maps[t],a!=null&&a<t?r+a:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let a=e.getMirror(t);this.appendMap(e._maps[t].invert(),a!=null&&a>t?r-a-1:void 0)}}invert(){let e=new Na;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let a=0;for(let l=this.from;l<this.to;l++){let u=this._maps[l],f=u.mapResult(e,t);if(f.recover!=null){let p=this.getMirror(l);if(p!=null&&p>l&&p<this.to){l=p,e=this._maps[p].recover(f.recover);continue}}a|=f.delInfo,e=f.pos}return r?e:new Jf(e,a,null)}}const xf=Object.create(null);class mt{getMap(){return jt.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=xf[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in xf)throw new RangeError("Duplicate use of step JSON ID "+e);return xf[e]=t,t.prototype.jsonID=e,t}}class Ie{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Ie(e,null)}static fail(e){return new Ie(null,e)}static fromReplace(e,t,r,a){try{return Ie.ok(e.replace(t,r,a))}catch(l){if(l instanceof Tl)return Ie.fail(l.message);throw l}}}function vp(i,e,t){let r=[];for(let a=0;a<i.childCount;a++){let l=i.child(a);l.content.size&&(l=l.copy(vp(l.content,e,l))),l.isInline&&(l=e(l,t,a)),r.push(l)}return j.fromArray(r)}class vi extends mt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),a=r.node(r.sharedDepth(this.to)),l=new P(vp(t.content,(u,f)=>!u.isAtom||!f.type.allowsMarkType(this.mark.type)?u:u.mark(this.mark.addToSet(u.marks)),a),t.openStart,t.openEnd);return Ie.fromReplace(e,this.from,this.to,l)}invert(){return new mn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new vi(t.pos,r.pos,this.mark)}merge(e){return e instanceof vi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new vi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new vi(t.from,t.to,e.markFromJSON(t.mark))}}mt.jsonID("addMark",vi);class mn extends mt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new P(vp(t.content,a=>a.mark(this.mark.removeFromSet(a.marks)),e),t.openStart,t.openEnd);return Ie.fromReplace(e,this.from,this.to,r)}invert(){return new vi(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new mn(t.pos,r.pos,this.mark)}merge(e){return e instanceof mn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new mn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new mn(t.from,t.to,e.markFromJSON(t.mark))}}mt.jsonID("removeMark",mn);class wi extends mt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ie.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Ie.fromReplace(e,this.pos,this.pos+1,new P(j.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let a=0;a<t.marks.length;a++)if(!t.marks[a].isInSet(r))return new wi(this.pos,t.marks[a]);return new wi(this.pos,this.mark)}}return new ur(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new wi(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new wi(t.pos,e.markFromJSON(t.mark))}}mt.jsonID("addNodeMark",wi);class ur extends mt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ie.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Ie.fromReplace(e,this.pos,this.pos+1,new P(j.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new wi(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ur(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ur(t.pos,e.markFromJSON(t.mark))}}mt.jsonID("removeNodeMark",ur);class Fe extends mt{constructor(e,t,r,a=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=a}apply(e){return this.structure&&Qf(e,this.from,this.to)?Ie.fail("Structure replace would overwrite content"):Ie.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new jt([this.from,this.to-this.from,this.slice.size])}invert(e){return new Fe(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Fe(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Fe)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?P.empty:new P(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Fe(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?P.empty:new P(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Fe(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Fe(t.from,t.to,P.fromJSON(e,t.slice),!!t.structure)}}mt.jsonID("replace",Fe);class Ze extends mt{constructor(e,t,r,a,l,u,f=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=a,this.slice=l,this.insert=u,this.structure=f}apply(e){if(this.structure&&(Qf(e,this.from,this.gapFrom)||Qf(e,this.gapTo,this.to)))return Ie.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Ie.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Ie.fromReplace(e,this.from,this.to,r):Ie.fail("Content does not fit in gap")}getMap(){return new jt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Ze(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),a=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||a<t.pos||l>r.pos?null:new Ze(t.pos,r.pos,a,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ze(t.from,t.to,t.gapFrom,t.gapTo,P.fromJSON(e,t.slice),t.insert,!!t.structure)}}mt.jsonID("replaceAround",Ze);function Qf(i,e,t){let r=i.resolve(e),a=t-e,l=r.depth;for(;a>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,a--;if(a>0){let u=r.node(l).maybeChild(r.indexAfter(l));for(;a>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,a--}}return!1}function Fx(i,e,t,r){let a=[],l=[],u,f;i.doc.nodesBetween(e,t,(p,h,y)=>{if(!p.isInline)return;let g=p.marks;if(!r.isInSet(g)&&y.type.allowsMarkType(r.type)){let b=Math.max(h,e),S=Math.min(h+p.nodeSize,t),w=r.addToSet(g);for(let T=0;T<g.length;T++)g[T].isInSet(w)||(u&&u.to==b&&u.mark.eq(g[T])?u.to=S:a.push(u=new mn(b,S,g[T])));f&&f.to==b?f.to=S:l.push(f=new vi(b,S,r))}}),a.forEach(p=>i.step(p)),l.forEach(p=>i.step(p))}function Zx(i,e,t,r){let a=[],l=0;i.doc.nodesBetween(e,t,(u,f)=>{if(!u.isInline)return;l++;let p=null;if(r instanceof Hl){let h=u.marks,y;for(;y=r.isInSet(h);)(p||(p=[])).push(y),h=y.removeFromSet(h)}else r?r.isInSet(u.marks)&&(p=[r]):p=u.marks;if(p&&p.length){let h=Math.min(f+u.nodeSize,t);for(let y=0;y<p.length;y++){let g=p[y],b;for(let S=0;S<a.length;S++){let w=a[S];w.step==l-1&&g.eq(a[S].style)&&(b=w)}b?(b.to=h,b.step=l):a.push({style:g,from:Math.max(f,e),to:h,step:l})}}}),a.forEach(u=>i.step(new mn(u.from,u.to,u.style)))}function wp(i,e,t,r=t.contentMatch,a=!0){let l=i.doc.nodeAt(e),u=[],f=e+1;for(let p=0;p<l.childCount;p++){let h=l.child(p),y=f+h.nodeSize,g=r.matchType(h.type);if(!g)u.push(new Fe(f,y,P.empty));else{r=g;for(let b=0;b<h.marks.length;b++)t.allowsMarkType(h.marks[b].type)||i.step(new mn(f,y,h.marks[b]));if(a&&h.isText&&t.whitespace!="pre"){let b,S=/\r?\n|\r/g,w;for(;b=S.exec(h.text);)w||(w=new P(j.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),u.push(new Fe(f+b.index,f+b.index+b[0].length,w))}}f=y}if(!r.validEnd){let p=r.fillBefore(j.empty,!0);i.replace(f,f,new P(p,0,0))}for(let p=u.length-1;p>=0;p--)i.step(u[p])}function Wx(i,e,t){return(e==0||i.canReplace(e,i.childCount))&&(t==i.childCount||i.canReplace(0,t))}function yo(i){let t=i.parent.content.cutByIndex(i.startIndex,i.endIndex);for(let r=i.depth;;--r){let a=i.$from.node(r),l=i.$from.index(r),u=i.$to.indexAfter(r);if(r<i.depth&&a.canReplace(l,u,t))return r;if(r==0||a.type.spec.isolating||!Wx(a,l,u))break}return null}function eT(i,e,t){let{$from:r,$to:a,depth:l}=e,u=r.before(l+1),f=a.after(l+1),p=u,h=f,y=j.empty,g=0;for(let w=l,T=!1;w>t;w--)T||r.index(w)>0?(T=!0,y=j.from(r.node(w).copy(y)),g++):p--;let b=j.empty,S=0;for(let w=l,T=!1;w>t;w--)T||a.after(w+1)<a.end(w)?(T=!0,b=j.from(a.node(w).copy(b)),S++):h++;i.step(new Ze(p,h,u,f,new P(y.append(b),g,S),y.size-g,!0))}function Sp(i,e,t=null,r=i){let a=tT(i,e),l=a&&nT(r,e);return l?a.map(pg).concat({type:e,attrs:t}).concat(l.map(pg)):null}function pg(i){return{type:i,attrs:null}}function tT(i,e){let{parent:t,startIndex:r,endIndex:a}=i,l=t.contentMatchAt(r).findWrapping(e);if(!l)return null;let u=l.length?l[0]:e;return t.canReplaceWith(r,a,u)?l:null}function nT(i,e){let{parent:t,startIndex:r,endIndex:a}=i,l=t.child(r),u=e.contentMatch.findWrapping(l.type);if(!u)return null;let p=(u.length?u[u.length-1]:e).contentMatch;for(let h=r;p&&h<a;h++)p=p.matchType(t.child(h).type);return!p||!p.validEnd?null:u}function iT(i,e,t){let r=j.empty;for(let u=t.length-1;u>=0;u--){if(r.size){let f=t[u].type.contentMatch.matchFragment(r);if(!f||!f.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=j.from(t[u].type.create(t[u].attrs,r))}let a=e.start,l=e.end;i.step(new Ze(a,l,a,l,new P(r,0,0),t.length,!0))}function rT(i,e,t,r,a){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=i.steps.length;i.doc.nodesBetween(e,t,(u,f)=>{let p=typeof a=="function"?a(u):a;if(u.isTextblock&&!u.hasMarkup(r,p)&&oT(i.doc,i.mapping.slice(l).map(f),r)){let h=null;if(r.schema.linebreakReplacement){let S=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);S&&!w?h=!1:!S&&w&&(h=!0)}h===!1&&t0(i,u,f,l),wp(i,i.mapping.slice(l).map(f,1),r,void 0,h===null);let y=i.mapping.slice(l),g=y.map(f,1),b=y.map(f+u.nodeSize,1);return i.step(new Ze(g,b,g+1,b-1,new P(j.from(r.create(p,null,u.marks)),0,0),1,!0)),h===!0&&e0(i,u,f,l),!1}})}function e0(i,e,t,r){e.forEach((a,l)=>{if(a.isText){let u,f=/\r?\n|\r/g;for(;u=f.exec(a.text);){let p=i.mapping.slice(r).map(t+1+l+u.index);i.replaceWith(p,p+1,e.type.schema.linebreakReplacement.create())}}})}function t0(i,e,t,r){e.forEach((a,l)=>{if(a.type==a.type.schema.linebreakReplacement){let u=i.mapping.slice(r).map(t+1+l);i.replaceWith(u,u+1,e.type.schema.text(`
`))}})}function oT(i,e,t){let r=i.resolve(e),a=r.index();return r.parent.canReplaceWith(a,a+1,t)}function aT(i,e,t,r,a){let l=i.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");t||(t=l.type);let u=t.create(r,null,a||l.marks);if(l.isLeaf)return i.replaceWith(e,e+l.nodeSize,u);if(!t.validContent(l.content))throw new RangeError("Invalid content for node type "+t.name);i.step(new Ze(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new P(j.from(u),0,0),1,!0))}function Vn(i,e,t=1,r){let a=i.resolve(e),l=a.depth-t,u=r&&r[r.length-1]||a.parent;if(l<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!u.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let h=a.depth-1,y=t-2;h>l;h--,y--){let g=a.node(h),b=a.index(h);if(g.type.spec.isolating)return!1;let S=g.content.cutByIndex(b,g.childCount),w=r&&r[y+1];w&&(S=S.replaceChild(0,w.type.create(w.attrs)));let T=r&&r[y]||g;if(!g.canReplace(b+1,g.childCount)||!T.type.validContent(S))return!1}let f=a.indexAfter(l),p=r&&r[0];return a.node(l).canReplaceWith(f,f,p?p.type:a.node(l+1).type)}function sT(i,e,t=1,r){let a=i.doc.resolve(e),l=j.empty,u=j.empty;for(let f=a.depth,p=a.depth-t,h=t-1;f>p;f--,h--){l=j.from(a.node(f).copy(l));let y=r&&r[h];u=j.from(y?y.type.create(y.attrs,u):a.node(f).copy(u))}i.step(new Fe(e,e,new P(l.append(u),t,t),!0))}function Ni(i,e){let t=i.resolve(e),r=t.index();return n0(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function lT(i,e){e.content.size||i.type.compatibleContent(e.type);let t=i.contentMatchAt(i.childCount),{linebreakReplacement:r}=i.type.schema;for(let a=0;a<e.childCount;a++){let l=e.child(a),u=l.type==r?i.type.schema.nodes.text:l.type;if(t=t.matchType(u),!t||!i.type.allowsMarks(l.marks))return!1}return t.validEnd}function n0(i,e){return!!(i&&e&&!i.isLeaf&&lT(i,e))}function Ul(i,e,t=-1){let r=i.resolve(e);for(let a=r.depth;;a--){let l,u,f=r.index(a);if(a==r.depth?(l=r.nodeBefore,u=r.nodeAfter):t>0?(l=r.node(a+1),f++,u=r.node(a).maybeChild(f)):(l=r.node(a).maybeChild(f-1),u=r.node(a+1)),l&&!l.isTextblock&&n0(l,u)&&r.node(a).canReplace(f,f+1))return e;if(a==0)break;e=t<0?r.before(a):r.after(a)}}function uT(i,e,t){let r=null,{linebreakReplacement:a}=i.doc.type.schema,l=i.doc.resolve(e-t),u=l.node().type;if(a&&u.inlineContent){let y=u.whitespace=="pre",g=!!u.contentMatch.matchType(a);y&&!g?r=!1:!y&&g&&(r=!0)}let f=i.steps.length;if(r===!1){let y=i.doc.resolve(e+t);t0(i,y.node(),y.before(),f)}u.inlineContent&&wp(i,e+t-1,u,l.node().contentMatchAt(l.index()),r==null);let p=i.mapping.slice(f),h=p.map(e-t);if(i.step(new Fe(h,p.map(e+t,-1),P.empty,!0)),r===!0){let y=i.doc.resolve(h);e0(i,y.node(),y.before(),i.steps.length)}return i}function cT(i,e,t){let r=i.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let a=r.depth-1;a>=0;a--){let l=r.index(a);if(r.node(a).canReplaceWith(l,l,t))return r.before(a+1);if(l>0)return null}if(r.parentOffset==r.parent.content.size)for(let a=r.depth-1;a>=0;a--){let l=r.indexAfter(a);if(r.node(a).canReplaceWith(l,l,t))return r.after(a+1);if(l<r.node(a).childCount)return null}return null}function i0(i,e,t){let r=i.resolve(e);if(!t.content.size)return e;let a=t.content;for(let l=0;l<t.openStart;l++)a=a.firstChild.content;for(let l=1;l<=(t.openStart==0&&t.size?2:1);l++)for(let u=r.depth;u>=0;u--){let f=u==r.depth?0:r.pos<=(r.start(u+1)+r.end(u+1))/2?-1:1,p=r.index(u)+(f>0?1:0),h=r.node(u),y=!1;if(l==1)y=h.canReplace(p,p,a);else{let g=h.contentMatchAt(p).findWrapping(a.firstChild.type);y=g&&h.canReplaceWith(p,p,g[0])}if(y)return f==0?r.pos:f<0?r.before(u+1):r.after(u+1)}return null}function ql(i,e,t=e,r=P.empty){if(e==t&&!r.size)return null;let a=i.resolve(e),l=i.resolve(t);return r0(a,l,r)?new Fe(e,t,r):new fT(a,l,r).fit()}function r0(i,e,t){return!t.openStart&&!t.openEnd&&i.start()==e.start()&&i.parent.canReplace(i.index(),e.index(),t.content)}class fT{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=j.empty;for(let a=0;a<=e.depth;a++){let l=e.node(a);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(a))})}for(let a=e.depth;a>0;a--)this.placed=j.from(e.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,a=this.close(e<0?this.$to:r.doc.resolve(e));if(!a)return null;let l=this.placed,u=r.depth,f=a.depth;for(;u&&f&&l.childCount==1;)l=l.firstChild.content,u--,f--;let p=new P(l,u,f);return e>-1?new Ze(r.pos,e,this.$to.pos,this.$to.end(),p,t):p.size||r.pos!=this.$to.pos?new Fe(r.pos,a.pos,p):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,a=this.unplaced.openEnd;r<e;r++){let l=t.firstChild;if(t.childCount>1&&(a=0),l.type.spec.isolating&&a<=r){e=r;break}t=l.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let a,l=null;r?(l=Tf(this.unplaced.content,r-1).firstChild,a=l.content):a=this.unplaced.content;let u=a.firstChild;for(let f=this.depth;f>=0;f--){let{type:p,match:h}=this.frontier[f],y,g=null;if(t==1&&(u?h.matchType(u.type)||(g=h.fillBefore(j.from(u),!1)):l&&p.compatibleContent(l.type)))return{sliceDepth:r,frontierDepth:f,parent:l,inject:g};if(t==2&&u&&(y=h.findWrapping(u.type)))return{sliceDepth:r,frontierDepth:f,parent:l,wrap:y};if(l&&h.matchType(l.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,a=Tf(e,t);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new P(e,t+1,Math.max(r,a.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,a=Tf(e,t);if(a.childCount<=1&&t>0){let l=e.size-t<=t+a.size;this.unplaced=new P(va(e,t-1,1),t-1,l?t-1:r)}else this.unplaced=new P(va(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:a,wrap:l}){for(;this.depth>t;)this.closeFrontierNode();if(l)for(let T=0;T<l.length;T++)this.openFrontierNode(l[T]);let u=this.unplaced,f=r?r.content:u.content,p=u.openStart-e,h=0,y=[],{match:g,type:b}=this.frontier[t];if(a){for(let T=0;T<a.childCount;T++)y.push(a.child(T));g=g.matchFragment(a)}let S=f.size+e-(u.content.size-u.openEnd);for(;h<f.childCount;){let T=f.child(h),E=g.matchType(T.type);if(!E)break;h++,(h>1||p==0||T.content.size)&&(g=E,y.push(o0(T.mark(b.allowedMarks(T.marks)),h==1?p:0,h==f.childCount?S:-1)))}let w=h==f.childCount;w||(S=-1),this.placed=wa(this.placed,t,j.from(y)),this.frontier[t].match=g,w&&S<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let T=0,E=f;T<S;T++){let O=E.lastChild;this.frontier.push({type:O.type,match:O.contentMatchAt(O.childCount)}),E=O.content}this.unplaced=w?e==0?P.empty:new P(va(u.content,e-1,1),e-1,S<0?u.openEnd:e-1):new P(va(u.content,e,h),u.openStart,u.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Ef(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,a=this.$to.after(r);for(;r>1&&a==this.$to.end(--r);)++a;return a}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:a}=this.frontier[t],l=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),u=Ef(e,t,a,r,l);if(u){for(let f=t-1;f>=0;f--){let{match:p,type:h}=this.frontier[f],y=Ef(e,f,h,p,!0);if(!y||y.childCount)continue e}return{depth:t,fit:u,move:l?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=wa(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let a=e.node(r),l=a.type.contentMatch.fillBefore(a.content,!0,e.index(r));this.openFrontierNode(a.type,a.attrs,l)}return e}openFrontierNode(e,t=null,r){let a=this.frontier[this.depth];a.match=a.match.matchType(e),this.placed=wa(this.placed,this.depth,j.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(j.empty,!0);t.childCount&&(this.placed=wa(this.placed,this.frontier.length,t))}}function va(i,e,t){return e==0?i.cutByIndex(t,i.childCount):i.replaceChild(0,i.firstChild.copy(va(i.firstChild.content,e-1,t)))}function wa(i,e,t){return e==0?i.append(t):i.replaceChild(i.childCount-1,i.lastChild.copy(wa(i.lastChild.content,e-1,t)))}function Tf(i,e){for(let t=0;t<e;t++)i=i.firstChild.content;return i}function o0(i,e,t){if(e<=0)return i;let r=i.content;return e>1&&(r=r.replaceChild(0,o0(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=i.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(i.type.contentMatch.matchFragment(r).fillBefore(j.empty,!0)))),i.copy(r)}function Ef(i,e,t,r,a){let l=i.node(e),u=a?i.indexAfter(e):i.index(e);if(u==l.childCount&&!t.compatibleContent(l.type))return null;let f=r.fillBefore(l.content,!0,u);return f&&!pT(t,l.content,u)?f:null}function pT(i,e,t){for(let r=t;r<e.childCount;r++)if(!i.allowsMarks(e.child(r).marks))return!0;return!1}function dT(i){return i.spec.defining||i.spec.definingForContent}function hT(i,e,t,r){if(!r.size)return i.deleteRange(e,t);let a=i.doc.resolve(e),l=i.doc.resolve(t);if(r0(a,l,r))return i.step(new Fe(e,t,r));let u=s0(a,i.doc.resolve(t));u[u.length-1]==0&&u.pop();let f=-(a.depth+1);u.unshift(f);for(let b=a.depth,S=a.pos-1;b>0;b--,S--){let w=a.node(b).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;u.indexOf(b)>-1?f=b:a.before(b)==S&&u.splice(1,0,-b)}let p=u.indexOf(f),h=[],y=r.openStart;for(let b=r.content,S=0;;S++){let w=b.firstChild;if(h.push(w),S==r.openStart)break;b=w.content}for(let b=y-1;b>=0;b--){let S=h[b],w=dT(S.type);if(w&&!S.sameMarkup(a.node(Math.abs(f)-1)))y=b;else if(w||!S.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let S=(b+y+1)%(r.openStart+1),w=h[S];if(w)for(let T=0;T<u.length;T++){let E=u[(T+p)%u.length],O=!0;E<0&&(O=!1,E=-E);let q=a.node(E-1),Y=a.index(E-1);if(q.canReplaceWith(Y,Y,w.type,w.marks))return i.replace(a.before(E),O?l.after(E):t,new P(a0(r.content,0,r.openStart,S),S,r.openEnd))}}let g=i.steps.length;for(let b=u.length-1;b>=0&&(i.replace(e,t,r),!(i.steps.length>g));b--){let S=u[b];S<0||(e=a.before(S),t=l.after(S))}}function a0(i,e,t,r,a){if(e<t){let l=i.firstChild;i=i.replaceChild(0,l.copy(a0(l.content,e+1,t,r,l)))}if(e>r){let l=a.contentMatchAt(0),u=l.fillBefore(i).append(i);i=u.append(l.matchFragment(u).fillBefore(j.empty,!0))}return i}function mT(i,e,t,r){if(!r.isInline&&e==t&&i.doc.resolve(e).parent.content.size){let a=cT(i.doc,e,r.type);a!=null&&(e=t=a)}i.replaceRange(e,t,new P(j.from(r),0,0))}function yT(i,e,t){let r=i.doc.resolve(e),a=i.doc.resolve(t),l=s0(r,a);for(let u=0;u<l.length;u++){let f=l[u],p=u==l.length-1;if(p&&f==0||r.node(f).type.contentMatch.validEnd)return i.delete(r.start(f),a.end(f));if(f>0&&(p||r.node(f-1).canReplace(r.index(f-1),a.indexAfter(f-1))))return i.delete(r.before(f),a.after(f))}for(let u=1;u<=r.depth&&u<=a.depth;u++)if(e-r.start(u)==r.depth-u&&t>r.end(u)&&a.end(u)-t!=a.depth-u&&r.start(u-1)==a.start(u-1)&&r.node(u-1).canReplace(r.index(u-1),a.index(u-1)))return i.delete(r.before(u),t);i.delete(e,t)}function s0(i,e){let t=[],r=Math.min(i.depth,e.depth);for(let a=r;a>=0;a--){let l=i.start(a);if(l<i.pos-(i.depth-a)||e.end(a)>e.pos+(e.depth-a)||i.node(a).type.spec.isolating||e.node(a).type.spec.isolating)break;(l==e.start(a)||a==i.depth&&a==e.depth&&i.parent.inlineContent&&e.parent.inlineContent&&a&&e.start(a-1)==l-1)&&t.push(a)}return t}class oo extends mt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ie.fail("No node at attribute step's position");let r=Object.create(null);for(let l in t.attrs)r[l]=t.attrs[l];r[this.attr]=this.value;let a=t.type.create(r,null,t.marks);return Ie.fromReplace(e,this.pos,this.pos+1,new P(j.from(a),0,t.isLeaf?0:1))}getMap(){return jt.empty}invert(e){return new oo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new oo(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new oo(t.pos,t.attr,t.value)}}mt.jsonID("attr",oo);class Aa extends mt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let a in e.attrs)t[a]=e.attrs[a];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Ie.ok(r)}getMap(){return jt.empty}invert(e){return new Aa(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Aa(t.attr,t.value)}}mt.jsonID("docAttr",Aa);let so=class extends Error{};so=function i(e){let t=Error.call(this,e);return t.__proto__=i.prototype,t};so.prototype=Object.create(Error.prototype);so.prototype.constructor=so;so.prototype.name="TransformError";class gT{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Na}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new so(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=P.empty){let a=ql(this.doc,e,t,r);return a&&this.step(a),this}replaceWith(e,t,r){return this.replace(e,t,new P(j.from(r),0,0))}delete(e,t){return this.replace(e,t,P.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return hT(this,e,t,r),this}replaceRangeWith(e,t,r){return mT(this,e,t,r),this}deleteRange(e,t){return yT(this,e,t),this}lift(e,t){return eT(this,e,t),this}join(e,t=1){return uT(this,e,t),this}wrap(e,t){return iT(this,e,t),this}setBlockType(e,t=e,r,a=null){return rT(this,e,t,r,a),this}setNodeMarkup(e,t,r=null,a){return aT(this,e,t,r,a),this}setNodeAttribute(e,t,r){return this.step(new oo(e,t,r)),this}setDocAttribute(e,t){return this.step(new Aa(e,t)),this}addNodeMark(e,t){return this.step(new wi(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Ae)t.isInSet(r.marks)&&this.step(new ur(e,t));else{let a=r.marks,l,u=[];for(;l=t.isInSet(a);)u.push(new ur(e,l)),a=l.removeFromSet(a);for(let f=u.length-1;f>=0;f--)this.step(u[f])}return this}split(e,t=1,r){return sT(this,e,t,r),this}addMark(e,t,r){return Fx(this,e,t,r),this}removeMark(e,t,r){return Zx(this,e,t,r),this}clearIncompatible(e,t,r){return wp(this,e,t,r),this}}const kf=Object.create(null);class pe{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new bT(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=P.empty){let r=t.content.lastChild,a=null;for(let f=0;f<t.openEnd;f++)a=r,r=r.lastChild;let l=e.steps.length,u=this.ranges;for(let f=0;f<u.length;f++){let{$from:p,$to:h}=u[f],y=e.mapping.slice(l);e.replaceRange(y.map(p.pos),y.map(h.pos),f?P.empty:t),f==0&&mg(e,l,(r?r.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:u,$to:f}=a[l],p=e.mapping.slice(r),h=p.map(u.pos),y=p.map(f.pos);l?e.deleteRange(h,y):(e.replaceRangeWith(h,y,t),mg(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let a=e.parent.inlineContent?new le(e):to(e.node(0),e.parent,e.pos,e.index(),t,r);if(a)return a;for(let l=e.depth-1;l>=0;l--){let u=t<0?to(e.node(0),e.node(l),e.before(l+1),e.index(l),t,r):to(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,t,r);if(u)return u}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Yt(e.node(0))}static atStart(e){return to(e,e,0,0,1)||new Yt(e)}static atEnd(e){return to(e,e,e.content.size,e.childCount,-1)||new Yt(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=kf[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in kf)throw new RangeError("Duplicate use of selection JSON ID "+e);return kf[e]=t,t.prototype.jsonID=e,t}getBookmark(){return le.between(this.$anchor,this.$head).getBookmark()}}pe.prototype.visible=!0;class bT{constructor(e,t){this.$from=e,this.$to=t}}let dg=!1;function hg(i){!dg&&!i.parent.inlineContent&&(dg=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+i.parent.type.name+")"))}class le extends pe{constructor(e,t=e){hg(e),hg(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return pe.near(r);let a=e.resolve(t.map(this.anchor));return new le(a.parent.inlineContent?a:r,r)}replace(e,t=P.empty){if(super.replace(e,t),t==P.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof le&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Vl(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new le(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let a=e.resolve(t);return new this(a,r==t?a:e.resolve(r))}static between(e,t,r){let a=e.pos-t.pos;if((!r||a)&&(r=a>=0?1:-1),!t.parent.inlineContent){let l=pe.findFrom(t,r,!0)||pe.findFrom(t,-r,!0);if(l)t=l.$head;else return pe.near(t,r)}return e.parent.inlineContent||(a==0?e=t:(e=(pe.findFrom(e,-r,!0)||pe.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=a<0&&(e=t))),new le(e,t)}}pe.jsonID("text",le);class Vl{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Vl(e.map(this.anchor),e.map(this.head))}resolve(e){return le.between(e.resolve(this.anchor),e.resolve(this.head))}}class W extends pe{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:a}=t.mapResult(this.anchor),l=e.resolve(a);return r?pe.near(l):new W(l)}content(){return new P(j.from(this.node),0,0)}eq(e){return e instanceof W&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new xp(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new W(e.resolve(t.anchor))}static create(e,t){return new W(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}W.prototype.visible=!1;pe.jsonID("node",W);class xp{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Vl(r,r):new xp(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&W.isSelectable(r)?new W(t):pe.near(t)}}class Yt extends pe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=P.empty){if(t==P.empty){e.delete(0,e.doc.content.size);let r=pe.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Yt(e)}map(e){return new Yt(e)}eq(e){return e instanceof Yt}getBookmark(){return vT}}pe.jsonID("all",Yt);const vT={map(){return this},resolve(i){return new Yt(i)}};function to(i,e,t,r,a,l=!1){if(e.inlineContent)return le.create(i,t);for(let u=r-(a>0?0:1);a>0?u<e.childCount:u>=0;u+=a){let f=e.child(u);if(f.isAtom){if(!l&&W.isSelectable(f))return W.create(i,t-(a<0?f.nodeSize:0))}else{let p=to(i,f,t+a,a<0?f.childCount:0,a,l);if(p)return p}t+=f.nodeSize*a}return null}function mg(i,e,t){let r=i.steps.length-1;if(r<e)return;let a=i.steps[r];if(!(a instanceof Fe||a instanceof Ze))return;let l=i.mapping.maps[r],u;l.forEach((f,p,h,y)=>{u==null&&(u=y)}),i.setSelection(pe.near(i.doc.resolve(u),t))}const yg=1,ll=2,gg=4;class wT extends gT{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|yg)&~ll,this.storedMarks=null,this}get selectionSet(){return(this.updated&yg)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ll,this}ensureMarks(e){return Ae.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ll)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~ll,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ae.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let a=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(a.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let l=this.storedMarks;if(!l){let u=this.doc.resolve(t);l=r==t?u.marks():u.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,a.text(e,l)),this.selection.empty||this.setSelection(pe.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=gg,this}get scrolledIntoView(){return(this.updated&gg)>0}}function bg(i,e){return!e||!i?i:i.bind(e)}class Sa{constructor(e,t,r){this.name=e,this.init=bg(t.init,r),this.apply=bg(t.apply,r)}}const ST=[new Sa("doc",{init(i){return i.doc||i.schema.topNodeType.createAndFill()},apply(i){return i.doc}}),new Sa("selection",{init(i,e){return i.selection||pe.atStart(e.doc)},apply(i){return i.selection}}),new Sa("storedMarks",{init(i){return i.storedMarks||null},apply(i,e,t,r){return r.selection.$cursor?i.storedMarks:null}}),new Sa("scrollToSelection",{init(){return 0},apply(i,e){return i.scrolledIntoView?e+1:e}})];class Mf{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ST.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Sa(r.key,r.spec.state,r))})}}class io{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let a=this.config.plugins[r];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),a=null;for(;;){let l=!1;for(let u=0;u<this.config.plugins.length;u++){let f=this.config.plugins[u];if(f.spec.appendTransaction){let p=a?a[u].n:0,h=a?a[u].state:this,y=p<t.length&&f.spec.appendTransaction.call(f,p?t.slice(p):t,h,r);if(y&&r.filterTransaction(y,u)){if(y.setMeta("appendedTransaction",e),!a){a=[];for(let g=0;g<this.config.plugins.length;g++)a.push(g<u?{state:r,n:t.length}:{state:this,n:0})}t.push(y),r=r.applyInner(y),l=!0}a&&(a[u]={state:r,n:t.length})}}if(!l)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new io(this.config),r=this.config.fields;for(let a=0;a<r.length;a++){let l=r[a];t[l.name]=l.apply(e,this[l.name],this,t)}return t}get tr(){return new wT(this)}static create(e){let t=new Mf(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new io(t);for(let a=0;a<t.fields.length;a++)r[t.fields[a].name]=t.fields[a].init(e,r);return r}reconfigure(e){let t=new Mf(this.schema,e.plugins),r=t.fields,a=new io(t);for(let l=0;l<r.length;l++){let u=r[l].name;a[u]=this.hasOwnProperty(u)?this[u]:r[l].init(e,a)}return a}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=e[r],l=a.spec.state;l&&l.toJSON&&(t[r]=l.toJSON.call(a,this[a.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let a=new Mf(e.schema,e.plugins),l=new io(a);return a.fields.forEach(u=>{if(u.name=="doc")l.doc=xi.fromJSON(e.schema,t.doc);else if(u.name=="selection")l.selection=pe.fromJSON(l.doc,t.selection);else if(u.name=="storedMarks")t.storedMarks&&(l.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let f in r){let p=r[f],h=p.spec.state;if(p.key==u.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,f)){l[u.name]=h.fromJSON.call(p,e,t[f],l);return}}l[u.name]=u.init(e,l)}}),l}}function l0(i,e,t){for(let r in i){let a=i[r];a instanceof Function?a=a.bind(e):r=="handleDOMEvents"&&(a=l0(a,e,{})),t[r]=a}return t}class At{constructor(e){this.spec=e,this.props={},e.props&&l0(e.props,this,this.props),this.key=e.key?e.key.key:u0("plugin")}getState(e){return e[this.key]}}const Cf=Object.create(null);function u0(i){return i in Cf?i+"$"+ ++Cf[i]:(Cf[i]=0,i+"$")}class wn{constructor(e="key"){this.key=u0(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ot=function(i){for(var e=0;;e++)if(i=i.previousSibling,!i)return e},lo=function(i){let e=i.assignedSlot||i.parentNode;return e&&e.nodeType==11?e.host:e};let Ff=null;const Hn=function(i,e,t){let r=Ff||(Ff=document.createRange());return r.setEnd(i,t??i.nodeValue.length),r.setStart(i,e||0),r},xT=function(){Ff=null},cr=function(i,e,t,r){return t&&(vg(i,e,t,r,-1)||vg(i,e,t,r,1))},TT=/^(img|br|input|textarea|hr)$/i;function vg(i,e,t,r,a){for(var l;;){if(i==t&&e==r)return!0;if(e==(a<0?0:Wt(i))){let u=i.parentNode;if(!u||u.nodeType!=1||Va(i)||TT.test(i.nodeName)||i.contentEditable=="false")return!1;e=ot(i)+(a<0?0:1),i=u}else if(i.nodeType==1){let u=i.childNodes[e+(a<0?-1:0)];if(u.nodeType==1&&u.contentEditable=="false")if(!((l=u.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)e+=a;else return!1;else i=u,e=a<0?Wt(i):0}else return!1}}function Wt(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function ET(i,e){for(;;){if(i.nodeType==3&&e)return i;if(i.nodeType==1&&e>0){if(i.contentEditable=="false")return null;i=i.childNodes[e-1],e=Wt(i)}else if(i.parentNode&&!Va(i))e=ot(i),i=i.parentNode;else return null}}function kT(i,e){for(;;){if(i.nodeType==3&&e<i.nodeValue.length)return i;if(i.nodeType==1&&e<i.childNodes.length){if(i.contentEditable=="false")return null;i=i.childNodes[e],e=0}else if(i.parentNode&&!Va(i))e=ot(i)+1,i=i.parentNode;else return null}}function MT(i,e,t){for(let r=e==0,a=e==Wt(i);r||a;){if(i==t)return!0;let l=ot(i);if(i=i.parentNode,!i)return!1;r=r&&l==0,a=a&&l==Wt(i)}}function Va(i){let e;for(let t=i;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==i||e.contentDOM==i)}const jl=function(i){return i.focusNode&&cr(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)};function Zi(i,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=i,t.key=t.code=e,t}function CT(i){let e=i.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function OT(i,e,t){if(i.caretPositionFromPoint)try{let r=i.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Wt(r.offsetNode),r.offset)}}catch{}if(i.caretRangeFromPoint){let r=i.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Wt(r.startContainer),r.startOffset)}}}const gn=typeof navigator<"u"?navigator:null,wg=typeof document<"u"?document:null,Ai=gn&&gn.userAgent||"",Zf=/Edge\/(\d+)/.exec(Ai),c0=/MSIE \d/.exec(Ai),Wf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ai),Ot=!!(c0||Wf||Zf),Ei=c0?document.documentMode:Wf?+Wf[1]:Zf?+Zf[1]:0,sn=!Ot&&/gecko\/(\d+)/i.test(Ai);sn&&+(/Firefox\/(\d+)/.exec(Ai)||[0,0])[1];const ep=!Ot&&/Chrome\/(\d+)/.exec(Ai),ht=!!ep,f0=ep?+ep[1]:0,gt=!Ot&&!!gn&&/Apple Computer/.test(gn.vendor),uo=gt&&(/Mobile\/\w+/.test(Ai)||!!gn&&gn.maxTouchPoints>2),Zt=uo||(gn?/Mac/.test(gn.platform):!1),NT=gn?/Win/.test(gn.platform):!1,Un=/Android \d/.test(Ai),ja=!!wg&&"webkitFontSmoothing"in wg.documentElement.style,AT=ja?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function RT(i){let e=i.defaultView&&i.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:i.documentElement.clientWidth,top:0,bottom:i.documentElement.clientHeight}}function Ln(i,e){return typeof i=="number"?i:i[e]}function DT(i){let e=i.getBoundingClientRect(),t=e.width/i.offsetWidth||1,r=e.height/i.offsetHeight||1;return{left:e.left,right:e.left+i.clientWidth*t,top:e.top,bottom:e.top+i.clientHeight*r}}function Sg(i,e,t){let r=i.someProp("scrollThreshold")||0,a=i.someProp("scrollMargin")||5,l=i.dom.ownerDocument;for(let u=t||i.dom;u;){if(u.nodeType!=1){u=lo(u);continue}let f=u,p=f==l.body,h=p?RT(l):DT(f),y=0,g=0;if(e.top<h.top+Ln(r,"top")?g=-(h.top-e.top+Ln(a,"top")):e.bottom>h.bottom-Ln(r,"bottom")&&(g=e.bottom-e.top>h.bottom-h.top?e.top+Ln(a,"top")-h.top:e.bottom-h.bottom+Ln(a,"bottom")),e.left<h.left+Ln(r,"left")?y=-(h.left-e.left+Ln(a,"left")):e.right>h.right-Ln(r,"right")&&(y=e.right-h.right+Ln(a,"right")),y||g)if(p)l.defaultView.scrollBy(y,g);else{let S=f.scrollLeft,w=f.scrollTop;g&&(f.scrollTop+=g),y&&(f.scrollLeft+=y);let T=f.scrollLeft-S,E=f.scrollTop-w;e={left:e.left-T,top:e.top-E,right:e.right-T,bottom:e.bottom-E}}let b=p?"fixed":getComputedStyle(u).position;if(/^(fixed|sticky)$/.test(b))break;u=b=="absolute"?u.offsetParent:lo(u)}}function zT(i){let e=i.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,a;for(let l=(e.left+e.right)/2,u=t+1;u<Math.min(innerHeight,e.bottom);u+=5){let f=i.root.elementFromPoint(l,u);if(!f||f==i.dom||!i.dom.contains(f))continue;let p=f.getBoundingClientRect();if(p.top>=t-20){r=f,a=p.top;break}}return{refDOM:r,refTop:a,stack:p0(i.dom)}}function p0(i){let e=[],t=i.ownerDocument;for(let r=i;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),i!=t);r=lo(r));return e}function BT({refDOM:i,refTop:e,stack:t}){let r=i?i.getBoundingClientRect().top:0;d0(t,r==0?0:r-e)}function d0(i,e){for(let t=0;t<i.length;t++){let{dom:r,top:a,left:l}=i[t];r.scrollTop!=a+e&&(r.scrollTop=a+e),r.scrollLeft!=l&&(r.scrollLeft=l)}}let Wr=null;function _T(i){if(i.setActive)return i.setActive();if(Wr)return i.focus(Wr);let e=p0(i);i.focus(Wr==null?{get preventScroll(){return Wr={preventScroll:!0},!0}}:void 0),Wr||(Wr=!1,d0(e,0))}function h0(i,e){let t,r=2e8,a,l=0,u=e.top,f=e.top,p,h;for(let y=i.firstChild,g=0;y;y=y.nextSibling,g++){let b;if(y.nodeType==1)b=y.getClientRects();else if(y.nodeType==3)b=Hn(y).getClientRects();else continue;for(let S=0;S<b.length;S++){let w=b[S];if(w.top<=u&&w.bottom>=f){u=Math.max(w.bottom,u),f=Math.min(w.top,f);let T=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(T<r){t=y,r=T,a=T&&t.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,y.nodeType==1&&T&&(l=g+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!p&&w.left<=e.left&&w.right>=e.left&&(p=y,h={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!t&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(l=g+1)}}return!t&&p&&(t=p,a=h,r=0),t&&t.nodeType==3?LT(t,a):!t||r&&t.nodeType==1?{node:i,offset:l}:h0(t,a)}function LT(i,e){let t=i.nodeValue.length,r=document.createRange();for(let a=0;a<t;a++){r.setEnd(i,a+1),r.setStart(i,a);let l=mi(r,1);if(l.top!=l.bottom&&Tp(e,l))return{node:i,offset:a+(e.left>=(l.left+l.right)/2?1:0)}}return{node:i,offset:0}}function Tp(i,e){return i.left>=e.left-1&&i.left<=e.right+1&&i.top>=e.top-1&&i.top<=e.bottom+1}function HT(i,e){let t=i.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<i.getBoundingClientRect().left?t:i}function UT(i,e,t){let{node:r,offset:a}=h0(e,t),l=-1;if(r.nodeType==1&&!r.firstChild){let u=r.getBoundingClientRect();l=u.left!=u.right&&t.left>(u.left+u.right)/2?1:-1}return i.docView.posFromDOM(r,a,l)}function qT(i,e,t,r){let a=-1;for(let l=e,u=!1;l!=i.dom;){let f=i.docView.nearestDesc(l,!0),p;if(!f)return null;if(f.dom.nodeType==1&&(f.node.isBlock&&f.parent||!f.contentDOM)&&((p=f.dom.getBoundingClientRect()).width||p.height)&&(f.node.isBlock&&f.parent&&(!u&&p.left>r.left||p.top>r.top?a=f.posBefore:(!u&&p.right<r.left||p.bottom<r.top)&&(a=f.posAfter),u=!0),!f.contentDOM&&a<0&&!f.node.isText))return(f.node.isBlock?r.top<(p.top+p.bottom)/2:r.left<(p.left+p.right)/2)?f.posBefore:f.posAfter;l=f.dom.parentNode}return a>-1?a:i.docView.posFromDOM(e,t,-1)}function m0(i,e,t){let r=i.childNodes.length;if(r&&t.top<t.bottom)for(let a=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),l=a;;){let u=i.childNodes[l];if(u.nodeType==1){let f=u.getClientRects();for(let p=0;p<f.length;p++){let h=f[p];if(Tp(e,h))return m0(u,e,h)}}if((l=(l+1)%r)==a)break}return i}function VT(i,e){let t=i.dom.ownerDocument,r,a=0,l=OT(t,e.left,e.top);l&&({node:r,offset:a}=l);let u=(i.root.elementFromPoint?i.root:t).elementFromPoint(e.left,e.top),f;if(!u||!i.dom.contains(u.nodeType!=1?u.parentNode:u)){let h=i.dom.getBoundingClientRect();if(!Tp(e,h)||(u=m0(i.dom,e,h),!u))return null}if(gt)for(let h=u;r&&h;h=lo(h))h.draggable&&(r=void 0);if(u=HT(u,e),r){if(sn&&r.nodeType==1&&(a=Math.min(a,r.childNodes.length),a<r.childNodes.length)){let y=r.childNodes[a],g;y.nodeName=="IMG"&&(g=y.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&a++}let h;ja&&a&&r.nodeType==1&&(h=r.childNodes[a-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&a--,r==i.dom&&a==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?f=i.state.doc.content.size:(a==0||r.nodeType!=1||r.childNodes[a-1].nodeName!="BR")&&(f=qT(i,r,a,e))}f==null&&(f=UT(i,u,e));let p=i.docView.nearestDesc(u,!0);return{pos:f,inside:p?p.posAtStart-p.border:-1}}function xg(i){return i.top<i.bottom||i.left<i.right}function mi(i,e){let t=i.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(xg(r))return r}return Array.prototype.find.call(t,xg)||i.getBoundingClientRect()}const jT=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function y0(i,e,t){let{node:r,offset:a,atom:l}=i.docView.domFromPos(e,t<0?-1:1),u=ja||sn;if(r.nodeType==3)if(u&&(jT.test(r.nodeValue)||(t<0?!a:a==r.nodeValue.length))){let p=mi(Hn(r,a,a),t);if(sn&&a&&/\s/.test(r.nodeValue[a-1])&&a<r.nodeValue.length){let h=mi(Hn(r,a-1,a-1),-1);if(h.top==p.top){let y=mi(Hn(r,a,a+1),-1);if(y.top!=p.top)return ba(y,y.left<h.left)}}return p}else{let p=a,h=a,y=t<0?1:-1;return t<0&&!a?(h++,y=-1):t>=0&&a==r.nodeValue.length?(p--,y=1):t<0?p--:h++,ba(mi(Hn(r,p,h),y),y<0)}if(!i.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&a&&(t<0||a==Wt(r))){let p=r.childNodes[a-1];if(p.nodeType==1)return Of(p.getBoundingClientRect(),!1)}if(l==null&&a<Wt(r)){let p=r.childNodes[a];if(p.nodeType==1)return Of(p.getBoundingClientRect(),!0)}return Of(r.getBoundingClientRect(),t>=0)}if(l==null&&a&&(t<0||a==Wt(r))){let p=r.childNodes[a-1],h=p.nodeType==3?Hn(p,Wt(p)-(u?0:1)):p.nodeType==1&&(p.nodeName!="BR"||!p.nextSibling)?p:null;if(h)return ba(mi(h,1),!1)}if(l==null&&a<Wt(r)){let p=r.childNodes[a];for(;p.pmViewDesc&&p.pmViewDesc.ignoreForCoords;)p=p.nextSibling;let h=p?p.nodeType==3?Hn(p,0,u?0:1):p.nodeType==1?p:null:null;if(h)return ba(mi(h,-1),!0)}return ba(mi(r.nodeType==3?Hn(r):r,-t),t>=0)}function ba(i,e){if(i.width==0)return i;let t=e?i.left:i.right;return{top:i.top,bottom:i.bottom,left:t,right:t}}function Of(i,e){if(i.height==0)return i;let t=e?i.top:i.bottom;return{top:t,bottom:t,left:i.left,right:i.right}}function g0(i,e,t){let r=i.state,a=i.root.activeElement;r!=e&&i.updateState(e),a!=i.dom&&i.focus();try{return t()}finally{r!=e&&i.updateState(r),a!=i.dom&&a&&a.focus()}}function YT(i,e,t){let r=e.selection,a=t=="up"?r.$from:r.$to;return g0(i,e,()=>{let{node:l}=i.docView.domFromPos(a.pos,t=="up"?-1:1);for(;;){let f=i.docView.nearestDesc(l,!0);if(!f)break;if(f.node.isBlock){l=f.contentDOM||f.dom;break}l=f.dom.parentNode}let u=y0(i,a.pos,1);for(let f=l.firstChild;f;f=f.nextSibling){let p;if(f.nodeType==1)p=f.getClientRects();else if(f.nodeType==3)p=Hn(f,0,f.nodeValue.length).getClientRects();else continue;for(let h=0;h<p.length;h++){let y=p[h];if(y.bottom>y.top+1&&(t=="up"?u.top-y.top>(y.bottom-u.top)*2:y.bottom-u.bottom>(u.bottom-y.top)*2))return!1}}return!0})}const IT=/[\u0590-\u08ac]/;function GT(i,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let a=r.parentOffset,l=!a,u=a==r.parent.content.size,f=i.domSelection();return f?!IT.test(r.parent.textContent)||!f.modify?t=="left"||t=="backward"?l:u:g0(i,e,()=>{let{focusNode:p,focusOffset:h,anchorNode:y,anchorOffset:g}=i.domSelectionRange(),b=f.caretBidiLevel;f.modify("move",t,"character");let S=r.depth?i.docView.domAfterPos(r.before()):i.dom,{focusNode:w,focusOffset:T}=i.domSelectionRange(),E=w&&!S.contains(w.nodeType==1?w:w.parentNode)||p==w&&h==T;try{f.collapse(y,g),p&&(p!=y||h!=g)&&f.extend&&f.extend(p,h)}catch{}return b!=null&&(f.caretBidiLevel=b),E}):r.pos==r.start()||r.pos==r.end()}let Tg=null,Eg=null,kg=!1;function KT(i,e,t){return Tg==e&&Eg==t?kg:(Tg=e,Eg=t,kg=t=="up"||t=="down"?YT(i,e,t):GT(i,e,t))}const tn=0,Mg=1,er=2,bn=3;class Ya{constructor(e,t,r,a){this.parent=e,this.children=t,this.dom=r,this.contentDOM=a,this.dirty=tn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let a=this.children[t];if(a==e)return r;r+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let l,u;if(e==this.contentDOM)l=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((u=l.pmViewDesc)&&u.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(u)+u.size:this.posAtStart}else{let l,u;if(e==this.contentDOM)l=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((u=l.pmViewDesc)&&u.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(u):this.posAtEnd}let a;if(e==this.dom&&this.contentDOM)a=t>ot(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let l=e;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.previousSibling)break}if(a==null&&t==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){a=!0;break}if(l.nextSibling)break}}return a??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,a=e;a;a=a.parentNode){let l=this.getDesc(a),u;if(l&&(!t||l.node))if(r&&(u=l.nodeDOM)&&!(u.nodeType==1?u.contains(e.nodeType==1?e:e.parentNode):u==e))r=!1;else return l}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let a=e;a;a=a.parentNode){let l=this.getDesc(a);if(l)return l.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let a=this.children[t],l=r+a.size;if(r==e&&l!=r){for(;!a.border&&a.children.length;)for(let u=0;u<a.children.length;u++){let f=a.children[u];if(f.size){a=f;break}}return a}if(e<l)return a.descAt(e-r-a.border);r=l}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,a=0;for(let l=0;r<this.children.length;r++){let u=this.children[r],f=l+u.size;if(f>e||u instanceof v0){a=e-l;break}l=f}if(a)return this.children[r].domFromPos(a-this.children[r].border,t);for(let l;r&&!(l=this.children[r-1]).size&&l instanceof b0&&l.side>=0;r--);if(t<=0){let l,u=!0;for(;l=r?this.children[r-1]:null,!(!l||l.dom.parentNode==this.contentDOM);r--,u=!1);return l&&t&&u&&!l.border&&!l.domAtom?l.domFromPos(l.size,t):{node:this.contentDOM,offset:l?ot(l.dom)+1:0}}else{let l,u=!0;for(;l=r<this.children.length?this.children[r]:null,!(!l||l.dom.parentNode==this.contentDOM);r++,u=!1);return l&&u&&!l.border&&!l.domAtom?l.domFromPos(0,t):{node:this.contentDOM,offset:l?ot(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,l=-1;for(let u=r,f=0;;f++){let p=this.children[f],h=u+p.size;if(a==-1&&e<=h){let y=u+p.border;if(e>=y&&t<=h-p.border&&p.node&&p.contentDOM&&this.contentDOM.contains(p.contentDOM))return p.parseRange(e,t,y);e=u;for(let g=f;g>0;g--){let b=this.children[g-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){a=ot(b.dom)+1;break}e-=b.size}a==-1&&(a=0)}if(a>-1&&(h>t||f==this.children.length-1)){t=h;for(let y=f+1;y<this.children.length;y++){let g=this.children[y];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){l=ot(g.dom);break}t+=g.size}l==-1&&(l=this.contentDOM.childNodes.length);break}u=h}return{node:this.contentDOM,from:e,to:t,fromOffset:a,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,a=!1){let l=Math.min(e,t),u=Math.max(e,t);for(let S=0,w=0;S<this.children.length;S++){let T=this.children[S],E=w+T.size;if(l>w&&u<E)return T.setSelection(e-w-T.border,t-w-T.border,r,a);w=E}let f=this.domFromPos(e,e?-1:1),p=t==e?f:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),y=r.domSelectionRange(),g=!1;if((sn||gt)&&e==t){let{node:S,offset:w}=f;if(S.nodeType==3){if(g=!!(w&&S.nodeValue[w-1]==`
`),g&&w==S.nodeValue.length)for(let T=S,E;T;T=T.parentNode){if(E=T.nextSibling){E.nodeName=="BR"&&(f=p={node:E.parentNode,offset:ot(E)+1});break}let O=T.pmViewDesc;if(O&&O.node&&O.node.isBlock)break}}else{let T=S.childNodes[w-1];g=T&&(T.nodeName=="BR"||T.contentEditable=="false")}}if(sn&&y.focusNode&&y.focusNode!=p.node&&y.focusNode.nodeType==1){let S=y.focusNode.childNodes[y.focusOffset];S&&S.contentEditable=="false"&&(a=!0)}if(!(a||g&&gt)&&cr(f.node,f.offset,y.anchorNode,y.anchorOffset)&&cr(p.node,p.offset,y.focusNode,y.focusOffset))return;let b=!1;if((h.extend||e==t)&&!g){h.collapse(f.node,f.offset);try{e!=t&&h.extend(p.node,p.offset),b=!0}catch{}}if(!b){if(e>t){let w=f;f=p,p=w}let S=document.createRange();S.setEnd(p.node,p.offset),S.setStart(f.node,f.offset),h.removeAllRanges(),h.addRange(S)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,a=0;a<this.children.length;a++){let l=this.children[a],u=r+l.size;if(r==u?e<=u&&t>=r:e<u&&t>r){let f=r+l.border,p=u-l.border;if(e>=f&&t<=p){this.dirty=e==r||t==u?er:Mg,e==f&&t==p&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=bn:l.markDirty(e-f,t-f);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?er:bn}r=u}this.dirty=er}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?er:Mg;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class b0 extends Ya{constructor(e,t,r,a){let l,u=t.type.toDOM;if(typeof u=="function"&&(u=u(r,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)})),!t.type.spec.raw){if(u.nodeType!=1){let f=document.createElement("span");f.appendChild(u),u=f}u.contentEditable="false",u.classList.add("ProseMirror-widget")}super(e,[],u,null),this.widget=t,this.widget=t,l=this}matchesWidget(e){return this.dirty==tn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class PT extends Ya{constructor(e,t,r,a){super(e,[],t,null),this.textDOM=r,this.text=a}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class fr extends Ya{constructor(e,t,r,a,l){super(e,[],r,a),this.mark=t,this.spec=l}static create(e,t,r,a){let l=a.nodeViews[t.type.name],u=l&&l(t,a,r);return(!u||!u.dom)&&(u=dr.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new fr(e,t,u.dom,u.contentDOM||u.dom,u)}parseRule(){return this.dirty&bn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=bn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=tn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=tn}}slice(e,t,r){let a=fr.create(this.parent,this.mark,!0,r),l=this.children,u=this.size;t<u&&(l=np(l,t,u,r)),e>0&&(l=np(l,0,e,r));for(let f=0;f<l.length;f++)l[f].parent=a;return a.children=l,a}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ki extends Ya{constructor(e,t,r,a,l,u,f,p,h){super(e,[],l,u),this.node=t,this.outerDeco=r,this.innerDeco=a,this.nodeDOM=f}static create(e,t,r,a,l,u){let f=l.nodeViews[t.type.name],p,h=f&&f(t,l,()=>{if(!p)return u;if(p.parent)return p.parent.posBeforeChild(p)},r,a),y=h&&h.dom,g=h&&h.contentDOM;if(t.isText){if(!y)y=document.createTextNode(t.text);else if(y.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else y||({dom:y,contentDOM:g}=dr.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!g&&!t.isText&&y.nodeName!="BR"&&(y.hasAttribute("contenteditable")||(y.contentEditable="false"),t.type.spec.draggable&&(y.draggable=!0));let b=y;return y=x0(y,r,t),h?p=new XT(e,t,r,a,y,g||null,b,h,l,u+1):t.isText?new Yl(e,t,r,a,y,b,l):new ki(e,t,r,a,y,g||null,b,l,u+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>j.empty)}return e}matchesNode(e,t,r){return this.dirty==tn&&e.eq(this.node)&&Cl(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,a=t,l=e.composing?this.localCompositionInfo(e,t):null,u=l&&l.pos>-1?l:null,f=l&&l.pos<0,p=new JT(this,u&&u.node,e);ZT(this.node,this.innerDeco,(h,y,g)=>{h.spec.marks?p.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!g&&p.syncToMarks(y==this.node.childCount?Ae.none:this.node.child(y).marks,r,e),p.placeWidget(h,e,a)},(h,y,g,b)=>{p.syncToMarks(h.marks,r,e);let S;p.findNodeMatch(h,y,g,b)||f&&e.state.selection.from>a&&e.state.selection.to<a+h.nodeSize&&(S=p.findIndexWithChild(l.node))>-1&&p.updateNodeAt(h,y,g,S,e)||p.updateNextNode(h,y,g,e,b,a)||p.addNode(h,y,g,e,a),a+=h.nodeSize}),p.syncToMarks([],r,e),this.node.isTextblock&&p.addTextblockHacks(),p.destroyRest(),(p.changed||this.dirty==er)&&(u&&this.protectLocalComposition(e,u),w0(this.contentDOM,this.children,e),uo&&WT(this.dom))}localCompositionInfo(e,t){let{from:r,to:a}=e.state.selection;if(!(e.state.selection instanceof le)||r<t||a>t+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let u=l.nodeValue,f=eE(this.node.content,u,r-t,a-t);return f<0?null:{node:l,pos:f,text:u}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:a}){if(this.getDesc(t))return;let l=t;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let u=new PT(this,l,t,a);e.input.compositionNodes.push(u),this.children=np(this.children,r,r+a.length,e,u)}update(e,t,r,a){return this.dirty==bn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,a),!0)}updateInner(e,t,r,a){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=tn}updateOuterDeco(e){if(Cl(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=S0(this.dom,this.nodeDOM,tp(this.outerDeco,this.node,t),tp(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Cg(i,e,t,r,a){x0(r,e,i);let l=new ki(void 0,i,e,t,r,r,r,a,0);return l.contentDOM&&l.updateChildren(a,0),l}class Yl extends ki{constructor(e,t,r,a,l,u,f){super(e,t,r,a,l,null,u,f,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,a){return this.dirty==bn||this.dirty!=tn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=tn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=e,this.dirty=tn,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let a=this.node.cut(e,t),l=document.createTextNode(a.text);return new Yl(this.parent,a,this.outerDeco,this.innerDeco,l,l,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=bn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class v0 extends Ya{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==tn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class XT extends ki{constructor(e,t,r,a,l,u,f,p,h,y){super(e,t,r,a,l,u,f,h,y),this.spec=p}update(e,t,r,a){if(this.dirty==bn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,t,r);return l&&this.updateInner(e,t,r,a),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,a){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function w0(i,e,t){let r=i.firstChild,a=!1;for(let l=0;l<e.length;l++){let u=e[l],f=u.dom;if(f.parentNode==i){for(;f!=r;)r=Og(r),a=!0;r=r.nextSibling}else a=!0,i.insertBefore(f,r);if(u instanceof fr){let p=r?r.previousSibling:i.lastChild;w0(u.contentDOM,u.children,t),r=p?p.nextSibling:i.firstChild}}for(;r;)r=Og(r),a=!0;a&&t.trackWrites==i&&(t.trackWrites=null)}const Ea=function(i){i&&(this.nodeName=i)};Ea.prototype=Object.create(null);const tr=[new Ea];function tp(i,e,t){if(i.length==0)return tr;let r=t?tr[0]:new Ea,a=[r];for(let l=0;l<i.length;l++){let u=i[l].type.attrs;if(u){u.nodeName&&a.push(r=new Ea(u.nodeName));for(let f in u){let p=u[f];p!=null&&(t&&a.length==1&&a.push(r=new Ea(e.isInline?"span":"div")),f=="class"?r.class=(r.class?r.class+" ":"")+p:f=="style"?r.style=(r.style?r.style+";":"")+p:f!="nodeName"&&(r[f]=p))}}}return a}function S0(i,e,t,r){if(t==tr&&r==tr)return e;let a=e;for(let l=0;l<r.length;l++){let u=r[l],f=t[l];if(l){let p;f&&f.nodeName==u.nodeName&&a!=i&&(p=a.parentNode)&&p.nodeName.toLowerCase()==u.nodeName||(p=document.createElement(u.nodeName),p.pmIsDeco=!0,p.appendChild(a),f=tr[0]),a=p}$T(a,f||tr[0],u)}return a}function $T(i,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&i.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&i.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],a=t.class?t.class.split(" ").filter(Boolean):[];for(let l=0;l<r.length;l++)a.indexOf(r[l])==-1&&i.classList.remove(r[l]);for(let l=0;l<a.length;l++)r.indexOf(a[l])==-1&&i.classList.add(a[l]);i.classList.length==0&&i.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=r.exec(e.style);)i.style.removeProperty(a[1])}t.style&&(i.style.cssText+=t.style)}}function x0(i,e,t){return S0(i,i,tr,tp(e,t,i.nodeType!=1))}function Cl(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(!i[t].type.eq(e[t].type))return!1;return!0}function Og(i){let e=i.nextSibling;return i.parentNode.removeChild(i),e}class JT{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=QT(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let a=0,l=this.stack.length>>1,u=Math.min(l,e.length);for(;a<u&&(a==l-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<l;)this.destroyRest(),this.top.dirty=tn,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let f=-1;for(let p=this.index;p<Math.min(this.index+3,this.top.children.length);p++){let h=this.top.children[p];if(h.matchesMark(e[l])&&!this.isLocked(h.dom)){f=p;break}}if(f>-1)f>this.index&&(this.changed=!0,this.destroyBetween(this.index,f)),this.top=this.top.children[this.index];else{let p=fr.create(this.top,e[l],t,r);this.top.children.splice(this.index,0,p),this.top=p,this.changed=!0}this.index=0,l++}}findNodeMatch(e,t,r,a){let l=-1,u;if(a>=this.preMatch.index&&(u=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&u.matchesNode(e,t,r))l=this.top.children.indexOf(u,this.index);else for(let f=this.index,p=Math.min(this.top.children.length,f+5);f<p;f++){let h=this.top.children[f];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){l=f;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,t,r,a,l){let u=this.top.children[a];return u.dirty==bn&&u.dom==u.contentDOM&&(u.dirty=er),u.update(e,t,r,l)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==r)return a}return-1}e=t}}updateNextNode(e,t,r,a,l,u){for(let f=this.index;f<this.top.children.length;f++){let p=this.top.children[f];if(p instanceof ki){let h=this.preMatch.matched.get(p);if(h!=null&&h!=l)return!1;let y=p.dom,g,b=this.isLocked(y)&&!(e.isText&&p.node&&p.node.isText&&p.nodeDOM.nodeValue==e.text&&p.dirty!=bn&&Cl(t,p.outerDeco));if(!b&&p.update(e,t,r,a))return this.destroyBetween(this.index,f),p.dom!=y&&(this.changed=!0),this.index++,!0;if(!b&&(g=this.recreateWrapper(p,e,t,r,a,u)))return this.destroyBetween(this.index,f),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=er,g.updateChildren(a,u+1),g.dirty=tn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,a,l,u){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Cl(r,e.outerDeco)||!a.eq(e.innerDeco))return null;let f=ki.create(this.top,t,r,a,l,u);if(f.contentDOM){f.children=e.children,e.children=[];for(let p of f.children)p.parent=f}return e.destroy(),f}addNode(e,t,r,a,l){let u=ki.create(this.top,e,t,r,a,l);u.contentDOM&&u.updateChildren(a,l+1),this.top.children.splice(this.index++,0,u),this.changed=!0}placeWidget(e,t,r){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(e)&&(e==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let l=new b0(this.top,e,t,r);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof fr;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Yl)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((gt||ht)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let a=new v0(this.top,[],r,null);t!=this.top?t.children.push(a):t.children.splice(this.index++,0,a),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function QT(i,e){let t=e,r=t.children.length,a=i.childCount,l=new Map,u=[];e:for(;a>0;){let f;for(;;)if(r){let h=t.children[r-1];if(h instanceof fr)t=h,r=h.children.length;else{f=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let p=f.node;if(p){if(p!=i.child(a-1))break;--a,l.set(f,a),u.push(f)}}return{index:a,matched:l,matches:u.reverse()}}function FT(i,e){return i.type.side-e.type.side}function ZT(i,e,t,r){let a=e.locals(i),l=0;if(a.length==0){for(let h=0;h<i.childCount;h++){let y=i.child(h);r(y,a,e.forChild(l,y),h),l+=y.nodeSize}return}let u=0,f=[],p=null;for(let h=0;;){let y,g;for(;u<a.length&&a[u].to==l;){let E=a[u++];E.widget&&(y?(g||(g=[y])).push(E):y=E)}if(y)if(g){g.sort(FT);for(let E=0;E<g.length;E++)t(g[E],h,!!p)}else t(y,h,!!p);let b,S;if(p)S=-1,b=p,p=null;else if(h<i.childCount)S=h,b=i.child(h++);else break;for(let E=0;E<f.length;E++)f[E].to<=l&&f.splice(E--,1);for(;u<a.length&&a[u].from<=l&&a[u].to>l;)f.push(a[u++]);let w=l+b.nodeSize;if(b.isText){let E=w;u<a.length&&a[u].from<E&&(E=a[u].from);for(let O=0;O<f.length;O++)f[O].to<E&&(E=f[O].to);E<w&&(p=b.cut(E-l),b=b.cut(0,E-l),w=E,S=-1)}else for(;u<a.length&&a[u].to<w;)u++;let T=b.isInline&&!b.isLeaf?f.filter(E=>!E.inline):f.slice();r(b,T,e.forChild(l,b),S),l=w}}function WT(i){if(i.nodeName=="UL"||i.nodeName=="OL"){let e=i.style.cssText;i.style.cssText=e+"; list-style: square !important",window.getComputedStyle(i).listStyle,i.style.cssText=e}}function eE(i,e,t,r){for(let a=0,l=0;a<i.childCount&&l<=r;){let u=i.child(a++),f=l;if(l+=u.nodeSize,!u.isText)continue;let p=u.text;for(;a<i.childCount;){let h=i.child(a++);if(l+=h.nodeSize,!h.isText)break;p+=h.text}if(l>=t){if(l>=r&&p.slice(r-e.length-f,r-f)==e)return r-e.length;let h=f<r?p.lastIndexOf(e,r-f-1):-1;if(h>=0&&h+e.length+f>=t)return f+h;if(t==r&&p.length>=r+e.length-f&&p.slice(r-f,r-f+e.length)==e)return r}}return-1}function np(i,e,t,r,a){let l=[];for(let u=0,f=0;u<i.length;u++){let p=i[u],h=f,y=f+=p.size;h>=t||y<=e?l.push(p):(h<e&&l.push(p.slice(0,e-h,r)),a&&(l.push(a),a=void 0),y>t&&l.push(p.slice(t-h,p.size,r)))}return l}function Ep(i,e=null){let t=i.domSelectionRange(),r=i.state.doc;if(!t.focusNode)return null;let a=i.docView.nearestDesc(t.focusNode),l=a&&a.size==0,u=i.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(u<0)return null;let f=r.resolve(u),p,h;if(jl(t)){for(p=u;a&&!a.node;)a=a.parent;let g=a.node;if(a&&g.isAtom&&W.isSelectable(g)&&a.parent&&!(g.isInline&&MT(t.focusNode,t.focusOffset,a.dom))){let b=a.posBefore;h=new W(u==b?f:r.resolve(b))}}else{if(t instanceof i.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let g=u,b=u;for(let S=0;S<t.rangeCount;S++){let w=t.getRangeAt(S);g=Math.min(g,i.docView.posFromDOM(w.startContainer,w.startOffset,1)),b=Math.max(b,i.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(g<0)return null;[p,u]=b==i.state.selection.anchor?[b,g]:[g,b],f=r.resolve(u)}else p=i.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(p<0)return null}let y=r.resolve(p);if(!h){let g=e=="pointer"||i.state.selection.head<f.pos&&!l?1:-1;h=kp(i,y,f,g)}return h}function T0(i){return i.editable?i.hasFocus():k0(i)&&document.activeElement&&document.activeElement.contains(i.dom)}function jn(i,e=!1){let t=i.state.selection;if(E0(i,t),!!T0(i)){if(!e&&i.input.mouseDown&&i.input.mouseDown.allowDefault&&ht){let r=i.domSelectionRange(),a=i.domObserver.currentSelection;if(r.anchorNode&&a.anchorNode&&cr(r.anchorNode,r.anchorOffset,a.anchorNode,a.anchorOffset)){i.input.mouseDown.delayedSelectionSync=!0,i.domObserver.setCurSelection();return}}if(i.domObserver.disconnectSelection(),i.cursorWrapper)nE(i);else{let{anchor:r,head:a}=t,l,u;Ng&&!(t instanceof le)&&(t.$from.parent.inlineContent||(l=Ag(i,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(u=Ag(i,t.to))),i.docView.setSelection(r,a,i,e),Ng&&(l&&Rg(l),u&&Rg(u)),t.visible?i.dom.classList.remove("ProseMirror-hideselection"):(i.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&tE(i))}i.domObserver.setCurSelection(),i.domObserver.connectSelection()}}const Ng=gt||ht&&f0<63;function Ag(i,e){let{node:t,offset:r}=i.docView.domFromPos(e,0),a=r<t.childNodes.length?t.childNodes[r]:null,l=r?t.childNodes[r-1]:null;if(gt&&a&&a.contentEditable=="false")return Nf(a);if((!a||a.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(a)return Nf(a);if(l)return Nf(l)}}function Nf(i){return i.contentEditable="true",gt&&i.draggable&&(i.draggable=!1,i.wasDraggable=!0),i}function Rg(i){i.contentEditable="false",i.wasDraggable&&(i.draggable=!0,i.wasDraggable=null)}function tE(i){let e=i.dom.ownerDocument;e.removeEventListener("selectionchange",i.input.hideSelectionGuard);let t=i.domSelectionRange(),r=t.anchorNode,a=t.anchorOffset;e.addEventListener("selectionchange",i.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=a)&&(e.removeEventListener("selectionchange",i.input.hideSelectionGuard),setTimeout(()=>{(!T0(i)||i.state.selection.visible)&&i.dom.classList.remove("ProseMirror-hideselection")},20))})}function nE(i){let e=i.domSelection(),t=document.createRange();if(!e)return;let r=i.cursorWrapper.dom,a=r.nodeName=="IMG";a?t.setStart(r.parentNode,ot(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!a&&!i.state.selection.visible&&Ot&&Ei<=11&&(r.disabled=!0,r.disabled=!1)}function E0(i,e){if(e instanceof W){let t=i.docView.descAt(e.from);t!=i.lastSelectedViewDesc&&(Dg(i),t&&t.selectNode(),i.lastSelectedViewDesc=t)}else Dg(i)}function Dg(i){i.lastSelectedViewDesc&&(i.lastSelectedViewDesc.parent&&i.lastSelectedViewDesc.deselectNode(),i.lastSelectedViewDesc=void 0)}function kp(i,e,t,r){return i.someProp("createSelectionBetween",a=>a(i,e,t))||le.between(e,t,r)}function zg(i){return i.editable&&!i.hasFocus()?!1:k0(i)}function k0(i){let e=i.domSelectionRange();if(!e.anchorNode)return!1;try{return i.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(i.editable||i.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function iE(i){let e=i.docView.domFromPos(i.state.selection.anchor,0),t=i.domSelectionRange();return cr(e.node,e.offset,t.anchorNode,t.anchorOffset)}function ip(i,e){let{$anchor:t,$head:r}=i.selection,a=e>0?t.max(r):t.min(r),l=a.parent.inlineContent?a.depth?i.doc.resolve(e>0?a.after():a.before()):null:a;return l&&pe.findFrom(l,e)}function yi(i,e){return i.dispatch(i.state.tr.setSelection(e).scrollIntoView()),!0}function Bg(i,e,t){let r=i.state.selection;if(r instanceof le)if(t.indexOf("s")>-1){let{$head:a}=r,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let u=i.state.doc.resolve(a.pos+l.nodeSize*(e<0?-1:1));return yi(i,new le(r.$anchor,u))}else if(r.empty){if(i.endOfTextblock(e>0?"forward":"backward")){let a=ip(i.state,e);return a&&a instanceof W?yi(i,a):!1}else if(!(Zt&&t.indexOf("m")>-1)){let a=r.$head,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter,u;if(!l||l.isText)return!1;let f=e<0?a.pos-l.nodeSize:a.pos;return l.isAtom||(u=i.docView.descAt(f))&&!u.contentDOM?W.isSelectable(l)?yi(i,new W(e<0?i.state.doc.resolve(a.pos-l.nodeSize):a)):ja?yi(i,new le(i.state.doc.resolve(e<0?f:f+l.nodeSize))):!1:!1}}else return!1;else{if(r instanceof W&&r.node.isInline)return yi(i,new le(e>0?r.$to:r.$from));{let a=ip(i.state,e);return a?yi(i,a):!1}}}function Ol(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function ka(i,e){let t=i.pmViewDesc;return t&&t.size==0&&(e<0||i.nextSibling||i.nodeName!="BR")}function eo(i,e){return e<0?rE(i):oE(i)}function rE(i){let e=i.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let a,l,u=!1;for(sn&&t.nodeType==1&&r<Ol(t)&&ka(t.childNodes[r],-1)&&(u=!0);;)if(r>0){if(t.nodeType!=1)break;{let f=t.childNodes[r-1];if(ka(f,-1))a=t,l=--r;else if(f.nodeType==3)t=f,r=t.nodeValue.length;else break}}else{if(M0(t))break;{let f=t.previousSibling;for(;f&&ka(f,-1);)a=t.parentNode,l=ot(f),f=f.previousSibling;if(f)t=f,r=Ol(t);else{if(t=t.parentNode,t==i.dom)break;r=0}}}u?rp(i,t,r):a&&rp(i,a,l)}function oE(i){let e=i.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let a=Ol(t),l,u;for(;;)if(r<a){if(t.nodeType!=1)break;let f=t.childNodes[r];if(ka(f,1))l=t,u=++r;else break}else{if(M0(t))break;{let f=t.nextSibling;for(;f&&ka(f,1);)l=f.parentNode,u=ot(f)+1,f=f.nextSibling;if(f)t=f,r=0,a=Ol(t);else{if(t=t.parentNode,t==i.dom)break;r=a=0}}}l&&rp(i,l,u)}function M0(i){let e=i.pmViewDesc;return e&&e.node&&e.node.isBlock}function aE(i,e){for(;i&&e==i.childNodes.length&&!Va(i);)e=ot(i)+1,i=i.parentNode;for(;i&&e<i.childNodes.length;){let t=i.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;i=t,e=0}}function sE(i,e){for(;i&&!e&&!Va(i);)e=ot(i),i=i.parentNode;for(;i&&e;){let t=i.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;i=t,e=i.childNodes.length}}function rp(i,e,t){if(e.nodeType!=3){let l,u;(u=aE(e,t))?(e=u,t=0):(l=sE(e,t))&&(e=l,t=l.nodeValue.length)}let r=i.domSelection();if(!r)return;if(jl(r)){let l=document.createRange();l.setEnd(e,t),l.setStart(e,t),r.removeAllRanges(),r.addRange(l)}else r.extend&&r.extend(e,t);i.domObserver.setCurSelection();let{state:a}=i;setTimeout(()=>{i.state==a&&jn(i)},50)}function _g(i,e){let t=i.state.doc.resolve(e);if(!(ht||NT)&&t.parent.inlineContent){let a=i.coordsAtPos(e);if(e>t.start()){let l=i.coordsAtPos(e-1),u=(l.top+l.bottom)/2;if(u>a.top&&u<a.bottom&&Math.abs(l.left-a.left)>1)return l.left<a.left?"ltr":"rtl"}if(e<t.end()){let l=i.coordsAtPos(e+1),u=(l.top+l.bottom)/2;if(u>a.top&&u<a.bottom&&Math.abs(l.left-a.left)>1)return l.left>a.left?"ltr":"rtl"}}return getComputedStyle(i.dom).direction=="rtl"?"rtl":"ltr"}function Lg(i,e,t){let r=i.state.selection;if(r instanceof le&&!r.empty||t.indexOf("s")>-1||Zt&&t.indexOf("m")>-1)return!1;let{$from:a,$to:l}=r;if(!a.parent.inlineContent||i.endOfTextblock(e<0?"up":"down")){let u=ip(i.state,e);if(u&&u instanceof W)return yi(i,u)}if(!a.parent.inlineContent){let u=e<0?a:l,f=r instanceof Yt?pe.near(u,e):pe.findFrom(u,e);return f?yi(i,f):!1}return!1}function Hg(i,e){if(!(i.state.selection instanceof le))return!0;let{$head:t,$anchor:r,empty:a}=i.state.selection;if(!t.sameParent(r))return!0;if(!a)return!1;if(i.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(l&&!l.isText){let u=i.state.tr;return e<0?u.delete(t.pos-l.nodeSize,t.pos):u.delete(t.pos,t.pos+l.nodeSize),i.dispatch(u),!0}return!1}function Ug(i,e,t){i.domObserver.stop(),e.contentEditable=t,i.domObserver.start()}function lE(i){if(!gt||i.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=i.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Ug(i,r,"true"),setTimeout(()=>Ug(i,r,"false"),20)}return!1}function uE(i){let e="";return i.ctrlKey&&(e+="c"),i.metaKey&&(e+="m"),i.altKey&&(e+="a"),i.shiftKey&&(e+="s"),e}function cE(i,e){let t=e.keyCode,r=uE(e);if(t==8||Zt&&t==72&&r=="c")return Hg(i,-1)||eo(i,-1);if(t==46&&!e.shiftKey||Zt&&t==68&&r=="c")return Hg(i,1)||eo(i,1);if(t==13||t==27)return!0;if(t==37||Zt&&t==66&&r=="c"){let a=t==37?_g(i,i.state.selection.from)=="ltr"?-1:1:-1;return Bg(i,a,r)||eo(i,a)}else if(t==39||Zt&&t==70&&r=="c"){let a=t==39?_g(i,i.state.selection.from)=="ltr"?1:-1:1;return Bg(i,a,r)||eo(i,a)}else{if(t==38||Zt&&t==80&&r=="c")return Lg(i,-1,r)||eo(i,-1);if(t==40||Zt&&t==78&&r=="c")return lE(i)||Lg(i,1,r)||eo(i,1);if(r==(Zt?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Mp(i,e){i.someProp("transformCopied",S=>{e=S(e,i)});let t=[],{content:r,openStart:a,openEnd:l}=e;for(;a>1&&l>1&&r.childCount==1&&r.firstChild.childCount==1;){a--,l--;let S=r.firstChild;t.push(S.type.name,S.attrs!=S.type.defaultAttrs?S.attrs:null),r=S.content}let u=i.someProp("clipboardSerializer")||dr.fromSchema(i.state.schema),f=D0(),p=f.createElement("div");p.appendChild(u.serializeFragment(r,{document:f}));let h=p.firstChild,y,g=0;for(;h&&h.nodeType==1&&(y=R0[h.nodeName.toLowerCase()]);){for(let S=y.length-1;S>=0;S--){let w=f.createElement(y[S]);for(;p.firstChild;)w.appendChild(p.firstChild);p.appendChild(w),g++}h=p.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${a} ${l}${g?` -${g}`:""} ${JSON.stringify(t)}`);let b=i.someProp("clipboardTextSerializer",S=>S(e,i))||e.content.textBetween(0,e.content.size,`

`);return{dom:p,text:b,slice:e}}function C0(i,e,t,r,a){let l=a.parent.type.spec.code,u,f;if(!t&&!e)return null;let p=e&&(r||l||!t);if(p){if(i.someProp("transformPastedText",b=>{e=b(e,l||r,i)}),l)return e?new P(j.from(i.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):P.empty;let g=i.someProp("clipboardTextParser",b=>b(e,a,r,i));if(g)f=g;else{let b=a.marks(),{schema:S}=i.state,w=dr.fromSchema(S);u=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(T=>{let E=u.appendChild(document.createElement("p"));T&&E.appendChild(w.serializeNode(S.text(T,b)))})}}else i.someProp("transformPastedHTML",g=>{t=g(t,i)}),u=hE(t),ja&&mE(u);let h=u&&u.querySelector("[data-pm-slice]"),y=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(y&&y[3])for(let g=+y[3];g>0;g--){let b=u.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;u=b}if(f||(f=(i.someProp("clipboardParser")||i.someProp("domParser")||Ti.fromSchema(i.state.schema)).parseSlice(u,{preserveWhitespace:!!(p||y),context:a,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!fE.test(b.parentNode.nodeName)?{ignore:!0}:null}})),y)f=yE(qg(f,+y[1],+y[2]),y[4]);else if(f=P.maxOpen(pE(f.content,a),!0),f.openStart||f.openEnd){let g=0,b=0;for(let S=f.content.firstChild;g<f.openStart&&!S.type.spec.isolating;g++,S=S.firstChild);for(let S=f.content.lastChild;b<f.openEnd&&!S.type.spec.isolating;b++,S=S.lastChild);f=qg(f,g,b)}return i.someProp("transformPasted",g=>{f=g(f,i)}),f}const fE=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function pE(i,e){if(i.childCount<2)return i;for(let t=e.depth;t>=0;t--){let a=e.node(t).contentMatchAt(e.index(t)),l,u=[];if(i.forEach(f=>{if(!u)return;let p=a.findWrapping(f.type),h;if(!p)return u=null;if(h=u.length&&l.length&&N0(p,l,f,u[u.length-1],0))u[u.length-1]=h;else{u.length&&(u[u.length-1]=A0(u[u.length-1],l.length));let y=O0(f,p);u.push(y),a=a.matchType(y.type),l=p}}),u)return j.from(u)}return i}function O0(i,e,t=0){for(let r=e.length-1;r>=t;r--)i=e[r].create(null,j.from(i));return i}function N0(i,e,t,r,a){if(a<i.length&&a<e.length&&i[a]==e[a]){let l=N0(i,e,t,r.lastChild,a+1);if(l)return r.copy(r.content.replaceChild(r.childCount-1,l));if(r.contentMatchAt(r.childCount).matchType(a==i.length-1?t.type:i[a+1]))return r.copy(r.content.append(j.from(O0(t,i,a+1))))}}function A0(i,e){if(e==0)return i;let t=i.content.replaceChild(i.childCount-1,A0(i.lastChild,e-1)),r=i.contentMatchAt(i.childCount).fillBefore(j.empty,!0);return i.copy(t.append(r))}function op(i,e,t,r,a,l){let u=e<0?i.firstChild:i.lastChild,f=u.content;return i.childCount>1&&(l=0),a<r-1&&(f=op(f,e,t,r,a+1,l)),a>=t&&(f=e<0?u.contentMatchAt(0).fillBefore(f,l<=a).append(f):f.append(u.contentMatchAt(u.childCount).fillBefore(j.empty,!0))),i.replaceChild(e<0?0:i.childCount-1,u.copy(f))}function qg(i,e,t){return e<i.openStart&&(i=new P(op(i.content,-1,e,i.openStart,0,i.openEnd),e,i.openEnd)),t<i.openEnd&&(i=new P(op(i.content,1,t,i.openEnd,0,0),i.openStart,t)),i}const R0={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Vg=null;function D0(){return Vg||(Vg=document.implementation.createHTMLDocument("title"))}let Af=null;function dE(i){let e=window.trustedTypes;return e?(Af||(Af=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Af.createHTML(i)):i}function hE(i){let e=/^(\s*<meta [^>]*>)*/.exec(i);e&&(i=i.slice(e[0].length));let t=D0().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(i),a;if((a=r&&R0[r[1].toLowerCase()])&&(i=a.map(l=>"<"+l+">").join("")+i+a.map(l=>"</"+l+">").reverse().join("")),t.innerHTML=dE(i),a)for(let l=0;l<a.length;l++)t=t.querySelector(a[l])||t;return t}function mE(i){let e=i.querySelectorAll(ht?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(i.ownerDocument.createTextNode(" "),r)}}function yE(i,e){if(!i.size)return i;let t=i.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return i}let{content:a,openStart:l,openEnd:u}=i;for(let f=r.length-2;f>=0;f-=2){let p=t.nodes[r[f]];if(!p||p.hasRequiredAttrs())break;a=j.from(p.create(r[f+1],a)),l++,u++}return new P(a,l,u)}const bt={},vt={},gE={touchstart:!0,touchmove:!0};class bE{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function vE(i){for(let e in bt){let t=bt[e];i.dom.addEventListener(e,i.input.eventHandlers[e]=r=>{SE(i,r)&&!Cp(i,r)&&(i.editable||!(r.type in vt))&&t(i,r)},gE[e]?{passive:!0}:void 0)}gt&&i.dom.addEventListener("input",()=>null),ap(i)}function Si(i,e){i.input.lastSelectionOrigin=e,i.input.lastSelectionTime=Date.now()}function wE(i){i.domObserver.stop();for(let e in i.input.eventHandlers)i.dom.removeEventListener(e,i.input.eventHandlers[e]);clearTimeout(i.input.composingTimeout),clearTimeout(i.input.lastIOSEnterFallbackTimeout)}function ap(i){i.someProp("handleDOMEvents",e=>{for(let t in e)i.input.eventHandlers[t]||i.dom.addEventListener(t,i.input.eventHandlers[t]=r=>Cp(i,r))})}function Cp(i,e){return i.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(i,e)||e.defaultPrevented:!1})}function SE(i,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=i.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function xE(i,e){!Cp(i,e)&&bt[e.type]&&(i.editable||!(e.type in vt))&&bt[e.type](i,e)}vt.keydown=(i,e)=>{let t=e;if(i.input.shiftKey=t.keyCode==16||t.shiftKey,!B0(i,t)&&(i.input.lastKeyCode=t.keyCode,i.input.lastKeyCodeTime=Date.now(),!(Un&&ht&&t.keyCode==13)))if(t.keyCode!=229&&i.domObserver.forceFlush(),uo&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();i.input.lastIOSEnter=r,i.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{i.input.lastIOSEnter==r&&(i.someProp("handleKeyDown",a=>a(i,Zi(13,"Enter"))),i.input.lastIOSEnter=0)},200)}else i.someProp("handleKeyDown",r=>r(i,t))||cE(i,t)?t.preventDefault():Si(i,"key")};vt.keyup=(i,e)=>{e.keyCode==16&&(i.input.shiftKey=!1)};vt.keypress=(i,e)=>{let t=e;if(B0(i,t)||!t.charCode||t.ctrlKey&&!t.altKey||Zt&&t.metaKey)return;if(i.someProp("handleKeyPress",a=>a(i,t))){t.preventDefault();return}let r=i.state.selection;if(!(r instanceof le)||!r.$from.sameParent(r.$to)){let a=String.fromCharCode(t.charCode),l=()=>i.state.tr.insertText(a).scrollIntoView();!/[\r\n]/.test(a)&&!i.someProp("handleTextInput",u=>u(i,r.$from.pos,r.$to.pos,a,l))&&i.dispatch(l()),t.preventDefault()}};function Il(i){return{left:i.clientX,top:i.clientY}}function TE(i,e){let t=e.x-i.clientX,r=e.y-i.clientY;return t*t+r*r<100}function Op(i,e,t,r,a){if(r==-1)return!1;let l=i.state.doc.resolve(r);for(let u=l.depth+1;u>0;u--)if(i.someProp(e,f=>u>l.depth?f(i,t,l.nodeAfter,l.before(u),a,!0):f(i,t,l.node(u),l.before(u),a,!1)))return!0;return!1}function ao(i,e,t){if(i.focused||i.focus(),i.state.selection.eq(e))return;let r=i.state.tr.setSelection(e);r.setMeta("pointer",!0),i.dispatch(r)}function EE(i,e){if(e==-1)return!1;let t=i.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&W.isSelectable(r)?(ao(i,new W(t)),!0):!1}function kE(i,e){if(e==-1)return!1;let t=i.state.selection,r,a;t instanceof W&&(r=t.node);let l=i.state.doc.resolve(e);for(let u=l.depth+1;u>0;u--){let f=u>l.depth?l.nodeAfter:l.node(u);if(W.isSelectable(f)){r&&t.$from.depth>0&&u>=t.$from.depth&&l.before(t.$from.depth+1)==t.$from.pos?a=l.before(t.$from.depth):a=l.before(u);break}}return a!=null?(ao(i,W.create(i.state.doc,a)),!0):!1}function ME(i,e,t,r,a){return Op(i,"handleClickOn",e,t,r)||i.someProp("handleClick",l=>l(i,e,r))||(a?kE(i,t):EE(i,t))}function CE(i,e,t,r){return Op(i,"handleDoubleClickOn",e,t,r)||i.someProp("handleDoubleClick",a=>a(i,e,r))}function OE(i,e,t,r){return Op(i,"handleTripleClickOn",e,t,r)||i.someProp("handleTripleClick",a=>a(i,e,r))||NE(i,t,r)}function NE(i,e,t){if(t.button!=0)return!1;let r=i.state.doc;if(e==-1)return r.inlineContent?(ao(i,le.create(r,0,r.content.size)),!0):!1;let a=r.resolve(e);for(let l=a.depth+1;l>0;l--){let u=l>a.depth?a.nodeAfter:a.node(l),f=a.before(l);if(u.inlineContent)ao(i,le.create(r,f+1,f+1+u.content.size));else if(W.isSelectable(u))ao(i,W.create(r,f));else continue;return!0}}function Np(i){return Nl(i)}const z0=Zt?"metaKey":"ctrlKey";bt.mousedown=(i,e)=>{let t=e;i.input.shiftKey=t.shiftKey;let r=Np(i),a=Date.now(),l="singleClick";a-i.input.lastClick.time<500&&TE(t,i.input.lastClick)&&!t[z0]&&i.input.lastClick.button==t.button&&(i.input.lastClick.type=="singleClick"?l="doubleClick":i.input.lastClick.type=="doubleClick"&&(l="tripleClick")),i.input.lastClick={time:a,x:t.clientX,y:t.clientY,type:l,button:t.button};let u=i.posAtCoords(Il(t));u&&(l=="singleClick"?(i.input.mouseDown&&i.input.mouseDown.done(),i.input.mouseDown=new AE(i,u,t,!!r)):(l=="doubleClick"?CE:OE)(i,u.pos,u.inside,t)?t.preventDefault():Si(i,"pointer"))};class AE{constructor(e,t,r,a){this.view=e,this.pos=t,this.event=r,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[z0],this.allowDefault=r.shiftKey;let l,u;if(t.inside>-1)l=e.state.doc.nodeAt(t.inside),u=t.inside;else{let y=e.state.doc.resolve(t.pos);l=y.parent,u=y.depth?y.before():0}const f=a?null:r.target,p=f?e.docView.nearestDesc(f,!0):null;this.target=p&&p.dom.nodeType==1?p.dom:null;let{selection:h}=e.state;(r.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||h instanceof W&&h.from<=u&&h.to>u)&&(this.mightDrag={node:l,pos:u,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&sn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Si(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>jn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Il(e))),this.updateAllowDefault(e),this.allowDefault||!t?Si(this.view,"pointer"):ME(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||gt&&this.mightDrag&&!this.mightDrag.node.isAtom||ht&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(ao(this.view,pe.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Si(this.view,"pointer")}move(e){this.updateAllowDefault(e),Si(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}bt.touchstart=i=>{i.input.lastTouch=Date.now(),Np(i),Si(i,"pointer")};bt.touchmove=i=>{i.input.lastTouch=Date.now(),Si(i,"pointer")};bt.contextmenu=i=>Np(i);function B0(i,e){return i.composing?!0:gt&&Math.abs(e.timeStamp-i.input.compositionEndedAt)<500?(i.input.compositionEndedAt=-2e8,!0):!1}const RE=Un?5e3:-1;vt.compositionstart=vt.compositionupdate=i=>{if(!i.composing){i.domObserver.flush();let{state:e}=i,t=e.selection.$to;if(e.selection instanceof le&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))i.markCursor=i.state.storedMarks||t.marks(),Nl(i,!0),i.markCursor=null;else if(Nl(i,!e.selection.empty),sn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=i.domSelectionRange();for(let a=r.focusNode,l=r.focusOffset;a&&a.nodeType==1&&l!=0;){let u=l<0?a.lastChild:a.childNodes[l-1];if(!u)break;if(u.nodeType==3){let f=i.domSelection();f&&f.collapse(u,u.nodeValue.length);break}else a=u,l=-1}}i.input.composing=!0}_0(i,RE)};vt.compositionend=(i,e)=>{i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=e.timeStamp,i.input.compositionPendingChanges=i.domObserver.pendingRecords().length?i.input.compositionID:0,i.input.compositionNode=null,i.input.compositionPendingChanges&&Promise.resolve().then(()=>i.domObserver.flush()),i.input.compositionID++,_0(i,20))};function _0(i,e){clearTimeout(i.input.composingTimeout),e>-1&&(i.input.composingTimeout=setTimeout(()=>Nl(i),e))}function L0(i){for(i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=zE());i.input.compositionNodes.length>0;)i.input.compositionNodes.pop().markParentsDirty()}function DE(i){let e=i.domSelectionRange();if(!e.focusNode)return null;let t=ET(e.focusNode,e.focusOffset),r=kT(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let a=r.pmViewDesc,l=i.domObserver.lastChangedTextNode;if(t==l||r==l)return l;if(!a||!a.isText(r.nodeValue))return r;if(i.input.compositionNode==r){let u=t.pmViewDesc;if(!(!u||!u.isText(t.nodeValue)))return r}}return t||r}function zE(){let i=document.createEvent("Event");return i.initEvent("event",!0,!0),i.timeStamp}function Nl(i,e=!1){if(!(Un&&i.domObserver.flushingSoon>=0)){if(i.domObserver.forceFlush(),L0(i),e||i.docView&&i.docView.dirty){let t=Ep(i),r=i.state.selection;return t&&!t.eq(r)?i.dispatch(i.state.tr.setSelection(t)):(i.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?i.dispatch(i.state.tr.deleteSelection()):i.updateState(i.state),!0}return!1}}function BE(i,e){if(!i.dom.parentNode)return;let t=i.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),a=document.createRange();a.selectNodeContents(e),i.dom.blur(),r.removeAllRanges(),r.addRange(a),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),i.focus()},50)}const Ra=Ot&&Ei<15||uo&&AT<604;bt.copy=vt.cut=(i,e)=>{let t=e,r=i.state.selection,a=t.type=="cut";if(r.empty)return;let l=Ra?null:t.clipboardData,u=r.content(),{dom:f,text:p}=Mp(i,u);l?(t.preventDefault(),l.clearData(),l.setData("text/html",f.innerHTML),l.setData("text/plain",p)):BE(i,f),a&&i.dispatch(i.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function _E(i){return i.openStart==0&&i.openEnd==0&&i.content.childCount==1?i.content.firstChild:null}function LE(i,e){if(!i.dom.parentNode)return;let t=i.input.shiftKey||i.state.selection.$from.parent.type.spec.code,r=i.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let a=i.input.shiftKey&&i.input.lastKeyCode!=45;setTimeout(()=>{i.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Da(i,r.value,null,a,e):Da(i,r.textContent,r.innerHTML,a,e)},50)}function Da(i,e,t,r,a){let l=C0(i,e,t,r,i.state.selection.$from);if(i.someProp("handlePaste",p=>p(i,a,l||P.empty)))return!0;if(!l)return!1;let u=_E(l),f=u?i.state.tr.replaceSelectionWith(u,r):i.state.tr.replaceSelection(l);return i.dispatch(f.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function H0(i){let e=i.getData("text/plain")||i.getData("Text");if(e)return e;let t=i.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}vt.paste=(i,e)=>{let t=e;if(i.composing&&!Un)return;let r=Ra?null:t.clipboardData,a=i.input.shiftKey&&i.input.lastKeyCode!=45;r&&Da(i,H0(r),r.getData("text/html"),a,t)?t.preventDefault():LE(i,t)};class U0{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const HE=Zt?"altKey":"ctrlKey";function q0(i,e){let t=i.someProp("dragCopies",r=>!r(e));return t??!e[HE]}bt.dragstart=(i,e)=>{let t=e,r=i.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let a=i.state.selection,l=a.empty?null:i.posAtCoords(Il(t)),u;if(!(l&&l.pos>=a.from&&l.pos<=(a instanceof W?a.to-1:a.to))){if(r&&r.mightDrag)u=W.create(i.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let g=i.docView.nearestDesc(t.target,!0);g&&g.node.type.spec.draggable&&g!=i.docView&&(u=W.create(i.state.doc,g.posBefore))}}let f=(u||i.state.selection).content(),{dom:p,text:h,slice:y}=Mp(i,f);(!t.dataTransfer.files.length||!ht||f0>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Ra?"Text":"text/html",p.innerHTML),t.dataTransfer.effectAllowed="copyMove",Ra||t.dataTransfer.setData("text/plain",h),i.dragging=new U0(y,q0(i,t),u)};bt.dragend=i=>{let e=i.dragging;window.setTimeout(()=>{i.dragging==e&&(i.dragging=null)},50)};vt.dragover=vt.dragenter=(i,e)=>e.preventDefault();vt.drop=(i,e)=>{let t=e,r=i.dragging;if(i.dragging=null,!t.dataTransfer)return;let a=i.posAtCoords(Il(t));if(!a)return;let l=i.state.doc.resolve(a.pos),u=r&&r.slice;u?i.someProp("transformPasted",w=>{u=w(u,i)}):u=C0(i,H0(t.dataTransfer),Ra?null:t.dataTransfer.getData("text/html"),!1,l);let f=!!(r&&q0(i,t));if(i.someProp("handleDrop",w=>w(i,t,u||P.empty,f))){t.preventDefault();return}if(!u)return;t.preventDefault();let p=u?i0(i.state.doc,l.pos,u):l.pos;p==null&&(p=l.pos);let h=i.state.tr;if(f){let{node:w}=r;w?w.replace(h):h.deleteSelection()}let y=h.mapping.map(p),g=u.openStart==0&&u.openEnd==0&&u.content.childCount==1,b=h.doc;if(g?h.replaceRangeWith(y,y,u.content.firstChild):h.replaceRange(y,y,u),h.doc.eq(b))return;let S=h.doc.resolve(y);if(g&&W.isSelectable(u.content.firstChild)&&S.nodeAfter&&S.nodeAfter.sameMarkup(u.content.firstChild))h.setSelection(new W(S));else{let w=h.mapping.map(p);h.mapping.maps[h.mapping.maps.length-1].forEach((T,E,O,q)=>w=q),h.setSelection(kp(i,S,h.doc.resolve(w)))}i.focus(),i.dispatch(h.setMeta("uiEvent","drop"))};bt.focus=i=>{i.input.lastFocus=Date.now(),i.focused||(i.domObserver.stop(),i.dom.classList.add("ProseMirror-focused"),i.domObserver.start(),i.focused=!0,setTimeout(()=>{i.docView&&i.hasFocus()&&!i.domObserver.currentSelection.eq(i.domSelectionRange())&&jn(i)},20))};bt.blur=(i,e)=>{let t=e;i.focused&&(i.domObserver.stop(),i.dom.classList.remove("ProseMirror-focused"),i.domObserver.start(),t.relatedTarget&&i.dom.contains(t.relatedTarget)&&i.domObserver.currentSelection.clear(),i.focused=!1)};bt.beforeinput=(i,e)=>{if(ht&&Un&&e.inputType=="deleteContentBackward"){i.domObserver.flushSoon();let{domChangeCount:r}=i.input;setTimeout(()=>{if(i.input.domChangeCount!=r||(i.dom.blur(),i.focus(),i.someProp("handleKeyDown",l=>l(i,Zi(8,"Backspace")))))return;let{$cursor:a}=i.state.selection;a&&a.pos>0&&i.dispatch(i.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let i in vt)bt[i]=vt[i];function za(i,e){if(i==e)return!0;for(let t in i)if(i[t]!==e[t])return!1;for(let t in e)if(!(t in i))return!1;return!0}class Al{constructor(e,t){this.toDOM=e,this.spec=t||or,this.side=this.spec.side||0}map(e,t,r,a){let{pos:l,deleted:u}=e.mapResult(t.from+a,this.side<0?-1:1);return u?null:new en(l-r,l-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Al&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&za(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Mi{constructor(e,t){this.attrs=e,this.spec=t||or}map(e,t,r,a){let l=e.map(t.from+a,this.spec.inclusiveStart?-1:1)-r,u=e.map(t.to+a,this.spec.inclusiveEnd?1:-1)-r;return l>=u?null:new en(l,u,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Mi&&za(this.attrs,e.attrs)&&za(this.spec,e.spec)}static is(e){return e.type instanceof Mi}destroy(){}}class Ap{constructor(e,t){this.attrs=e,this.spec=t||or}map(e,t,r,a){let l=e.mapResult(t.from+a,1);if(l.deleted)return null;let u=e.mapResult(t.to+a,-1);return u.deleted||u.pos<=l.pos?null:new en(l.pos-r,u.pos-r,this)}valid(e,t){let{index:r,offset:a}=e.content.findIndex(t.from),l;return a==t.from&&!(l=e.child(r)).isText&&a+l.nodeSize==t.to}eq(e){return this==e||e instanceof Ap&&za(this.attrs,e.attrs)&&za(this.spec,e.spec)}destroy(){}}class en{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new en(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new en(e,e,new Al(t,r))}static inline(e,t,r,a){return new en(e,t,new Mi(r,a))}static node(e,t,r,a){return new en(e,t,new Ap(r,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof Mi}get widget(){return this.type instanceof Al}}const no=[],or={};class Pe{constructor(e,t){this.local=e.length?e:no,this.children=t.length?t:no}static create(e,t){return t.length?Rl(t,e,0,or):pt}find(e,t,r){let a=[];return this.findInner(e??0,t??1e9,a,0,r),a}findInner(e,t,r,a,l){for(let u=0;u<this.local.length;u++){let f=this.local[u];f.from<=t&&f.to>=e&&(!l||l(f.spec))&&r.push(f.copy(f.from+a,f.to+a))}for(let u=0;u<this.children.length;u+=3)if(this.children[u]<t&&this.children[u+1]>e){let f=this.children[u]+1;this.children[u+2].findInner(e-f,t-f,r,a+f,l)}}map(e,t,r){return this==pt||e.maps.length==0?this:this.mapInner(e,t,0,0,r||or)}mapInner(e,t,r,a,l){let u;for(let f=0;f<this.local.length;f++){let p=this.local[f].map(e,r,a);p&&p.type.valid(t,p)?(u||(u=[])).push(p):l.onRemove&&l.onRemove(this.local[f].spec)}return this.children.length?UE(this.children,u||[],e,t,r,a,l):u?new Pe(u.sort(ar),no):pt}add(e,t){return t.length?this==pt?Pe.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let a,l=0;e.forEach((f,p)=>{let h=p+r,y;if(y=j0(t,f,h)){for(a||(a=this.children.slice());l<a.length&&a[l]<p;)l+=3;a[l]==p?a[l+2]=a[l+2].addInner(f,y,h+1):a.splice(l,0,p,p+f.nodeSize,Rl(y,f,h+1,or)),l+=3}});let u=V0(l?Y0(t):t,-r);for(let f=0;f<u.length;f++)u[f].type.valid(e,u[f])||u.splice(f--,1);return new Pe(u.length?this.local.concat(u).sort(ar):this.local,a||this.children)}remove(e){return e.length==0||this==pt?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,a=this.local;for(let l=0;l<r.length;l+=3){let u,f=r[l]+t,p=r[l+1]+t;for(let y=0,g;y<e.length;y++)(g=e[y])&&g.from>f&&g.to<p&&(e[y]=null,(u||(u=[])).push(g));if(!u)continue;r==this.children&&(r=this.children.slice());let h=r[l+2].removeInner(u,f+1);h!=pt?r[l+2]=h:(r.splice(l,3),l-=3)}if(a.length){for(let l=0,u;l<e.length;l++)if(u=e[l])for(let f=0;f<a.length;f++)a[f].eq(u,t)&&(a==this.local&&(a=this.local.slice()),a.splice(f--,1))}return r==this.children&&a==this.local?this:a.length||r.length?new Pe(a,r):pt}forChild(e,t){if(this==pt)return this;if(t.isLeaf)return Pe.empty;let r,a;for(let f=0;f<this.children.length;f+=3)if(this.children[f]>=e){this.children[f]==e&&(r=this.children[f+2]);break}let l=e+1,u=l+t.content.size;for(let f=0;f<this.local.length;f++){let p=this.local[f];if(p.from<u&&p.to>l&&p.type instanceof Mi){let h=Math.max(l,p.from)-l,y=Math.min(u,p.to)-l;h<y&&(a||(a=[])).push(p.copy(h,y))}}if(a){let f=new Pe(a.sort(ar),no);return r?new bi([f,r]):f}return r||pt}eq(e){if(this==e)return!0;if(!(e instanceof Pe)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Rp(this.localsInner(e))}localsInner(e){if(this==pt)return no;if(e.inlineContent||!this.local.some(Mi.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Mi||t.push(this.local[r]);return t}forEachSet(e){e(this)}}Pe.empty=new Pe([],[]);Pe.removeOverlap=Rp;const pt=Pe.empty;class bi{constructor(e){this.members=e}map(e,t){const r=this.members.map(a=>a.map(e,t,or));return bi.from(r)}forChild(e,t){if(t.isLeaf)return Pe.empty;let r=[];for(let a=0;a<this.members.length;a++){let l=this.members[a].forChild(e,t);l!=pt&&(l instanceof bi?r=r.concat(l.members):r.push(l))}return bi.from(r)}eq(e){if(!(e instanceof bi)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let a=0;a<this.members.length;a++){let l=this.members[a].localsInner(e);if(l.length)if(!t)t=l;else{r&&(t=t.slice(),r=!1);for(let u=0;u<l.length;u++)t.push(l[u])}}return t?Rp(r?t:t.sort(ar)):no}static from(e){switch(e.length){case 0:return pt;case 1:return e[0];default:return new bi(e.every(t=>t instanceof Pe)?e:e.reduce((t,r)=>t.concat(r instanceof Pe?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function UE(i,e,t,r,a,l,u){let f=i.slice();for(let h=0,y=l;h<t.maps.length;h++){let g=0;t.maps[h].forEach((b,S,w,T)=>{let E=T-w-(S-b);for(let O=0;O<f.length;O+=3){let q=f[O+1];if(q<0||b>q+y-g)continue;let Y=f[O]+y-g;S>=Y?f[O+1]=b<=Y?-2:-1:b>=y&&E&&(f[O]+=E,f[O+1]+=E)}g+=E}),y=t.maps[h].map(y,-1)}let p=!1;for(let h=0;h<f.length;h+=3)if(f[h+1]<0){if(f[h+1]==-2){p=!0,f[h+1]=-1;continue}let y=t.map(i[h]+l),g=y-a;if(g<0||g>=r.content.size){p=!0;continue}let b=t.map(i[h+1]+l,-1),S=b-a,{index:w,offset:T}=r.content.findIndex(g),E=r.maybeChild(w);if(E&&T==g&&T+E.nodeSize==S){let O=f[h+2].mapInner(t,E,y+1,i[h]+l+1,u);O!=pt?(f[h]=g,f[h+1]=S,f[h+2]=O):(f[h+1]=-2,p=!0)}else p=!0}if(p){let h=qE(f,i,e,t,a,l,u),y=Rl(h,r,0,u);e=y.local;for(let g=0;g<f.length;g+=3)f[g+1]<0&&(f.splice(g,3),g-=3);for(let g=0,b=0;g<y.children.length;g+=3){let S=y.children[g];for(;b<f.length&&f[b]<S;)b+=3;f.splice(b,0,y.children[g],y.children[g+1],y.children[g+2])}}return new Pe(e.sort(ar),f)}function V0(i,e){if(!e||!i.length)return i;let t=[];for(let r=0;r<i.length;r++){let a=i[r];t.push(new en(a.from+e,a.to+e,a.type))}return t}function qE(i,e,t,r,a,l,u){function f(p,h){for(let y=0;y<p.local.length;y++){let g=p.local[y].map(r,a,h);g?t.push(g):u.onRemove&&u.onRemove(p.local[y].spec)}for(let y=0;y<p.children.length;y+=3)f(p.children[y+2],p.children[y]+h+1)}for(let p=0;p<i.length;p+=3)i[p+1]==-1&&f(i[p+2],e[p]+l+1);return t}function j0(i,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,a=null;for(let l=0,u;l<i.length;l++)(u=i[l])&&u.from>t&&u.to<r&&((a||(a=[])).push(u),i[l]=null);return a}function Y0(i){let e=[];for(let t=0;t<i.length;t++)i[t]!=null&&e.push(i[t]);return e}function Rl(i,e,t,r){let a=[],l=!1;e.forEach((f,p)=>{let h=j0(i,f,p+t);if(h){l=!0;let y=Rl(h,f,t+p+1,r);y!=pt&&a.push(p,p+f.nodeSize,y)}});let u=V0(l?Y0(i):i,-t).sort(ar);for(let f=0;f<u.length;f++)u[f].type.valid(e,u[f])||(r.onRemove&&r.onRemove(u[f].spec),u.splice(f--,1));return u.length||a.length?new Pe(u,a):pt}function ar(i,e){return i.from-e.from||i.to-e.to}function Rp(i){let e=i;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let a=t+1;a<e.length;a++){let l=e[a];if(l.from==r.from){l.to!=r.to&&(e==i&&(e=i.slice()),e[a]=l.copy(l.from,r.to),jg(e,a+1,l.copy(r.to,l.to)));continue}else{l.from<r.to&&(e==i&&(e=i.slice()),e[t]=r.copy(r.from,l.from),jg(e,a,r.copy(l.from,r.to)));break}}}return e}function jg(i,e,t){for(;e<i.length&&ar(t,i[e])>0;)e++;i.splice(e,0,t)}function Rf(i){let e=[];return i.someProp("decorations",t=>{let r=t(i.state);r&&r!=pt&&e.push(r)}),i.cursorWrapper&&e.push(Pe.create(i.state.doc,[i.cursorWrapper.deco])),bi.from(e)}const VE={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},jE=Ot&&Ei<=11;class YE{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class IE{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new YE,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let a=0;a<r.length;a++)this.queue.push(r[a]);Ot&&Ei<=11&&r.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),jE&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,VE)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(zg(this.view)){if(this.suppressingSelectionUpdates)return jn(this.view);if(Ot&&Ei<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&cr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let l=e.focusNode;l;l=lo(l))t.add(l);for(let l=e.anchorNode;l;l=lo(l))if(t.has(l)){r=l;break}let a=r&&this.view.docView.nearestDesc(r);if(a&&a.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&zg(e)&&!this.ignoreSelectionChange(r),l=-1,u=-1,f=!1,p=[];if(e.editable)for(let y=0;y<t.length;y++){let g=this.registerMutation(t[y],p);g&&(l=l<0?g.from:Math.min(g.from,l),u=u<0?g.to:Math.max(g.to,u),g.typeOver&&(f=!0))}if(sn&&p.length){let y=p.filter(g=>g.nodeName=="BR");if(y.length==2){let[g,b]=y;g.parentNode&&g.parentNode.parentNode==b.parentNode?b.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let b of y){let S=b.parentNode;S&&S.nodeName=="LI"&&(!g||PE(e,g)!=S)&&b.remove()}}}let h=null;l<0&&a&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&jl(r)&&(h=Ep(e))&&h.eq(pe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,jn(e),this.currentSelection.set(r),e.scrollToSelection()):(l>-1||a)&&(l>-1&&(e.docView.markDirty(l,u),GE(e)),this.handleDOMChange(l,u,f,p),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||jn(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let y=0;y<e.addedNodes.length;y++){let g=e.addedNodes[y];t.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let a=e.previousSibling,l=e.nextSibling;if(Ot&&Ei<=11&&e.addedNodes.length)for(let y=0;y<e.addedNodes.length;y++){let{previousSibling:g,nextSibling:b}=e.addedNodes[y];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(a=g),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(l=b)}let u=a&&a.parentNode==e.target?ot(a)+1:0,f=r.localPosFromDOM(e.target,u,-1),p=l&&l.parentNode==e.target?ot(l):e.target.childNodes.length,h=r.localPosFromDOM(e.target,p,1);return{from:f,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Yg=new WeakMap,Ig=!1;function GE(i){if(!Yg.has(i)&&(Yg.set(i,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(i.dom).whiteSpace)!==-1)){if(i.requiresGeckoHackNode=sn,Ig)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Ig=!0}}function Gg(i,e){let t=e.startContainer,r=e.startOffset,a=e.endContainer,l=e.endOffset,u=i.domAtPos(i.state.selection.anchor);return cr(u.node,u.offset,a,l)&&([t,r,a,l]=[a,l,t,r]),{anchorNode:t,anchorOffset:r,focusNode:a,focusOffset:l}}function KE(i,e){if(e.getComposedRanges){let a=e.getComposedRanges(i.root)[0];if(a)return Gg(i,a)}let t;function r(a){a.preventDefault(),a.stopImmediatePropagation(),t=a.getTargetRanges()[0]}return i.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),i.dom.removeEventListener("beforeinput",r,!0),t?Gg(i,t):null}function PE(i,e){for(let t=e.parentNode;t&&t!=i.dom;t=t.parentNode){let r=i.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function XE(i,e,t){let{node:r,fromOffset:a,toOffset:l,from:u,to:f}=i.docView.parseRange(e,t),p=i.domSelectionRange(),h,y=p.anchorNode;if(y&&i.dom.contains(y.nodeType==1?y:y.parentNode)&&(h=[{node:y,offset:p.anchorOffset}],jl(p)||h.push({node:p.focusNode,offset:p.focusOffset})),ht&&i.input.lastKeyCode===8)for(let E=l;E>a;E--){let O=r.childNodes[E-1],q=O.pmViewDesc;if(O.nodeName=="BR"&&!q){l=E;break}if(!q||q.size)break}let g=i.state.doc,b=i.someProp("domParser")||Ti.fromSchema(i.state.schema),S=g.resolve(u),w=null,T=b.parse(r,{topNode:S.parent,topMatch:S.parent.contentMatchAt(S.index()),topOpen:!0,from:a,to:l,preserveWhitespace:S.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:$E,context:S});if(h&&h[0].pos!=null){let E=h[0].pos,O=h[1]&&h[1].pos;O==null&&(O=E),w={anchor:E+u,head:O+u}}return{doc:T,sel:w,from:u,to:f}}function $E(i){let e=i.pmViewDesc;if(e)return e.parseRule();if(i.nodeName=="BR"&&i.parentNode){if(gt&&/^(ul|ol)$/i.test(i.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(i.parentNode.lastChild==i||gt&&/^(tr|table)$/i.test(i.parentNode.nodeName))return{ignore:!0}}else if(i.nodeName=="IMG"&&i.getAttribute("mark-placeholder"))return{ignore:!0};return null}const JE=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function QE(i,e,t,r,a){let l=i.input.compositionPendingChanges||(i.composing?i.input.compositionID:0);if(i.input.compositionPendingChanges=0,e<0){let X=i.input.lastSelectionTime>Date.now()-50?i.input.lastSelectionOrigin:null,se=Ep(i,X);if(se&&!i.state.selection.eq(se)){if(ht&&Un&&i.input.lastKeyCode===13&&Date.now()-100<i.input.lastKeyCodeTime&&i.someProp("handleKeyDown",xt=>xt(i,Zi(13,"Enter"))))return;let xe=i.state.tr.setSelection(se);X=="pointer"?xe.setMeta("pointer",!0):X=="key"&&xe.scrollIntoView(),l&&xe.setMeta("composition",l),i.dispatch(xe)}return}let u=i.state.doc.resolve(e),f=u.sharedDepth(t);e=u.before(f+1),t=i.state.doc.resolve(t).after(f+1);let p=i.state.selection,h=XE(i,e,t),y=i.state.doc,g=y.slice(h.from,h.to),b,S;i.input.lastKeyCode===8&&Date.now()-100<i.input.lastKeyCodeTime?(b=i.state.selection.to,S="end"):(b=i.state.selection.from,S="start"),i.input.lastKeyCode=null;let w=WE(g.content,h.doc.content,h.from,b,S);if(w&&i.input.domChangeCount++,(uo&&i.input.lastIOSEnter>Date.now()-225||Un)&&a.some(X=>X.nodeType==1&&!JE.test(X.nodeName))&&(!w||w.endA>=w.endB)&&i.someProp("handleKeyDown",X=>X(i,Zi(13,"Enter")))){i.input.lastIOSEnter=0;return}if(!w)if(r&&p instanceof le&&!p.empty&&p.$head.sameParent(p.$anchor)&&!i.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))w={start:p.from,endA:p.to,endB:p.to};else{if(h.sel){let X=Kg(i,i.state.doc,h.sel);if(X&&!X.eq(i.state.selection)){let se=i.state.tr.setSelection(X);l&&se.setMeta("composition",l),i.dispatch(se)}}return}i.state.selection.from<i.state.selection.to&&w.start==w.endB&&i.state.selection instanceof le&&(w.start>i.state.selection.from&&w.start<=i.state.selection.from+2&&i.state.selection.from>=h.from?w.start=i.state.selection.from:w.endA<i.state.selection.to&&w.endA>=i.state.selection.to-2&&i.state.selection.to<=h.to&&(w.endB+=i.state.selection.to-w.endA,w.endA=i.state.selection.to)),Ot&&Ei<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>h.from&&h.doc.textBetween(w.start-h.from-1,w.start-h.from+1)==" "&&(w.start--,w.endA--,w.endB--);let T=h.doc.resolveNoCache(w.start-h.from),E=h.doc.resolveNoCache(w.endB-h.from),O=y.resolve(w.start),q=T.sameParent(E)&&T.parent.inlineContent&&O.end()>=w.endA,Y;if((uo&&i.input.lastIOSEnter>Date.now()-225&&(!q||a.some(X=>X.nodeName=="DIV"||X.nodeName=="P"))||!q&&T.pos<h.doc.content.size&&(!T.sameParent(E)||!T.parent.inlineContent)&&!/\S/.test(h.doc.textBetween(T.pos,E.pos,"",""))&&(Y=pe.findFrom(h.doc.resolve(T.pos+1),1,!0))&&Y.head>T.pos)&&i.someProp("handleKeyDown",X=>X(i,Zi(13,"Enter")))){i.input.lastIOSEnter=0;return}if(i.state.selection.anchor>w.start&&ZE(y,w.start,w.endA,T,E)&&i.someProp("handleKeyDown",X=>X(i,Zi(8,"Backspace")))){Un&&ht&&i.domObserver.suppressSelectionUpdates();return}ht&&w.endB==w.start&&(i.input.lastChromeDelete=Date.now()),Un&&!q&&T.start()!=E.start()&&E.parentOffset==0&&T.depth==E.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==w.endA&&(w.endB-=2,E=h.doc.resolveNoCache(w.endB-h.from),setTimeout(()=>{i.someProp("handleKeyDown",function(X){return X(i,Zi(13,"Enter"))})},20));let J=w.start,I=w.endA,ie=X=>{let se=X||i.state.tr.replace(J,I,h.doc.slice(w.start-h.from,w.endB-h.from));if(h.sel){let xe=Kg(i,se.doc,h.sel);xe&&!(ht&&i.composing&&xe.empty&&(w.start!=w.endB||i.input.lastChromeDelete<Date.now()-100)&&(xe.head==J||xe.head==se.mapping.map(I)-1)||Ot&&xe.empty&&xe.head==J)&&se.setSelection(xe)}return l&&se.setMeta("composition",l),se.scrollIntoView()},ae;if(q){if(T.pos==E.pos){Ot&&Ei<=11&&T.parentOffset==0&&(i.domObserver.suppressSelectionUpdates(),setTimeout(()=>jn(i),20));let X=ie(i.state.tr.delete(J,I)),se=y.resolve(w.start).marksAcross(y.resolve(w.endA));se&&X.ensureMarks(se),i.dispatch(X)}else if(w.endA==w.endB&&(ae=FE(T.parent.content.cut(T.parentOffset,E.parentOffset),O.parent.content.cut(O.parentOffset,w.endA-O.start())))){let X=ie(i.state.tr);ae.type=="add"?X.addMark(J,I,ae.mark):X.removeMark(J,I,ae.mark),i.dispatch(X)}else if(T.parent.child(T.index()).isText&&T.index()==E.index()-(E.textOffset?0:1)){let X=T.parent.textBetween(T.parentOffset,E.parentOffset),se=()=>ie(i.state.tr.insertText(X,J,I));i.someProp("handleTextInput",xe=>xe(i,J,I,X,se))||i.dispatch(se())}}else i.dispatch(ie())}function Kg(i,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:kp(i,e.resolve(t.anchor),e.resolve(t.head))}function FE(i,e){let t=i.firstChild.marks,r=e.firstChild.marks,a=t,l=r,u,f,p;for(let y=0;y<r.length;y++)a=r[y].removeFromSet(a);for(let y=0;y<t.length;y++)l=t[y].removeFromSet(l);if(a.length==1&&l.length==0)f=a[0],u="add",p=y=>y.mark(f.addToSet(y.marks));else if(a.length==0&&l.length==1)f=l[0],u="remove",p=y=>y.mark(f.removeFromSet(y.marks));else return null;let h=[];for(let y=0;y<e.childCount;y++)h.push(p(e.child(y)));if(j.from(h).eq(i))return{mark:f,type:u}}function ZE(i,e,t,r,a){if(t-e<=a.pos-r.pos||Df(r,!0,!1)<a.pos)return!1;let l=i.resolve(e);if(!r.parent.isTextblock){let f=l.nodeAfter;return f!=null&&t==e+f.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let u=i.resolve(Df(l,!0,!0));return!u.parent.isTextblock||u.pos>t||Df(u,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(u.parent.content)}function Df(i,e,t){let r=i.depth,a=e?i.end():i.pos;for(;r>0&&(e||i.indexAfter(r)==i.node(r).childCount);)r--,a++,e=!1;if(t){let l=i.node(r).maybeChild(i.indexAfter(r));for(;l&&!l.isLeaf;)l=l.firstChild,a++}return a}function WE(i,e,t,r,a){let l=i.findDiffStart(e,t);if(l==null)return null;let{a:u,b:f}=i.findDiffEnd(e,t+i.size,t+e.size);if(a=="end"){let p=Math.max(0,l-Math.min(u,f));r-=u+p-l}if(u<l&&i.size<e.size){let p=r<=l&&r>=u?l-r:0;l-=p,l&&l<e.size&&Pg(e.textBetween(l-1,l+1))&&(l+=p?1:-1),f=l+(f-u),u=l}else if(f<l){let p=r<=l&&r>=f?l-r:0;l-=p,l&&l<i.size&&Pg(i.textBetween(l-1,l+1))&&(l+=p?1:-1),u=l+(u-f),f=l}return{start:l,endA:u,endB:f}}function Pg(i){if(i.length!=2)return!1;let e=i.charCodeAt(0),t=i.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class I0{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new bE,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Fg),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Jg(this),$g(this),this.nodeViews=Qg(this),this.docView=Cg(this.state.doc,Xg(this),Rf(this),this.dom,this),this.domObserver=new IE(this,(r,a,l,u)=>QE(this,r,a,l,u)),this.domObserver.start(),vE(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ap(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Fg),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let a=this.state,l=!1,u=!1;e.storedMarks&&this.composing&&(L0(this),u=!0),this.state=e;let f=a.plugins!=e.plugins||this._props.plugins!=t.plugins;if(f||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let S=Qg(this);tk(S,this.nodeViews)&&(this.nodeViews=S,l=!0)}(f||t.handleDOMEvents!=this._props.handleDOMEvents)&&ap(this),this.editable=Jg(this),$g(this);let p=Rf(this),h=Xg(this),y=a.plugins!=e.plugins&&!a.doc.eq(e.doc)?"reset":e.scrollToSelection>a.scrollToSelection?"to selection":"preserve",g=l||!this.docView.matchesNode(e.doc,h,p);(g||!e.selection.eq(a.selection))&&(u=!0);let b=y=="preserve"&&u&&this.dom.style.overflowAnchor==null&&zT(this);if(u){this.domObserver.stop();let S=g&&(Ot||ht)&&!this.composing&&!a.selection.empty&&!e.selection.empty&&ek(a.selection,e.selection);if(g){let w=ht?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=DE(this)),(l||!this.docView.update(e.doc,h,p,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=Cg(e.doc,h,p,this.dom,this)),w&&!this.trackWrites&&(S=!0)}S||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&iE(this))?jn(this,S):(E0(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),!((r=this.dragging)===null||r===void 0)&&r.node&&!a.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,a),y=="reset"?this.dom.scrollTop=0:y=="to selection"?this.scrollToSelection():b&&BT(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof W){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Sg(this,t.getBoundingClientRect(),e)}else Sg(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,a=-1;if(this.state.doc.nodeAt(r.from)==r.node)a=r.from;else{let l=r.from+(this.state.doc.content.size-t.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==r.node&&(a=l)}this.dragging=new U0(e.slice,e.move,a<0?void 0:W.create(this.state.doc,a))}someProp(e,t){let r=this._props&&this._props[e],a;if(r!=null&&(a=t?t(r):r))return a;for(let u=0;u<this.directPlugins.length;u++){let f=this.directPlugins[u].props[e];if(f!=null&&(a=t?t(f):f))return a}let l=this.state.plugins;if(l)for(let u=0;u<l.length;u++){let f=l[u].props[e];if(f!=null&&(a=t?t(f):f))return a}}hasFocus(){if(Ot){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&_T(this.dom),jn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return VT(this,e)}coordsAtPos(e,t=1){return y0(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let a=this.docView.posFromDOM(e,t,r);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(e,t){return KT(this,t||this.state,e)}pasteHTML(e,t){return Da(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Da(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Mp(this,e)}destroy(){this.docView&&(wE(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Rf(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,xT())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return xE(this,e)}domSelectionRange(){let e=this.domSelection();return e?gt&&this.root.nodeType===11&&CT(this.dom.ownerDocument)==this.dom&&KE(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}I0.prototype.dispatch=function(i){let e=this._props.dispatchTransaction;e?e.call(this,i):this.updateState(this.state.apply(i))};function Xg(i){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(i.editable),i.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(i.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[en.node(0,i.state.doc.content.size,e)]}function $g(i){if(i.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),i.cursorWrapper={dom:e,deco:en.widget(i.state.selection.from,e,{raw:!0,marks:i.markCursor})}}else i.cursorWrapper=null}function Jg(i){return!i.someProp("editable",e=>e(i.state)===!1)}function ek(i,e){let t=Math.min(i.$anchor.sharedDepth(i.head),e.$anchor.sharedDepth(e.head));return i.$anchor.start(t)!=e.$anchor.start(t)}function Qg(i){let e=Object.create(null);function t(r){for(let a in r)Object.prototype.hasOwnProperty.call(e,a)||(e[a]=r[a])}return i.someProp("nodeViews",t),i.someProp("markViews",t),e}function tk(i,e){let t=0,r=0;for(let a in i){if(i[a]!=e[a])return!0;t++}for(let a in e)r++;return t!=r}function Fg(i){if(i.spec.state||i.spec.filterTransaction||i.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ci={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Dl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},nk=typeof navigator<"u"&&/Mac/.test(navigator.platform),ik=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var at=0;at<10;at++)Ci[48+at]=Ci[96+at]=String(at);for(var at=1;at<=24;at++)Ci[at+111]="F"+at;for(var at=65;at<=90;at++)Ci[at]=String.fromCharCode(at+32),Dl[at]=String.fromCharCode(at);for(var zf in Ci)Dl.hasOwnProperty(zf)||(Dl[zf]=Ci[zf]);function rk(i){var e=nk&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||ik&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",t=!e&&i.key||(i.shiftKey?Dl:Ci)[i.keyCode]||i.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const ok=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),ak=typeof navigator<"u"&&/Win/.test(navigator.platform);function sk(i){let e=i.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,a,l,u;for(let f=0;f<e.length-1;f++){let p=e[f];if(/^(cmd|meta|m)$/i.test(p))u=!0;else if(/^a(lt)?$/i.test(p))r=!0;else if(/^(c|ctrl|control)$/i.test(p))a=!0;else if(/^s(hift)?$/i.test(p))l=!0;else if(/^mod$/i.test(p))ok?u=!0:a=!0;else throw new Error("Unrecognized modifier name: "+p)}return r&&(t="Alt-"+t),a&&(t="Ctrl-"+t),u&&(t="Meta-"+t),l&&(t="Shift-"+t),t}function lk(i){let e=Object.create(null);for(let t in i)e[sk(t)]=i[t];return e}function Bf(i,e,t=!0){return e.altKey&&(i="Alt-"+i),e.ctrlKey&&(i="Ctrl-"+i),e.metaKey&&(i="Meta-"+i),t&&e.shiftKey&&(i="Shift-"+i),i}function uk(i){return new At({props:{handleKeyDown:G0(i)}})}function G0(i){let e=lk(i);return function(t,r){let a=rk(r),l,u=e[Bf(a,r)];if(u&&u(t.state,t.dispatch,t))return!0;if(a.length==1&&a!=" "){if(r.shiftKey){let f=e[Bf(a,r,!1)];if(f&&f(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(ak&&r.ctrlKey&&r.altKey)&&(l=Ci[r.keyCode])&&l!=a){let f=e[Bf(l,r)];if(f&&f(t.state,t.dispatch,t))return!0}}return!1}}const Dp=(i,e)=>i.selection.empty?!1:(e&&e(i.tr.deleteSelection().scrollIntoView()),!0);function K0(i,e){let{$cursor:t}=i.selection;return!t||(e?!e.endOfTextblock("backward",i):t.parentOffset>0)?null:t}const P0=(i,e,t)=>{let r=K0(i,t);if(!r)return!1;let a=zp(r);if(!a){let u=r.blockRange(),f=u&&yo(u);return f==null?!1:(e&&e(i.tr.lift(u,f).scrollIntoView()),!0)}let l=a.nodeBefore;if(t1(i,a,e,-1))return!0;if(r.parent.content.size==0&&(co(l,"end")||W.isSelectable(l)))for(let u=r.depth;;u--){let f=ql(i.doc,r.before(u),r.after(u),P.empty);if(f&&f.slice.size<f.to-f.from){if(e){let p=i.tr.step(f);p.setSelection(co(l,"end")?pe.findFrom(p.doc.resolve(p.mapping.map(a.pos,-1)),-1):W.create(p.doc,a.pos-l.nodeSize)),e(p.scrollIntoView())}return!0}if(u==1||r.node(u-1).childCount>1)break}return l.isAtom&&a.depth==r.depth-1?(e&&e(i.tr.delete(a.pos-l.nodeSize,a.pos).scrollIntoView()),!0):!1},ck=(i,e,t)=>{let r=K0(i,t);if(!r)return!1;let a=zp(r);return a?X0(i,a,e):!1},fk=(i,e,t)=>{let r=J0(i,t);if(!r)return!1;let a=Bp(r);return a?X0(i,a,e):!1};function X0(i,e,t){let r=e.nodeBefore,a=r,l=e.pos-1;for(;!a.isTextblock;l--){if(a.type.spec.isolating)return!1;let y=a.lastChild;if(!y)return!1;a=y}let u=e.nodeAfter,f=u,p=e.pos+1;for(;!f.isTextblock;p++){if(f.type.spec.isolating)return!1;let y=f.firstChild;if(!y)return!1;f=y}let h=ql(i.doc,l,p,P.empty);if(!h||h.from!=l||h instanceof Fe&&h.slice.size>=p-l)return!1;if(t){let y=i.tr.step(h);y.setSelection(le.create(y.doc,l)),t(y.scrollIntoView())}return!0}function co(i,e,t=!1){for(let r=i;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const $0=(i,e,t)=>{let{$head:r,empty:a}=i.selection,l=r;if(!a)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",i):r.parentOffset>0)return!1;l=zp(r)}let u=l&&l.nodeBefore;return!u||!W.isSelectable(u)?!1:(e&&e(i.tr.setSelection(W.create(i.doc,l.pos-u.nodeSize)).scrollIntoView()),!0)};function zp(i){if(!i.parent.type.spec.isolating)for(let e=i.depth-1;e>=0;e--){if(i.index(e)>0)return i.doc.resolve(i.before(e+1));if(i.node(e).type.spec.isolating)break}return null}function J0(i,e){let{$cursor:t}=i.selection;return!t||(e?!e.endOfTextblock("forward",i):t.parentOffset<t.parent.content.size)?null:t}const Q0=(i,e,t)=>{let r=J0(i,t);if(!r)return!1;let a=Bp(r);if(!a)return!1;let l=a.nodeAfter;if(t1(i,a,e,1))return!0;if(r.parent.content.size==0&&(co(l,"start")||W.isSelectable(l))){let u=ql(i.doc,r.before(),r.after(),P.empty);if(u&&u.slice.size<u.to-u.from){if(e){let f=i.tr.step(u);f.setSelection(co(l,"start")?pe.findFrom(f.doc.resolve(f.mapping.map(a.pos)),1):W.create(f.doc,f.mapping.map(a.pos))),e(f.scrollIntoView())}return!0}}return l.isAtom&&a.depth==r.depth-1?(e&&e(i.tr.delete(a.pos,a.pos+l.nodeSize).scrollIntoView()),!0):!1},F0=(i,e,t)=>{let{$head:r,empty:a}=i.selection,l=r;if(!a)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",i):r.parentOffset<r.parent.content.size)return!1;l=Bp(r)}let u=l&&l.nodeAfter;return!u||!W.isSelectable(u)?!1:(e&&e(i.tr.setSelection(W.create(i.doc,l.pos)).scrollIntoView()),!0)};function Bp(i){if(!i.parent.type.spec.isolating)for(let e=i.depth-1;e>=0;e--){let t=i.node(e);if(i.index(e)+1<t.childCount)return i.doc.resolve(i.after(e+1));if(t.type.spec.isolating)break}return null}const pk=(i,e)=>{let t=i.selection,r=t instanceof W,a;if(r){if(t.node.isTextblock||!Ni(i.doc,t.from))return!1;a=t.from}else if(a=Ul(i.doc,t.from,-1),a==null)return!1;if(e){let l=i.tr.join(a);r&&l.setSelection(W.create(l.doc,a-i.doc.resolve(a).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},dk=(i,e)=>{let t=i.selection,r;if(t instanceof W){if(t.node.isTextblock||!Ni(i.doc,t.to))return!1;r=t.to}else if(r=Ul(i.doc,t.to,1),r==null)return!1;return e&&e(i.tr.join(r).scrollIntoView()),!0},hk=(i,e)=>{let{$from:t,$to:r}=i.selection,a=t.blockRange(r),l=a&&yo(a);return l==null?!1:(e&&e(i.tr.lift(a,l).scrollIntoView()),!0)},Z0=(i,e)=>{let{$head:t,$anchor:r}=i.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(i.tr.insertText(`
`).scrollIntoView()),!0)};function _p(i){for(let e=0;e<i.edgeCount;e++){let{type:t}=i.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const mk=(i,e)=>{let{$head:t,$anchor:r}=i.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let a=t.node(-1),l=t.indexAfter(-1),u=_p(a.contentMatchAt(l));if(!u||!a.canReplaceWith(l,l,u))return!1;if(e){let f=t.after(),p=i.tr.replaceWith(f,f,u.createAndFill());p.setSelection(pe.near(p.doc.resolve(f),1)),e(p.scrollIntoView())}return!0},W0=(i,e)=>{let t=i.selection,{$from:r,$to:a}=t;if(t instanceof Yt||r.parent.inlineContent||a.parent.inlineContent)return!1;let l=_p(a.parent.contentMatchAt(a.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let u=(!r.parentOffset&&a.index()<a.parent.childCount?r:a).pos,f=i.tr.insert(u,l.createAndFill());f.setSelection(le.create(f.doc,u+1)),e(f.scrollIntoView())}return!0},e1=(i,e)=>{let{$cursor:t}=i.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let l=t.before();if(Vn(i.doc,l))return e&&e(i.tr.split(l).scrollIntoView()),!0}let r=t.blockRange(),a=r&&yo(r);return a==null?!1:(e&&e(i.tr.lift(r,a).scrollIntoView()),!0)};function yk(i){return(e,t)=>{let{$from:r,$to:a}=e.selection;if(e.selection instanceof W&&e.selection.node.isBlock)return!r.parentOffset||!Vn(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let l=[],u,f,p=!1,h=!1;for(let S=r.depth;;S--)if(r.node(S).isBlock){p=r.end(S)==r.pos+(r.depth-S),h=r.start(S)==r.pos-(r.depth-S),f=_p(r.node(S-1).contentMatchAt(r.indexAfter(S-1))),l.unshift(p&&f?{type:f}:null),u=S;break}else{if(S==1)return!1;l.unshift(null)}let y=e.tr;(e.selection instanceof le||e.selection instanceof Yt)&&y.deleteSelection();let g=y.mapping.map(r.pos),b=Vn(y.doc,g,l.length,l);if(b||(l[0]=f?{type:f}:null,b=Vn(y.doc,g,l.length,l)),!b)return!1;if(y.split(g,l.length,l),!p&&h&&r.node(u).type!=f){let S=y.mapping.map(r.before(u)),w=y.doc.resolve(S);f&&r.node(u-1).canReplaceWith(w.index(),w.index()+1,f)&&y.setNodeMarkup(y.mapping.map(r.before(u)),f)}return t&&t(y.scrollIntoView()),!0}}const gk=yk(),bk=(i,e)=>{let{$from:t,to:r}=i.selection,a,l=t.sharedDepth(r);return l==0?!1:(a=t.before(l),e&&e(i.tr.setSelection(W.create(i.doc,a))),!0)};function vk(i,e,t){let r=e.nodeBefore,a=e.nodeAfter,l=e.index();return!r||!a||!r.type.compatibleContent(a.type)?!1:!r.content.size&&e.parent.canReplace(l-1,l)?(t&&t(i.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(a.isTextblock||Ni(i.doc,e.pos))?!1:(t&&t(i.tr.join(e.pos).scrollIntoView()),!0)}function t1(i,e,t,r){let a=e.nodeBefore,l=e.nodeAfter,u,f,p=a.type.spec.isolating||l.type.spec.isolating;if(!p&&vk(i,e,t))return!0;let h=!p&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(u=(f=a.contentMatchAt(a.childCount)).findWrapping(l.type))&&f.matchType(u[0]||l.type).validEnd){if(t){let S=e.pos+l.nodeSize,w=j.empty;for(let O=u.length-1;O>=0;O--)w=j.from(u[O].create(null,w));w=j.from(a.copy(w));let T=i.tr.step(new Ze(e.pos-1,S,e.pos,S,new P(w,1,0),u.length,!0)),E=T.doc.resolve(S+2*u.length);E.nodeAfter&&E.nodeAfter.type==a.type&&Ni(T.doc,E.pos)&&T.join(E.pos),t(T.scrollIntoView())}return!0}let y=l.type.spec.isolating||r>0&&p?null:pe.findFrom(e,1),g=y&&y.$from.blockRange(y.$to),b=g&&yo(g);if(b!=null&&b>=e.depth)return t&&t(i.tr.lift(g,b).scrollIntoView()),!0;if(h&&co(l,"start",!0)&&co(a,"end")){let S=a,w=[];for(;w.push(S),!S.isTextblock;)S=S.lastChild;let T=l,E=1;for(;!T.isTextblock;T=T.firstChild)E++;if(S.canReplace(S.childCount,S.childCount,T.content)){if(t){let O=j.empty;for(let Y=w.length-1;Y>=0;Y--)O=j.from(w[Y].copy(O));let q=i.tr.step(new Ze(e.pos-w.length,e.pos+l.nodeSize,e.pos+E,e.pos+l.nodeSize-E,new P(O,w.length,0),0,!0));t(q.scrollIntoView())}return!0}}return!1}function n1(i){return function(e,t){let r=e.selection,a=i<0?r.$from:r.$to,l=a.depth;for(;a.node(l).isInline;){if(!l)return!1;l--}return a.node(l).isTextblock?(t&&t(e.tr.setSelection(le.create(e.doc,i<0?a.start(l):a.end(l)))),!0):!1}}const wk=n1(-1),Sk=n1(1);function xk(i,e=null){return function(t,r){let{$from:a,$to:l}=t.selection,u=a.blockRange(l),f=u&&Sp(u,i,e);return f?(r&&r(t.tr.wrap(u,f).scrollIntoView()),!0):!1}}function Zg(i,e=null){return function(t,r){let a=!1;for(let l=0;l<t.selection.ranges.length&&!a;l++){let{$from:{pos:u},$to:{pos:f}}=t.selection.ranges[l];t.doc.nodesBetween(u,f,(p,h)=>{if(a)return!1;if(!(!p.isTextblock||p.hasMarkup(i,e)))if(p.type==i)a=!0;else{let y=t.doc.resolve(h),g=y.index();a=y.parent.canReplaceWith(g,g+1,i)}})}if(!a)return!1;if(r){let l=t.tr;for(let u=0;u<t.selection.ranges.length;u++){let{$from:{pos:f},$to:{pos:p}}=t.selection.ranges[u];l.setBlockType(f,p,i,e)}r(l.scrollIntoView())}return!0}}function Lp(...i){return function(e,t,r){for(let a=0;a<i.length;a++)if(i[a](e,t,r))return!0;return!1}}Lp(Dp,P0,$0);Lp(Dp,Q0,F0);Lp(Z0,W0,e1,gk);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Tk(i,e=null){return function(t,r){let{$from:a,$to:l}=t.selection,u=a.blockRange(l);if(!u)return!1;let f=r?t.tr:null;return Ek(f,u,i,e)?(r&&r(f.scrollIntoView()),!0):!1}}function Ek(i,e,t,r=null){let a=!1,l=e,u=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let p=u.resolve(e.start-2);l=new kl(p,p,e.depth),e.endIndex<e.parent.childCount&&(e=new kl(e.$from,u.resolve(e.$to.end(e.depth)),e.depth)),a=!0}let f=Sp(l,t,r,e);return f?(i&&kk(i,e,f,a,t),!0):!1}function kk(i,e,t,r,a){let l=j.empty;for(let y=t.length-1;y>=0;y--)l=j.from(t[y].type.create(t[y].attrs,l));i.step(new Ze(e.start-(r?2:0),e.end,e.start,e.end,new P(l,0,0),t.length,!0));let u=0;for(let y=0;y<t.length;y++)t[y].type==a&&(u=y+1);let f=t.length-u,p=e.start+t.length-(r?2:0),h=e.parent;for(let y=e.startIndex,g=e.endIndex,b=!0;y<g;y++,b=!1)!b&&Vn(i.doc,p,f)&&(i.split(p,f),p+=2*f),p+=h.child(y).nodeSize;return i}function Mk(i){return function(e,t){let{$from:r,$to:a}=e.selection,l=r.blockRange(a,u=>u.childCount>0&&u.firstChild.type==i);return l?t?r.node(l.depth-1).type==i?Ck(e,t,i,l):Ok(e,t,l):!0:!1}}function Ck(i,e,t,r){let a=i.tr,l=r.end,u=r.$to.end(r.depth);l<u&&(a.step(new Ze(l-1,u,l,u,new P(j.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new kl(a.doc.resolve(r.$from.pos),a.doc.resolve(u),r.depth));const f=yo(r);if(f==null)return!1;a.lift(r,f);let p=a.doc.resolve(a.mapping.map(l,-1)-1);return Ni(a.doc,p.pos)&&p.nodeBefore.type==p.nodeAfter.type&&a.join(p.pos),e(a.scrollIntoView()),!0}function Ok(i,e,t){let r=i.tr,a=t.parent;for(let S=t.end,w=t.endIndex-1,T=t.startIndex;w>T;w--)S-=a.child(w).nodeSize,r.delete(S-1,S+1);let l=r.doc.resolve(t.start),u=l.nodeAfter;if(r.mapping.map(t.end)!=t.start+l.nodeAfter.nodeSize)return!1;let f=t.startIndex==0,p=t.endIndex==a.childCount,h=l.node(-1),y=l.index(-1);if(!h.canReplace(y+(f?0:1),y+1,u.content.append(p?j.empty:j.from(a))))return!1;let g=l.pos,b=g+u.nodeSize;return r.step(new Ze(g-(f?1:0),b+(p?1:0),g+1,b-1,new P((f?j.empty:j.from(a.copy(j.empty))).append(p?j.empty:j.from(a.copy(j.empty))),f?0:1,p?0:1),f?0:1)),e(r.scrollIntoView()),!0}function Nk(i){return function(e,t){let{$from:r,$to:a}=e.selection,l=r.blockRange(a,h=>h.childCount>0&&h.firstChild.type==i);if(!l)return!1;let u=l.startIndex;if(u==0)return!1;let f=l.parent,p=f.child(u-1);if(p.type!=i)return!1;if(t){let h=p.lastChild&&p.lastChild.type==f.type,y=j.from(h?i.create():null),g=new P(j.from(i.create(null,j.from(f.type.create(null,y)))),h?3:1,0),b=l.start,S=l.end;t(e.tr.step(new Ze(b-(h?3:1),S,b,S,g,1,!0)).scrollIntoView())}return!0}}function Gl(i){const{state:e,transaction:t}=i;let{selection:r}=t,{doc:a}=t,{storedMarks:l}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return r},get doc(){return a},get tr(){return r=t.selection,a=t.doc,l=t.storedMarks,t}}}class Kl{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:a}=t,{tr:l}=r,u=this.buildProps(l);return Object.fromEntries(Object.entries(e).map(([f,p])=>[f,(...y)=>{const g=p(...y)(u);return!l.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(l),g}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:a,state:l}=this,{view:u}=a,f=[],p=!!e,h=e||l.tr,y=()=>(!p&&t&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&u.dispatch(h),f.every(b=>b===!0)),g={...Object.fromEntries(Object.entries(r).map(([b,S])=>[b,(...T)=>{const E=this.buildProps(h,t),O=S(...T)(E);return f.push(O),g}])),run:y};return g}createCan(e){const{rawCommands:t,state:r}=this,a=!1,l=e||r.tr,u=this.buildProps(l,a);return{...Object.fromEntries(Object.entries(t).map(([p,h])=>[p,(...y)=>h(...y)({...u,dispatch:void 0})])),chain:()=>this.createChain(l,a)}}buildProps(e,t=!0){const{rawCommands:r,editor:a,state:l}=this,{view:u}=a,f={tr:e,editor:a,view:u,state:Gl({state:l,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([p,h])=>[p,(...y)=>h(...y)(f)]))}};return f}}class Ak{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(a=>a.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(a=>a!==t):delete this.callbacks[e]),this}once(e,t){const r=(...a)=>{this.off(e,r),t.apply(this,a)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function F(i,e,t){return i.config[e]===void 0&&i.parent?F(i.parent,e,t):typeof i.config[e]=="function"?i.config[e].bind({...t,parent:i.parent?F(i.parent,e,t):null}):i.config[e]}function Pl(i){const e=i.filter(a=>a.type==="extension"),t=i.filter(a=>a.type==="node"),r=i.filter(a=>a.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function i1(i){const e=[],{nodeExtensions:t,markExtensions:r}=Pl(i),a=[...t,...r],l={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return i.forEach(u=>{const f={name:u.name,options:u.options,storage:u.storage,extensions:a},p=F(u,"addGlobalAttributes",f);if(!p)return;p().forEach(y=>{y.types.forEach(g=>{Object.entries(y.attributes).forEach(([b,S])=>{e.push({type:g,name:b,attribute:{...l,...S}})})})})}),a.forEach(u=>{const f={name:u.name,options:u.options,storage:u.storage},p=F(u,"addAttributes",f);if(!p)return;const h=p();Object.entries(h).forEach(([y,g])=>{const b={...l,...g};typeof(b==null?void 0:b.default)=="function"&&(b.default=b.default()),b!=null&&b.isRequired&&(b==null?void 0:b.default)===void 0&&delete b.default,e.push({type:u.name,name:y,attribute:b})})}),e}function et(i,e){if(typeof i=="string"){if(!e.nodes[i])throw Error(`There is no node type named '${i}'. Maybe you forgot to add the extension?`);return e.nodes[i]}return i}function wt(...i){return i.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([a,l])=>{if(!r[a]){r[a]=l;return}if(a==="class"){const f=l?String(l).split(" "):[],p=r[a]?r[a].split(" "):[],h=f.filter(y=>!p.includes(y));r[a]=[...p,...h].join(" ")}else if(a==="style"){const f=l?l.split(";").map(y=>y.trim()).filter(Boolean):[],p=r[a]?r[a].split(";").map(y=>y.trim()).filter(Boolean):[],h=new Map;p.forEach(y=>{const[g,b]=y.split(":").map(S=>S.trim());h.set(g,b)}),f.forEach(y=>{const[g,b]=y.split(":").map(S=>S.trim());h.set(g,b)}),r[a]=Array.from(h.entries()).map(([y,g])=>`${y}: ${g}`).join("; ")}else r[a]=l}),r},{})}function sp(i,e){return e.filter(t=>t.type===i.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(i.attrs)||{}:{[t.name]:i.attrs[t.name]}).reduce((t,r)=>wt(t,r),{})}function r1(i){return typeof i=="function"}function he(i,e=void 0,...t){return r1(i)?e?i.bind(e)(...t):i(...t):i}function Rk(i={}){return Object.keys(i).length===0&&i.constructor===Object}function Dk(i){return typeof i!="string"?i:i.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(i):i==="true"?!0:i==="false"?!1:i}function Wg(i,e){return"style"in i?i:{...i,getAttrs:t=>{const r=i.getAttrs?i.getAttrs(t):i.attrs;if(r===!1)return!1;const a=e.reduce((l,u)=>{const f=u.attribute.parseHTML?u.attribute.parseHTML(t):Dk(t.getAttribute(u.name));return f==null?l:{...l,[u.name]:f}},{});return{...r,...a}}}}function eb(i){return Object.fromEntries(Object.entries(i).filter(([e,t])=>e==="attrs"&&Rk(t)?!1:t!=null))}function zk(i,e){var t;const r=i1(i),{nodeExtensions:a,markExtensions:l}=Pl(i),u=(t=a.find(h=>F(h,"topNode")))===null||t===void 0?void 0:t.name,f=Object.fromEntries(a.map(h=>{const y=r.filter(O=>O.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},b=i.reduce((O,q)=>{const Y=F(q,"extendNodeSchema",g);return{...O,...Y?Y(h):{}}},{}),S=eb({...b,content:he(F(h,"content",g)),marks:he(F(h,"marks",g)),group:he(F(h,"group",g)),inline:he(F(h,"inline",g)),atom:he(F(h,"atom",g)),selectable:he(F(h,"selectable",g)),draggable:he(F(h,"draggable",g)),code:he(F(h,"code",g)),whitespace:he(F(h,"whitespace",g)),linebreakReplacement:he(F(h,"linebreakReplacement",g)),defining:he(F(h,"defining",g)),isolating:he(F(h,"isolating",g)),attrs:Object.fromEntries(y.map(O=>{var q;return[O.name,{default:(q=O==null?void 0:O.attribute)===null||q===void 0?void 0:q.default}]}))}),w=he(F(h,"parseHTML",g));w&&(S.parseDOM=w.map(O=>Wg(O,y)));const T=F(h,"renderHTML",g);T&&(S.toDOM=O=>T({node:O,HTMLAttributes:sp(O,y)}));const E=F(h,"renderText",g);return E&&(S.toText=E),[h.name,S]})),p=Object.fromEntries(l.map(h=>{const y=r.filter(E=>E.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},b=i.reduce((E,O)=>{const q=F(O,"extendMarkSchema",g);return{...E,...q?q(h):{}}},{}),S=eb({...b,inclusive:he(F(h,"inclusive",g)),excludes:he(F(h,"excludes",g)),group:he(F(h,"group",g)),spanning:he(F(h,"spanning",g)),code:he(F(h,"code",g)),attrs:Object.fromEntries(y.map(E=>{var O;return[E.name,{default:(O=E==null?void 0:E.attribute)===null||O===void 0?void 0:O.default}]}))}),w=he(F(h,"parseHTML",g));w&&(S.parseDOM=w.map(E=>Wg(E,y)));const T=F(h,"renderHTML",g);return T&&(S.toDOM=E=>T({mark:E,HTMLAttributes:sp(E,y)})),[h.name,S]}));return new Pb({topNode:u,nodes:f,marks:p})}function _f(i,e){return e.nodes[i]||e.marks[i]||null}function tb(i,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===i.name):e}function Hp(i,e){const t=dr.fromSchema(e).serializeFragment(i),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(t),a.innerHTML}const Bk=(i,e=500)=>{let t="";const r=i.parentOffset;return i.parent.nodesBetween(Math.max(0,r-e),r,(a,l,u,f)=>{var p,h;const y=((h=(p=a.type.spec).toText)===null||h===void 0?void 0:h.call(p,{node:a,pos:l,parent:u,index:f}))||a.textContent||"%leaf%";t+=a.isAtom&&!a.isText?y:y.slice(0,Math.max(0,r-l))}),t};function Up(i){return Object.prototype.toString.call(i)==="[object RegExp]"}class Xl{constructor(e){this.find=e.find,this.handler=e.handler}}const _k=(i,e)=>{if(Up(e))return e.exec(i);const t=e(i);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=i,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function ul(i){var e;const{editor:t,from:r,to:a,text:l,rules:u,plugin:f}=i,{view:p}=t;if(p.composing)return!1;const h=p.state.doc.resolve(r);if(h.parent.type.spec.code||!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(b=>b.type.spec.code))return!1;let y=!1;const g=Bk(h)+l;return u.forEach(b=>{if(y)return;const S=_k(g,b.find);if(!S)return;const w=p.state.tr,T=Gl({state:p.state,transaction:w}),E={from:r-(S[0].length-l.length),to:a},{commands:O,chain:q,can:Y}=new Kl({editor:t,state:T});b.handler({state:T,range:E,match:S,commands:O,chain:q,can:Y})===null||!w.steps.length||(w.setMeta(f,{transform:w,from:r,to:a,text:l}),p.dispatch(w),y=!0)}),y}function Lk(i){const{editor:e,rules:t}=i,r=new At({state:{init(){return null},apply(a,l,u){const f=a.getMeta(r);if(f)return f;const p=a.getMeta("applyInputRules");return!!p&&setTimeout(()=>{let{text:y}=p;typeof y=="string"?y=y:y=Hp(j.from(y),u.schema);const{from:g}=p,b=g+y.length;ul({editor:e,from:g,to:b,text:y,rules:t,plugin:r})}),a.selectionSet||a.docChanged?null:l}},props:{handleTextInput(a,l,u,f){return ul({editor:e,from:l,to:u,text:f,rules:t,plugin:r})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:l}=a.state.selection;l&&ul({editor:e,from:l.pos,to:l.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(a,l){if(l.key!=="Enter")return!1;const{$cursor:u}=a.state.selection;return u?ul({editor:e,from:u.pos,to:u.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function Hk(i){return Object.prototype.toString.call(i).slice(8,-1)}function cl(i){return Hk(i)!=="Object"?!1:i.constructor===Object&&Object.getPrototypeOf(i)===Object.prototype}function $l(i,e){const t={...i};return cl(i)&&cl(e)&&Object.keys(e).forEach(r=>{cl(e[r])&&cl(i[r])?t[r]=$l(i[r],e[r]):t[r]=e[r]}),t}class Oi{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=he(F(this,"addOptions",{name:this.name}))),this.storage=he(F(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Oi(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>$l(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Oi(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=he(F(t,"addOptions",{name:t.name})),t.storage=he(F(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,a=e.state.selection.$from;if(a.pos===a.end()){const u=a.marks();if(!!!u.find(h=>(h==null?void 0:h.type.name)===t.name))return!1;const p=u.find(h=>(h==null?void 0:h.type.name)===t.name);return p&&r.removeStoredMark(p),r.insertText(" ",a.pos),e.view.dispatch(r),!0}return!1}}function Uk(i){return typeof i=="number"}class qk{constructor(e){this.find=e.find,this.handler=e.handler}}const Vk=(i,e,t)=>{if(Up(e))return[...i.matchAll(e)];const r=e(i,t);return r?r.map(a=>{const l=[a.text];return l.index=a.index,l.input=i,l.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(a.replaceWith)),l}):[]};function jk(i){const{editor:e,state:t,from:r,to:a,rule:l,pasteEvent:u,dropEvent:f}=i,{commands:p,chain:h,can:y}=new Kl({editor:e,state:t}),g=[];return t.doc.nodesBetween(r,a,(S,w)=>{if(!S.isTextblock||S.type.spec.code)return;const T=Math.max(r,w),E=Math.min(a,w+S.content.size),O=S.textBetween(T-w,E-w,void 0,"");Vk(O,l.find,u).forEach(Y=>{if(Y.index===void 0)return;const J=T+Y.index+1,I=J+Y[0].length,ie={from:t.tr.mapping.map(J),to:t.tr.mapping.map(I)},ae=l.handler({state:t,range:ie,match:Y,commands:p,chain:h,can:y,pasteEvent:u,dropEvent:f});g.push(ae)})}),g.every(S=>S!==null)}let fl=null;const Yk=i=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",i),t};function Ik(i){const{editor:e,rules:t}=i;let r=null,a=!1,l=!1,u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,f;try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}const p=({state:y,from:g,to:b,rule:S,pasteEvt:w})=>{const T=y.tr,E=Gl({state:y,transaction:T});if(!(!jk({editor:e,state:E,from:Math.max(g-1,0),to:b.b-1,rule:S,pasteEvent:w,dropEvent:f})||!T.steps.length)){try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}return u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,T}};return t.map(y=>new At({view(g){const b=w=>{var T;r=!((T=g.dom.parentElement)===null||T===void 0)&&T.contains(w.target)?g.dom.parentElement:null,r&&(fl=e)},S=()=>{fl&&(fl=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",S),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",S)}}},props:{handleDOMEvents:{drop:(g,b)=>{if(l=r===g.dom.parentElement,f=b,!l){const S=fl;S&&setTimeout(()=>{const w=S.state.selection;w&&S.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(g,b)=>{var S;const w=(S=b.clipboardData)===null||S===void 0?void 0:S.getData("text/html");return u=b,a=!!(w!=null&&w.includes("data-pm-slice")),!1}}},appendTransaction:(g,b,S)=>{const w=g[0],T=w.getMeta("uiEvent")==="paste"&&!a,E=w.getMeta("uiEvent")==="drop"&&!l,O=w.getMeta("applyPasteRules"),q=!!O;if(!T&&!E&&!q)return;if(q){let{text:I}=O;typeof I=="string"?I=I:I=Hp(j.from(I),S.schema);const{from:ie}=O,ae=ie+I.length,X=Yk(I);return p({rule:y,state:S,from:ie,to:{b:ae},pasteEvt:X})}const Y=b.doc.content.findDiffStart(S.doc.content),J=b.doc.content.findDiffEnd(S.doc.content);if(!(!Uk(Y)||!J||Y===J.b))return p({rule:y,state:S,from:Y,to:J,pasteEvt:u})}}))}function Gk(i){const e=i.filter((t,r)=>i.indexOf(t)!==r);return Array.from(new Set(e))}class ro{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=ro.resolve(e),this.schema=zk(this.extensions,t),this.setupExtensions()}static resolve(e){const t=ro.sort(ro.flatten(e)),r=Gk(t.map(a=>a.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(a=>`'${a}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},a=F(t,"addExtensions",r);return a?[t,...this.flatten(a())]:t}).flat(10)}static sort(e){return e.sort((r,a)=>{const l=F(r,"priority")||100,u=F(a,"priority")||100;return l>u?-1:l<u?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:_f(t.name,this.schema)},a=F(t,"addCommands",r);return a?{...e,...a()}:e},{})}get plugins(){const{editor:e}=this,t=ro.sort([...this.extensions].reverse()),r=[],a=[],l=t.map(u=>{const f={name:u.name,options:u.options,storage:u.storage,editor:e,type:_f(u.name,this.schema)},p=[],h=F(u,"addKeyboardShortcuts",f);let y={};if(u.type==="mark"&&F(u,"exitable",f)&&(y.ArrowRight=()=>Oi.handleExit({editor:e,mark:u})),h){const T=Object.fromEntries(Object.entries(h()).map(([E,O])=>[E,()=>O({editor:e})]));y={...y,...T}}const g=uk(y);p.push(g);const b=F(u,"addInputRules",f);tb(u,e.options.enableInputRules)&&b&&r.push(...b());const S=F(u,"addPasteRules",f);tb(u,e.options.enablePasteRules)&&S&&a.push(...S());const w=F(u,"addProseMirrorPlugins",f);if(w){const T=w();p.push(...T)}return p}).flat();return[Lk({editor:e,rules:r}),...Ik({editor:e,rules:a}),...l]}get attributes(){return i1(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Pl(this.extensions);return Object.fromEntries(t.filter(r=>!!F(r,"addNodeView")).map(r=>{const a=this.attributes.filter(p=>p.type===r.name),l={name:r.name,options:r.options,storage:r.storage,editor:e,type:et(r.name,this.schema)},u=F(r,"addNodeView",l);if(!u)return[];const f=(p,h,y,g,b)=>{const S=sp(p,a);return u()({node:p,view:h,getPos:y,decorations:g,innerDecorations:b,editor:e,extension:r,HTMLAttributes:S})};return[r.name,f]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:_f(e.name,this.schema)};e.type==="mark"&&(!((t=he(F(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const a=F(e,"onBeforeCreate",r),l=F(e,"onCreate",r),u=F(e,"onUpdate",r),f=F(e,"onSelectionUpdate",r),p=F(e,"onTransaction",r),h=F(e,"onFocus",r),y=F(e,"onBlur",r),g=F(e,"onDestroy",r);a&&this.editor.on("beforeCreate",a),l&&this.editor.on("create",l),u&&this.editor.on("update",u),f&&this.editor.on("selectionUpdate",f),p&&this.editor.on("transaction",p),h&&this.editor.on("focus",h),y&&this.editor.on("blur",y),g&&this.editor.on("destroy",g)})}}class St{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=he(F(this,"addOptions",{name:this.name}))),this.storage=he(F(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new St(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>$l(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new St({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=he(F(t,"addOptions",{name:t.name})),t.storage=he(F(t,"addStorage",{name:t.name,options:t.options})),t}}function o1(i,e,t){const{from:r,to:a}=e,{blockSeparator:l=`

`,textSerializers:u={}}=t||{};let f="";return i.nodesBetween(r,a,(p,h,y,g)=>{var b;p.isBlock&&h>r&&(f+=l);const S=u==null?void 0:u[p.type.name];if(S)return y&&(f+=S({node:p,pos:h,parent:y,index:g,range:e})),!1;p.isText&&(f+=(b=p==null?void 0:p.text)===null||b===void 0?void 0:b.slice(Math.max(r,h)-h,a-h))}),f}function a1(i){return Object.fromEntries(Object.entries(i.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const Kk=St.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new At({key:new wn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:i}=this,{state:e,schema:t}=i,{doc:r,selection:a}=e,{ranges:l}=a,u=Math.min(...l.map(y=>y.$from.pos)),f=Math.max(...l.map(y=>y.$to.pos)),p=a1(t);return o1(r,{from:u,to:f},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:p})}}})]}}),Pk=()=>({editor:i,view:e})=>(requestAnimationFrame(()=>{var t;i.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),Xk=(i=!1)=>({commands:e})=>e.setContent("",i),$k=()=>({state:i,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:a}=r;return t&&a.forEach(({$from:l,$to:u})=>{i.doc.nodesBetween(l.pos,u.pos,(f,p)=>{if(f.type.isText)return;const{doc:h,mapping:y}=e,g=h.resolve(y.map(p)),b=h.resolve(y.map(p+f.nodeSize)),S=g.blockRange(b);if(!S)return;const w=yo(S);if(f.type.isTextblock){const{defaultType:T}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(S.start,T)}(w||w===0)&&e.lift(S,w)})}),!0},Jk=i=>e=>i(e),Qk=()=>({state:i,dispatch:e})=>W0(i,e),Fk=(i,e)=>({editor:t,tr:r})=>{const{state:a}=t,l=a.doc.slice(i.from,i.to);r.deleteRange(i.from,i.to);const u=r.mapping.map(e);return r.insert(u,l.content),r.setSelection(new le(r.doc.resolve(u-1))),!0},Zk=()=>({tr:i,dispatch:e})=>{const{selection:t}=i,r=t.$anchor.node();if(r.content.size>0)return!1;const a=i.selection.$anchor;for(let l=a.depth;l>0;l-=1)if(a.node(l).type===r.type){if(e){const f=a.before(l),p=a.after(l);i.delete(f,p).scrollIntoView()}return!0}return!1},Wk=i=>({tr:e,state:t,dispatch:r})=>{const a=et(i,t.schema),l=e.selection.$anchor;for(let u=l.depth;u>0;u-=1)if(l.node(u).type===a){if(r){const p=l.before(u),h=l.after(u);e.delete(p,h).scrollIntoView()}return!0}return!1},eM=i=>({tr:e,dispatch:t})=>{const{from:r,to:a}=i;return t&&e.delete(r,a),!0},tM=()=>({state:i,dispatch:e})=>Dp(i,e),nM=()=>({commands:i})=>i.keyboardShortcut("Enter"),iM=()=>({state:i,dispatch:e})=>mk(i,e);function zl(i,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(a=>t.strict?e[a]===i[a]:Up(e[a])?e[a].test(i[a]):e[a]===i[a]):!0}function s1(i,e,t={}){return i.find(r=>r.type===e&&zl(Object.fromEntries(Object.keys(t).map(a=>[a,r.attrs[a]])),t))}function nb(i,e,t={}){return!!s1(i,e,t)}function qp(i,e,t){var r;if(!i||!e)return;let a=i.parent.childAfter(i.parentOffset);if((!a.node||!a.node.marks.some(y=>y.type===e))&&(a=i.parent.childBefore(i.parentOffset)),!a.node||!a.node.marks.some(y=>y.type===e)||(t=t||((r=a.node.marks[0])===null||r===void 0?void 0:r.attrs),!s1([...a.node.marks],e,t)))return;let u=a.index,f=i.start()+a.offset,p=u+1,h=f+a.node.nodeSize;for(;u>0&&nb([...i.parent.child(u-1).marks],e,t);)u-=1,f-=i.parent.child(u).nodeSize;for(;p<i.parent.childCount&&nb([...i.parent.child(p).marks],e,t);)h+=i.parent.child(p).nodeSize,p+=1;return{from:f,to:h}}function Ri(i,e){if(typeof i=="string"){if(!e.marks[i])throw Error(`There is no mark type named '${i}'. Maybe you forgot to add the extension?`);return e.marks[i]}return i}const rM=(i,e={})=>({tr:t,state:r,dispatch:a})=>{const l=Ri(i,r.schema),{doc:u,selection:f}=t,{$from:p,from:h,to:y}=f;if(a){const g=qp(p,l,e);if(g&&g.from<=h&&g.to>=y){const b=le.create(u,g.from,g.to);t.setSelection(b)}}return!0},oM=i=>e=>{const t=typeof i=="function"?i(e):i;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function l1(i){return i instanceof le}function nr(i=0,e=0,t=0){return Math.min(Math.max(i,e),t)}function u1(i,e=null){if(!e)return null;const t=pe.atStart(i),r=pe.atEnd(i);if(e==="start"||e===!0)return t;if(e==="end")return r;const a=t.from,l=r.to;return e==="all"?le.create(i,nr(0,a,l),nr(i.content.size,a,l)):le.create(i,nr(e,a,l),nr(e,a,l))}function aM(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Vp(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const sM=(i=null,e={})=>({editor:t,view:r,tr:a,dispatch:l})=>{e={scrollIntoView:!0,...e};const u=()=>{(Vp()||aM())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&i===null||i===!1)return!0;if(l&&i===null&&!l1(t.state.selection))return u(),!0;const f=u1(a.doc,i)||t.state.selection,p=t.state.selection.eq(f);return l&&(p||a.setSelection(f),p&&a.storedMarks&&a.setStoredMarks(a.storedMarks),u()),!0},lM=(i,e)=>t=>i.every((r,a)=>e(r,{...t,index:a})),uM=(i,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},i,e),c1=i=>{const e=i.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?i.removeChild(r):r.nodeType===1&&c1(r)}return i};function pl(i){const e=`<body>${i}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return c1(t)}function Ba(i,e,t){if(i instanceof xi||i instanceof j)return i;t={slice:!0,parseOptions:{},...t};const r=typeof i=="object"&&i!==null,a=typeof i=="string";if(r)try{if(Array.isArray(i)&&i.length>0)return j.fromArray(i.map(f=>e.nodeFromJSON(f)));const u=e.nodeFromJSON(i);return t.errorOnInvalidContent&&u.check(),u}catch(l){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",i,"Error:",l),Ba("",e,t)}if(a){if(t.errorOnInvalidContent){let u=!1,f="";const p=new Pb({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(u=!0,f=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?Ti.fromSchema(p).parseSlice(pl(i),t.parseOptions):Ti.fromSchema(p).parse(pl(i),t.parseOptions),t.errorOnInvalidContent&&u)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${f}`)})}const l=Ti.fromSchema(e);return t.slice?l.parseSlice(pl(i),t.parseOptions).content:l.parse(pl(i),t.parseOptions)}return Ba("",e,t)}function cM(i,e,t){const r=i.steps.length-1;if(r<e)return;const a=i.steps[r];if(!(a instanceof Fe||a instanceof Ze))return;const l=i.mapping.maps[r];let u=0;l.forEach((f,p,h,y)=>{u===0&&(u=y)}),i.setSelection(pe.near(i.doc.resolve(u),t))}const fM=i=>!("type"in i),pM=(i,e,t)=>({tr:r,dispatch:a,editor:l})=>{var u;if(a){t={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let f;const p=E=>{l.emit("contentError",{editor:l,error:E,disableCollaboration:()=>{l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{Ba(e,l.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(E){p(E)}try{f=Ba(e,l.schema,{parseOptions:h,errorOnInvalidContent:(u=t.errorOnInvalidContent)!==null&&u!==void 0?u:l.options.enableContentCheck})}catch(E){return p(E),!1}let{from:y,to:g}=typeof i=="number"?{from:i,to:i}:{from:i.from,to:i.to},b=!0,S=!0;if((fM(f)?f:[f]).forEach(E=>{E.check(),b=b?E.isText&&E.marks.length===0:!1,S=S?E.isBlock:!1}),y===g&&S){const{parent:E}=r.doc.resolve(y);E.isTextblock&&!E.type.spec.code&&!E.childCount&&(y-=1,g+=1)}let T;if(b){if(Array.isArray(e))T=e.map(E=>E.text||"").join("");else if(e instanceof j){let E="";e.forEach(O=>{O.text&&(E+=O.text)}),T=E}else typeof e=="object"&&e&&e.text?T=e.text:T=e;r.insertText(T,y,g)}else T=f,r.replaceWith(y,g,T);t.updateSelection&&cM(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:y,text:T}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:y,text:T})}return!0},dM=()=>({state:i,dispatch:e})=>pk(i,e),hM=()=>({state:i,dispatch:e})=>dk(i,e),mM=()=>({state:i,dispatch:e})=>P0(i,e),yM=()=>({state:i,dispatch:e})=>Q0(i,e),gM=()=>({state:i,dispatch:e,tr:t})=>{try{const r=Ul(i.doc,i.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},bM=()=>({state:i,dispatch:e,tr:t})=>{try{const r=Ul(i.doc,i.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},vM=()=>({state:i,dispatch:e})=>ck(i,e),wM=()=>({state:i,dispatch:e})=>fk(i,e);function f1(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function SM(i){const e=i.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,a,l,u;for(let f=0;f<e.length-1;f+=1){const p=e[f];if(/^(cmd|meta|m)$/i.test(p))u=!0;else if(/^a(lt)?$/i.test(p))r=!0;else if(/^(c|ctrl|control)$/i.test(p))a=!0;else if(/^s(hift)?$/i.test(p))l=!0;else if(/^mod$/i.test(p))Vp()||f1()?u=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${p}`)}return r&&(t=`Alt-${t}`),a&&(t=`Ctrl-${t}`),u&&(t=`Meta-${t}`),l&&(t=`Shift-${t}`),t}const xM=i=>({editor:e,view:t,tr:r,dispatch:a})=>{const l=SM(i).split(/-(?!$)/),u=l.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),f=new KeyboardEvent("keydown",{key:u==="Space"?" ":u,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),p=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,f))});return p==null||p.steps.forEach(h=>{const y=h.map(r.mapping);y&&a&&r.maybeStep(y)}),!0};function _a(i,e,t={}){const{from:r,to:a,empty:l}=i.selection,u=e?et(e,i.schema):null,f=[];i.doc.nodesBetween(r,a,(g,b)=>{if(g.isText)return;const S=Math.max(r,b),w=Math.min(a,b+g.nodeSize);f.push({node:g,from:S,to:w})});const p=a-r,h=f.filter(g=>u?u.name===g.node.type.name:!0).filter(g=>zl(g.node.attrs,t,{strict:!1}));return l?!!h.length:h.reduce((g,b)=>g+b.to-b.from,0)>=p}const TM=(i,e={})=>({state:t,dispatch:r})=>{const a=et(i,t.schema);return _a(t,a,e)?hk(t,r):!1},EM=()=>({state:i,dispatch:e})=>e1(i,e),kM=i=>({state:e,dispatch:t})=>{const r=et(i,e.schema);return Mk(r)(e,t)},MM=()=>({state:i,dispatch:e})=>Z0(i,e);function Jl(i,e){return e.nodes[i]?"node":e.marks[i]?"mark":null}function ib(i,e){const t=typeof e=="string"?[e]:e;return Object.keys(i).reduce((r,a)=>(t.includes(a)||(r[a]=i[a]),r),{})}const CM=(i,e)=>({tr:t,state:r,dispatch:a})=>{let l=null,u=null;const f=Jl(typeof i=="string"?i:i.name,r.schema);return f?(f==="node"&&(l=et(i,r.schema)),f==="mark"&&(u=Ri(i,r.schema)),a&&t.selection.ranges.forEach(p=>{r.doc.nodesBetween(p.$from.pos,p.$to.pos,(h,y)=>{l&&l===h.type&&t.setNodeMarkup(y,void 0,ib(h.attrs,e)),u&&h.marks.length&&h.marks.forEach(g=>{u===g.type&&t.addMark(y,y+h.nodeSize,u.create(ib(g.attrs,e)))})})}),!0):!1},OM=()=>({tr:i,dispatch:e})=>(e&&i.scrollIntoView(),!0),NM=()=>({tr:i,dispatch:e})=>{if(e){const t=new Yt(i.doc);i.setSelection(t)}return!0},AM=()=>({state:i,dispatch:e})=>$0(i,e),RM=()=>({state:i,dispatch:e})=>F0(i,e),DM=()=>({state:i,dispatch:e})=>bk(i,e),zM=()=>({state:i,dispatch:e})=>Sk(i,e),BM=()=>({state:i,dispatch:e})=>wk(i,e);function lp(i,e,t={},r={}){return Ba(i,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const _M=(i,e=!1,t={},r={})=>({editor:a,tr:l,dispatch:u,commands:f})=>{var p,h;const{doc:y}=l;if(t.preserveWhitespace!=="full"){const g=lp(i,a.schema,t,{errorOnInvalidContent:(p=r.errorOnInvalidContent)!==null&&p!==void 0?p:a.options.enableContentCheck});return u&&l.replaceWith(0,y.content.size,g).setMeta("preventUpdate",!e),!0}return u&&l.setMeta("preventUpdate",!e),f.insertContentAt({from:0,to:y.content.size},i,{parseOptions:t,errorOnInvalidContent:(h=r.errorOnInvalidContent)!==null&&h!==void 0?h:a.options.enableContentCheck})};function p1(i,e){const t=Ri(e,i.schema),{from:r,to:a,empty:l}=i.selection,u=[];l?(i.storedMarks&&u.push(...i.storedMarks),u.push(...i.selection.$head.marks())):i.doc.nodesBetween(r,a,p=>{u.push(...p.marks)});const f=u.find(p=>p.type.name===t.name);return f?{...f.attrs}:{}}function LM(i){for(let e=0;e<i.edgeCount;e+=1){const{type:t}=i.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function HM(i,e){for(let t=i.depth;t>0;t-=1){const r=i.node(t);if(e(r))return{pos:t>0?i.before(t):0,start:i.start(t),depth:t,node:r}}}function jp(i){return e=>HM(e.$from,i)}function UM(i,e){const t={from:0,to:i.content.size};return o1(i,t,e)}function qM(i,e){const t=et(e,i.schema),{from:r,to:a}=i.selection,l=[];i.doc.nodesBetween(r,a,f=>{l.push(f)});const u=l.reverse().find(f=>f.type.name===t.name);return u?{...u.attrs}:{}}function VM(i,e){const t=Jl(typeof e=="string"?e:e.name,i.schema);return t==="node"?qM(i,e):t==="mark"?p1(i,e):{}}function d1(i,e,t){const r=[];return i===e?t.resolve(i).marks().forEach(a=>{const l=t.resolve(i),u=qp(l,a.type);u&&r.push({mark:a,...u})}):t.nodesBetween(i,e,(a,l)=>{!a||(a==null?void 0:a.nodeSize)===void 0||r.push(...a.marks.map(u=>({from:l,to:l+a.nodeSize,mark:u})))}),r}function bl(i,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const a=i.find(l=>l.type===e&&l.name===r);return a?a.attribute.keepOnSplit:!1}))}function up(i,e,t={}){const{empty:r,ranges:a}=i.selection,l=e?Ri(e,i.schema):null;if(r)return!!(i.storedMarks||i.selection.$from.marks()).filter(g=>l?l.name===g.type.name:!0).find(g=>zl(g.attrs,t,{strict:!1}));let u=0;const f=[];if(a.forEach(({$from:g,$to:b})=>{const S=g.pos,w=b.pos;i.doc.nodesBetween(S,w,(T,E)=>{if(!T.isText&&!T.marks.length)return;const O=Math.max(S,E),q=Math.min(w,E+T.nodeSize),Y=q-O;u+=Y,f.push(...T.marks.map(J=>({mark:J,from:O,to:q})))})}),u===0)return!1;const p=f.filter(g=>l?l.name===g.mark.type.name:!0).filter(g=>zl(g.mark.attrs,t,{strict:!1})).reduce((g,b)=>g+b.to-b.from,0),h=f.filter(g=>l?g.mark.type!==l&&g.mark.type.excludes(l):!0).reduce((g,b)=>g+b.to-b.from,0);return(p>0?p+h:p)>=u}function jM(i,e,t={}){if(!e)return _a(i,null,t)||up(i,null,t);const r=Jl(e,i.schema);return r==="node"?_a(i,e,t):r==="mark"?up(i,e,t):!1}function rb(i,e){const{nodeExtensions:t}=Pl(e),r=t.find(u=>u.name===i);if(!r)return!1;const a={name:r.name,options:r.options,storage:r.storage},l=he(F(r,"group",a));return typeof l!="string"?!1:l.split(" ").includes("list")}function Yp(i,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(i.type.name==="hardBreak")return!0;if(i.isText)return/^\s*$/m.test((r=i.text)!==null&&r!==void 0?r:"")}if(i.isText)return!i.text;if(i.isAtom||i.isLeaf)return!1;if(i.content.childCount===0)return!0;if(e){let a=!0;return i.content.forEach(l=>{a!==!1&&(Yp(l,{ignoreWhitespace:t,checkChildren:e})||(a=!1))}),a}return!1}function YM(i){return i instanceof W}function IM(i,e,t){var r;const{selection:a}=e;let l=null;if(l1(a)&&(l=a.$cursor),l){const f=(r=i.storedMarks)!==null&&r!==void 0?r:l.marks();return!!t.isInSet(f)||!f.some(p=>p.type.excludes(t))}const{ranges:u}=a;return u.some(({$from:f,$to:p})=>{let h=f.depth===0?i.doc.inlineContent&&i.doc.type.allowsMarkType(t):!1;return i.doc.nodesBetween(f.pos,p.pos,(y,g,b)=>{if(h)return!1;if(y.isInline){const S=!b||b.type.allowsMarkType(t),w=!!t.isInSet(y.marks)||!y.marks.some(T=>T.type.excludes(t));h=S&&w}return!h}),h})}const GM=(i,e={})=>({tr:t,state:r,dispatch:a})=>{const{selection:l}=t,{empty:u,ranges:f}=l,p=Ri(i,r.schema);if(a)if(u){const h=p1(r,p);t.addStoredMark(p.create({...h,...e}))}else f.forEach(h=>{const y=h.$from.pos,g=h.$to.pos;r.doc.nodesBetween(y,g,(b,S)=>{const w=Math.max(S,y),T=Math.min(S+b.nodeSize,g);b.marks.find(O=>O.type===p)?b.marks.forEach(O=>{p===O.type&&t.addMark(w,T,p.create({...O.attrs,...e}))}):t.addMark(w,T,p.create(e))})});return IM(r,t,p)},KM=(i,e)=>({tr:t})=>(t.setMeta(i,e),!0),PM=(i,e={})=>({state:t,dispatch:r,chain:a})=>{const l=et(i,t.schema);let u;return t.selection.$anchor.sameParent(t.selection.$head)&&(u=t.selection.$anchor.parent.attrs),l.isTextblock?a().command(({commands:f})=>Zg(l,{...u,...e})(t)?!0:f.clearNodes()).command(({state:f})=>Zg(l,{...u,...e})(f,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},XM=i=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,a=nr(i,0,r.content.size),l=W.create(r,a);e.setSelection(l)}return!0},$M=i=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:a,to:l}=typeof i=="number"?{from:i,to:i}:i,u=le.atStart(r).from,f=le.atEnd(r).to,p=nr(a,u,f),h=nr(l,u,f),y=le.create(r,p,h);e.setSelection(y)}return!0},JM=i=>({state:e,dispatch:t})=>{const r=et(i,e.schema);return Nk(r)(e,t)};function ob(i,e){const t=i.storedMarks||i.selection.$to.parentOffset&&i.selection.$from.marks();if(t){const r=t.filter(a=>e==null?void 0:e.includes(a.type.name));i.tr.ensureMarks(r)}}const QM=({keepMarks:i=!0}={})=>({tr:e,state:t,dispatch:r,editor:a})=>{const{selection:l,doc:u}=e,{$from:f,$to:p}=l,h=a.extensionManager.attributes,y=bl(h,f.node().type.name,f.node().attrs);if(l instanceof W&&l.node.isBlock)return!f.parentOffset||!Vn(u,f.pos)?!1:(r&&(i&&ob(t,a.extensionManager.splittableMarks),e.split(f.pos).scrollIntoView()),!0);if(!f.parent.isBlock)return!1;const g=p.parentOffset===p.parent.content.size,b=f.depth===0?void 0:LM(f.node(-1).contentMatchAt(f.indexAfter(-1)));let S=g&&b?[{type:b,attrs:y}]:void 0,w=Vn(e.doc,e.mapping.map(f.pos),1,S);if(!S&&!w&&Vn(e.doc,e.mapping.map(f.pos),1,b?[{type:b}]:void 0)&&(w=!0,S=b?[{type:b,attrs:y}]:void 0),r){if(w&&(l instanceof le&&e.deleteSelection(),e.split(e.mapping.map(f.pos),1,S),b&&!g&&!f.parentOffset&&f.parent.type!==b)){const T=e.mapping.map(f.before()),E=e.doc.resolve(T);f.node(-1).canReplaceWith(E.index(),E.index()+1,b)&&e.setNodeMarkup(e.mapping.map(f.before()),b)}i&&ob(t,a.extensionManager.splittableMarks),e.scrollIntoView()}return w},FM=(i,e={})=>({tr:t,state:r,dispatch:a,editor:l})=>{var u;const f=et(i,r.schema),{$from:p,$to:h}=r.selection,y=r.selection.node;if(y&&y.isBlock||p.depth<2||!p.sameParent(h))return!1;const g=p.node(-1);if(g.type!==f)return!1;const b=l.extensionManager.attributes;if(p.parent.content.size===0&&p.node(-1).childCount===p.indexAfter(-1)){if(p.depth===2||p.node(-3).type!==f||p.index(-2)!==p.node(-2).childCount-1)return!1;if(a){let O=j.empty;const q=p.index(-1)?1:p.index(-2)?2:3;for(let X=p.depth-q;X>=p.depth-3;X-=1)O=j.from(p.node(X).copy(O));const Y=p.indexAfter(-1)<p.node(-2).childCount?1:p.indexAfter(-2)<p.node(-3).childCount?2:3,J={...bl(b,p.node().type.name,p.node().attrs),...e},I=((u=f.contentMatch.defaultType)===null||u===void 0?void 0:u.createAndFill(J))||void 0;O=O.append(j.from(f.createAndFill(null,I)||void 0));const ie=p.before(p.depth-(q-1));t.replace(ie,p.after(-Y),new P(O,4-q,0));let ae=-1;t.doc.nodesBetween(ie,t.doc.content.size,(X,se)=>{if(ae>-1)return!1;X.isTextblock&&X.content.size===0&&(ae=se+1)}),ae>-1&&t.setSelection(le.near(t.doc.resolve(ae))),t.scrollIntoView()}return!0}const S=h.pos===p.end()?g.contentMatchAt(0).defaultType:null,w={...bl(b,g.type.name,g.attrs),...e},T={...bl(b,p.node().type.name,p.node().attrs),...e};t.delete(p.pos,h.pos);const E=S?[{type:f,attrs:w},{type:S,attrs:T}]:[{type:f,attrs:w}];if(!Vn(t.doc,p.pos,2))return!1;if(a){const{selection:O,storedMarks:q}=r,{splittableMarks:Y}=l.extensionManager,J=q||O.$to.parentOffset&&O.$from.marks();if(t.split(p.pos,2,E).scrollIntoView(),!J||!a)return!0;const I=J.filter(ie=>Y.includes(ie.type.name));t.ensureMarks(I)}return!0},Lf=(i,e)=>{const t=jp(u=>u.type===e)(i.selection);if(!t)return!0;const r=i.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const a=i.doc.nodeAt(r);return t.node.type===(a==null?void 0:a.type)&&Ni(i.doc,t.pos)&&i.join(t.pos),!0},Hf=(i,e)=>{const t=jp(u=>u.type===e)(i.selection);if(!t)return!0;const r=i.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const a=i.doc.nodeAt(r);return t.node.type===(a==null?void 0:a.type)&&Ni(i.doc,r)&&i.join(r),!0},ZM=(i,e,t,r={})=>({editor:a,tr:l,state:u,dispatch:f,chain:p,commands:h,can:y})=>{const{extensions:g,splittableMarks:b}=a.extensionManager,S=et(i,u.schema),w=et(e,u.schema),{selection:T,storedMarks:E}=u,{$from:O,$to:q}=T,Y=O.blockRange(q),J=E||T.$to.parentOffset&&T.$from.marks();if(!Y)return!1;const I=jp(ie=>rb(ie.type.name,g))(T);if(Y.depth>=1&&I&&Y.depth-I.depth<=1){if(I.node.type===S)return h.liftListItem(w);if(rb(I.node.type.name,g)&&S.validContent(I.node.content)&&f)return p().command(()=>(l.setNodeMarkup(I.pos,S),!0)).command(()=>Lf(l,S)).command(()=>Hf(l,S)).run()}return!t||!J||!f?p().command(()=>y().wrapInList(S,r)?!0:h.clearNodes()).wrapInList(S,r).command(()=>Lf(l,S)).command(()=>Hf(l,S)).run():p().command(()=>{const ie=y().wrapInList(S,r),ae=J.filter(X=>b.includes(X.type.name));return l.ensureMarks(ae),ie?!0:h.clearNodes()}).wrapInList(S,r).command(()=>Lf(l,S)).command(()=>Hf(l,S)).run()},WM=(i,e={},t={})=>({state:r,commands:a})=>{const{extendEmptyMarkRange:l=!1}=t,u=Ri(i,r.schema);return up(r,u,e)?a.unsetMark(u,{extendEmptyMarkRange:l}):a.setMark(u,e)},eC=(i,e,t={})=>({state:r,commands:a})=>{const l=et(i,r.schema),u=et(e,r.schema),f=_a(r,l,t);let p;return r.selection.$anchor.sameParent(r.selection.$head)&&(p=r.selection.$anchor.parent.attrs),f?a.setNode(u,p):a.setNode(l,{...p,...t})},tC=(i,e={})=>({state:t,commands:r})=>{const a=et(i,t.schema);return _a(t,a,e)?r.lift(a):r.wrapIn(a,e)},nC=()=>({state:i,dispatch:e})=>{const t=i.plugins;for(let r=0;r<t.length;r+=1){const a=t[r];let l;if(a.spec.isInputRules&&(l=a.getState(i))){if(e){const u=i.tr,f=l.transform;for(let p=f.steps.length-1;p>=0;p-=1)u.step(f.steps[p].invert(f.docs[p]));if(l.text){const p=u.doc.resolve(l.from).marks();u.replaceWith(l.from,l.to,i.schema.text(l.text,p))}else u.delete(l.from,l.to)}return!0}}return!1},iC=()=>({tr:i,dispatch:e})=>{const{selection:t}=i,{empty:r,ranges:a}=t;return r||e&&a.forEach(l=>{i.removeMark(l.$from.pos,l.$to.pos)}),!0},rC=(i,e={})=>({tr:t,state:r,dispatch:a})=>{var l;const{extendEmptyMarkRange:u=!1}=e,{selection:f}=t,p=Ri(i,r.schema),{$from:h,empty:y,ranges:g}=f;if(!a)return!0;if(y&&u){let{from:b,to:S}=f;const w=(l=h.marks().find(E=>E.type===p))===null||l===void 0?void 0:l.attrs,T=qp(h,p,w);T&&(b=T.from,S=T.to),t.removeMark(b,S,p)}else g.forEach(b=>{t.removeMark(b.$from.pos,b.$to.pos,p)});return t.removeStoredMark(p),!0},oC=(i,e={})=>({tr:t,state:r,dispatch:a})=>{let l=null,u=null;const f=Jl(typeof i=="string"?i:i.name,r.schema);return f?(f==="node"&&(l=et(i,r.schema)),f==="mark"&&(u=Ri(i,r.schema)),a&&t.selection.ranges.forEach(p=>{const h=p.$from.pos,y=p.$to.pos;let g,b,S,w;t.selection.empty?r.doc.nodesBetween(h,y,(T,E)=>{l&&l===T.type&&(S=Math.max(E,h),w=Math.min(E+T.nodeSize,y),g=E,b=T)}):r.doc.nodesBetween(h,y,(T,E)=>{E<h&&l&&l===T.type&&(S=Math.max(E,h),w=Math.min(E+T.nodeSize,y),g=E,b=T),E>=h&&E<=y&&(l&&l===T.type&&t.setNodeMarkup(E,void 0,{...T.attrs,...e}),u&&T.marks.length&&T.marks.forEach(O=>{if(u===O.type){const q=Math.max(E,h),Y=Math.min(E+T.nodeSize,y);t.addMark(q,Y,u.create({...O.attrs,...e}))}}))}),b&&(g!==void 0&&t.setNodeMarkup(g,void 0,{...b.attrs,...e}),u&&b.marks.length&&b.marks.forEach(T=>{u===T.type&&t.addMark(S,w,u.create({...T.attrs,...e}))}))}),!0):!1},aC=(i,e={})=>({state:t,dispatch:r})=>{const a=et(i,t.schema);return xk(a,e)(t,r)},sC=(i,e={})=>({state:t,dispatch:r})=>{const a=et(i,t.schema);return Tk(a,e)(t,r)};var lC=Object.freeze({__proto__:null,blur:Pk,clearContent:Xk,clearNodes:$k,command:Jk,createParagraphNear:Qk,cut:Fk,deleteCurrentNode:Zk,deleteNode:Wk,deleteRange:eM,deleteSelection:tM,enter:nM,exitCode:iM,extendMarkRange:rM,first:oM,focus:sM,forEach:lM,insertContent:uM,insertContentAt:pM,joinBackward:mM,joinDown:hM,joinForward:yM,joinItemBackward:gM,joinItemForward:bM,joinTextblockBackward:vM,joinTextblockForward:wM,joinUp:dM,keyboardShortcut:xM,lift:TM,liftEmptyBlock:EM,liftListItem:kM,newlineInCode:MM,resetAttributes:CM,scrollIntoView:OM,selectAll:NM,selectNodeBackward:AM,selectNodeForward:RM,selectParentNode:DM,selectTextblockEnd:zM,selectTextblockStart:BM,setContent:_M,setMark:GM,setMeta:KM,setNode:PM,setNodeSelection:XM,setTextSelection:$M,sinkListItem:JM,splitBlock:QM,splitListItem:FM,toggleList:ZM,toggleMark:WM,toggleNode:eC,toggleWrap:tC,undoInputRule:nC,unsetAllMarks:iC,unsetMark:rC,updateAttributes:oC,wrapIn:aC,wrapInList:sC});const uC=St.create({name:"commands",addCommands(){return{...lC}}}),cC=St.create({name:"drop",addProseMirrorPlugins(){return[new At({key:new wn("tiptapDrop"),props:{handleDrop:(i,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),fC=St.create({name:"editable",addProseMirrorPlugins(){return[new At({key:new wn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),pC=new wn("focusEvents"),dC=St.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:i}=this;return[new At({key:pC,props:{handleDOMEvents:{focus:(e,t)=>{i.isFocused=!0;const r=i.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{i.isFocused=!1;const r=i.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),hC=St.create({name:"keymap",addKeyboardShortcuts(){const i=()=>this.editor.commands.first(({commands:u})=>[()=>u.undoInputRule(),()=>u.command(({tr:f})=>{const{selection:p,doc:h}=f,{empty:y,$anchor:g}=p,{pos:b,parent:S}=g,w=g.parent.isTextblock&&b>0?f.doc.resolve(b-1):g,T=w.parent.type.spec.isolating,E=g.pos-g.parentOffset,O=T&&w.parent.childCount===1?E===g.pos:pe.atStart(h).from===b;return!y||!S.type.isTextblock||S.textContent.length||!O||O&&g.parent.type.name==="paragraph"?!1:u.clearNodes()}),()=>u.deleteSelection(),()=>u.joinBackward(),()=>u.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:u})=>[()=>u.deleteSelection(),()=>u.deleteCurrentNode(),()=>u.joinForward(),()=>u.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:u})=>[()=>u.newlineInCode(),()=>u.createParagraphNear(),()=>u.liftEmptyBlock(),()=>u.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:i,"Mod-Backspace":i,"Shift-Backspace":i,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},a={...r},l={...r,"Ctrl-h":i,"Alt-Backspace":i,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Vp()||f1()?l:a},addProseMirrorPlugins(){return[new At({key:new wn("clearDocument"),appendTransaction:(i,e,t)=>{if(i.some(T=>T.getMeta("composition")))return;const r=i.some(T=>T.docChanged)&&!e.doc.eq(t.doc),a=i.some(T=>T.getMeta("preventClearDocument"));if(!r||a)return;const{empty:l,from:u,to:f}=e.selection,p=pe.atStart(e.doc).from,h=pe.atEnd(e.doc).to;if(l||!(u===p&&f===h)||!Yp(t.doc))return;const b=t.tr,S=Gl({state:t,transaction:b}),{commands:w}=new Kl({editor:this.editor,state:S});if(w.clearNodes(),!!b.steps.length)return b}})]}}),mC=St.create({name:"paste",addProseMirrorPlugins(){return[new At({key:new wn("tiptapPaste"),props:{handlePaste:(i,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),yC=St.create({name:"tabindex",addProseMirrorPlugins(){return[new At({key:new wn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Wi{get name(){return this.node.type.name}constructor(e,t,r=!1,a=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=a}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Wi(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Wi(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Wi(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const a=t.isBlock&&!t.isTextblock,l=t.isAtom&&!t.isText,u=this.pos+r+(l?0:1),f=this.resolvedPos.doc.resolve(u);if(!a&&f.depth<=this.depth)return;const p=new Wi(f,this.editor,a,a?t:null);a&&(p.actualDepth=this.depth+1),e.push(new Wi(f,this.editor,a,a?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,a=this.parent;for(;a&&!r;){if(a.node.type.name===e)if(Object.keys(t).length>0){const l=a.node.attrs,u=Object.keys(t);for(let f=0;f<u.length;f+=1){const p=u[f];if(l[p]!==t[p])break}}else r=a;a=a.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let a=[];if(!this.children||this.children.length===0)return a;const l=Object.keys(t);return this.children.forEach(u=>{r&&a.length>0||(u.node.type.name===e&&l.every(p=>t[p]===u.node.attrs[p])&&a.push(u),!(r&&a.length>0)&&(a=a.concat(u.querySelectorAll(e,t,r))))}),a}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const gC=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function bC(i,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const a=document.createElement("style");return e&&a.setAttribute("nonce",e),a.setAttribute("data-tiptap-style",""),a.innerHTML=i,document.getElementsByTagName("head")[0].appendChild(a),a}class vC extends Ak{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:a})=>this.options.onDrop(t,r,a)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=bC(gC,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=r1(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],a=this.state.reconfigure({plugins:r});return this.view.updateState(a),a}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(l=>{const u=typeof l=="string"?`${l}$`:l.key;r=r.filter(f=>!f.key.startsWith(u))}),t.length===r.length)return;const a=this.state.reconfigure({plugins:r});return this.view.updateState(a),a}createExtensionManager(){var e,t;const a=[...this.options.enableCoreExtensions?[fC,Kk.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),uC,dC,hC,yC,cC,mC].filter(l=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[l.name]!==!1:!0):[],...this.options.extensions].filter(l=>["extension","node","mark"].includes(l==null?void 0:l.type));this.extensionManager=new ro(a,this)}createCommandManager(){this.commandManager=new Kl({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=lp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(u){if(!(u instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(u.message))throw u;this.emit("contentError",{editor:this,error:u,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(f=>f.name!=="collaboration"),this.createExtensionManager()}}),t=lp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=u1(t,this.options.autofocus);this.view=new I0(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:io.create({doc:t,selection:r||void 0})});const a=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(a),this.createNodeViews(),this.prependClass();const l=this.view.dom;l.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(u=>{var f;return(f=this.capturedTransaction)===null||f===void 0?void 0:f.step(u)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=e.getMeta("focus"),l=e.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:e}),l&&this.emit("blur",{editor:this,event:l.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return VM(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,a=typeof e=="string"?t:e;return jM(this.state,r,a)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Hp(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return UM(this.state.doc,{blockSeparator:t,textSerializers:{...a1(this.schema),...r}})}get isEmpty(){return Yp(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Wi(t,this)}get $doc(){return this.$pos(0)}}function fo(i){return new Xl({find:i.find,handler:({state:e,range:t,match:r})=>{const a=he(i.getAttributes,void 0,r);if(a===!1||a===null)return null;const{tr:l}=e,u=r[r.length-1],f=r[0];if(u){const p=f.search(/\S/),h=t.from+f.indexOf(u),y=h+u.length;if(d1(t.from,t.to,e.doc).filter(S=>S.mark.type.excluded.find(T=>T===i.type&&T!==S.mark.type)).filter(S=>S.to>h).length)return null;y<t.to&&l.delete(y,t.to),h>t.from&&l.delete(t.from+p,h);const b=t.from+p+u.length;l.addMark(t.from+p,b,i.type.create(a||{})),l.removeStoredMark(i.type)}}})}function wC(i){return new Xl({find:i.find,handler:({state:e,range:t,match:r})=>{const a=he(i.getAttributes,void 0,r)||{},{tr:l}=e,u=t.from;let f=t.to;const p=i.type.create(a);if(r[1]){const h=r[0].lastIndexOf(r[1]);let y=u+h;y>f?y=f:f=y+r[1].length;const g=r[0][r[0].length-1];l.insertText(g,u+r[0].length-1),l.replaceWith(y,f,p)}else if(r[0]){const h=i.type.isInline?u:u-1;l.insert(h,i.type.create(a)).delete(l.mapping.map(u),l.mapping.map(f))}l.scrollIntoView()}})}function cp(i){return new Xl({find:i.find,handler:({state:e,range:t,match:r})=>{const a=e.doc.resolve(t.from),l=he(i.getAttributes,void 0,r)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),i.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,i.type,l)}})}function La(i){return new Xl({find:i.find,handler:({state:e,range:t,match:r,chain:a})=>{const l=he(i.getAttributes,void 0,r)||{},u=e.tr.delete(t.from,t.to),p=u.doc.resolve(t.from).blockRange(),h=p&&Sp(p,i.type,l);if(!h)return null;if(u.wrap(p,h),i.keepMarks&&i.editor){const{selection:g,storedMarks:b}=e,{splittableMarks:S}=i.editor.extensionManager,w=b||g.$to.parentOffset&&g.$from.marks();if(w){const T=w.filter(E=>S.includes(E.type.name));u.ensureMarks(T)}}if(i.keepAttributes){const g=i.type.name==="bulletList"||i.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(g,l).run()}const y=u.doc.resolve(t.from-1).nodeBefore;y&&y.type===i.type&&Ni(u.doc,t.from-1)&&(!i.joinPredicate||i.joinPredicate(r,y))&&u.join(t.from-1)}})}class Nt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=he(F(this,"addOptions",{name:this.name}))),this.storage=he(F(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Nt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>$l(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Nt(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=he(F(t,"addOptions",{name:t.name})),t.storage=he(F(t,"addStorage",{name:t.name,options:t.options})),t}}function po(i){return new qk({find:i.find,handler:({state:e,range:t,match:r,pasteEvent:a})=>{const l=he(i.getAttributes,void 0,r,a);if(l===!1||l===null)return null;const{tr:u}=e,f=r[r.length-1],p=r[0];let h=t.to;if(f){const y=p.search(/\S/),g=t.from+p.indexOf(f),b=g+f.length;if(d1(t.from,t.to,e.doc).filter(w=>w.mark.type.excluded.find(E=>E===i.type&&E!==w.mark.type)).filter(w=>w.to>g).length)return null;b<t.to&&u.delete(b,t.to),g>t.from&&u.delete(t.from+y,g),h=t.from+y+f.length,u.addMark(t.from+y,h,i.type.create(l||{})),u.removeStoredMark(i.type)}}})}function SC(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var h1={exports:{}},Uf={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function xC(){if(ab)return Uf;ab=1;var i=dt;function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=i.useState,a=i.useEffect,l=i.useLayoutEffect,u=i.useDebugValue;function f(g,b){var S=b(),w=r({inst:{value:S,getSnapshot:b}}),T=w[0].inst,E=w[1];return l(function(){T.value=S,T.getSnapshot=b,p(T)&&E({inst:T})},[g,S,b]),a(function(){return p(T)&&E({inst:T}),g(function(){p(T)&&E({inst:T})})},[g]),u(S),S}function p(g){var b=g.getSnapshot;g=g.value;try{var S=b();return!t(g,S)}catch{return!0}}function h(g,b){return b()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return Uf.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:y,Uf}h1.exports=xC();var Ip=h1.exports;const TC=(...i)=>e=>{i.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},EC=({contentComponent:i})=>{const e=Ip.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getServerSnapshot);return dt.createElement(dt.Fragment,null,Object.values(e))};function kC(){const i=new Set;let e={};return{subscribe(t){return i.add(t),()=>{i.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:Ex.createPortal(r.reactElement,r.element,t)},i.forEach(a=>a())},removeRenderer(t){const r={...e};delete r[t],e=r,i.forEach(a=>a())}}}class MC extends dt.Component{constructor(e){var t;super(e),this.editorContentRef=dt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=kC(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return dt.createElement(dt.Fragment,null,dt.createElement("div",{ref:TC(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&dt.createElement(EC,{contentComponent:e.contentComponent}))}}const CC=_.forwardRef((i,e)=>{const t=dt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[i.editor]);return dt.createElement(MC,{key:t,innerRef:e,...i})}),OC=dt.memo(CC);var NC=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,a,l;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!==0;)if(!i(e[a],t[a]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a of e.entries())if(!t.has(a[0]))return!1;for(a of e.entries())if(!i(a[1],t.get(a[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a of e.entries())if(!t.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!==0;)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[a]))return!1;for(a=r;a--!==0;){var u=l[a];if(!(u==="_owner"&&e.$$typeof)&&!i(e[u],t[u]))return!1}return!0}return e!==e&&t!==t},AC=SC(NC),m1={exports:{}},qf={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb;function RC(){if(sb)return qf;sb=1;var i=dt,e=Ip;function t(h,y){return h===y&&(h!==0||1/h===1/y)||h!==h&&y!==y}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,l=i.useRef,u=i.useEffect,f=i.useMemo,p=i.useDebugValue;return qf.useSyncExternalStoreWithSelector=function(h,y,g,b,S){var w=l(null);if(w.current===null){var T={hasValue:!1,value:null};w.current=T}else T=w.current;w=f(function(){function O(ie){if(!q){if(q=!0,Y=ie,ie=b(ie),S!==void 0&&T.hasValue){var ae=T.value;if(S(ae,ie))return J=ae}return J=ie}if(ae=J,r(Y,ie))return ae;var X=b(ie);return S!==void 0&&S(ae,X)?ae:(Y=ie,J=X)}var q=!1,Y,J,I=g===void 0?null:g;return[function(){return O(y())},I===null?void 0:function(){return O(I())}]},[y,g,b,S]);var E=a(h,w[0],w[1]);return u(function(){T.hasValue=!0,T.value=E},[E]),p(E),E},qf}m1.exports=RC();var DC=m1.exports;const zC=typeof window<"u"?_.useLayoutEffect:_.useEffect;class BC{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(a=>a())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function _C(i){var e;const[t]=_.useState(()=>new BC(i.editor)),r=DC.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,i.selector,(e=i.equalityFn)!==null&&e!==void 0?e:AC);return zC(()=>t.watch(i.editor),[i.editor,t]),_.useDebugValue(r),r}const LC=!1,fp=typeof window>"u",HC=fp||!!(typeof window<"u"&&window.next);class Gp{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?fp||HC?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var a,l;return(l=(a=this.options.current).onBeforeCreate)===null||l===void 0?void 0:l.call(a,...r)},onBlur:(...r)=>{var a,l;return(l=(a=this.options.current).onBlur)===null||l===void 0?void 0:l.call(a,...r)},onCreate:(...r)=>{var a,l;return(l=(a=this.options.current).onCreate)===null||l===void 0?void 0:l.call(a,...r)},onDestroy:(...r)=>{var a,l;return(l=(a=this.options.current).onDestroy)===null||l===void 0?void 0:l.call(a,...r)},onFocus:(...r)=>{var a,l;return(l=(a=this.options.current).onFocus)===null||l===void 0?void 0:l.call(a,...r)},onSelectionUpdate:(...r)=>{var a,l;return(l=(a=this.options.current).onSelectionUpdate)===null||l===void 0?void 0:l.call(a,...r)},onTransaction:(...r)=>{var a,l;return(l=(a=this.options.current).onTransaction)===null||l===void 0?void 0:l.call(a,...r)},onUpdate:(...r)=>{var a,l;return(l=(a=this.options.current).onUpdate)===null||l===void 0?void 0:l.call(a,...r)},onContentError:(...r)=>{var a,l;return(l=(a=this.options.current).onContentError)===null||l===void 0?void 0:l.call(a,...r)},onDrop:(...r)=>{var a,l;return(l=(a=this.options.current).onDrop)===null||l===void 0?void 0:l.call(a,...r)},onPaste:(...r)=>{var a,l;return(l=(a=this.options.current).onPaste)===null||l===void 0?void 0:l.call(a,...r)}};return new vC(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((a,l)=>{var u;return a===((u=t.extensions)===null||u===void 0?void 0:u[l])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Gp.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,a)=>r===e[a]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function UC(i={},e=[]){const t=_.useRef(i);t.current=i;const[r]=_.useState(()=>new Gp(t)),a=Ip.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return _.useDebugValue(a),_.useEffect(r.onRender(e)),_C({editor:a,selector:({transactionNumber:l})=>i.shouldRerenderOnTransaction===!1?null:i.immediatelyRender&&l===0?0:l+1}),a}const qC=_.createContext({editor:null});qC.Consumer;const VC=_.createContext({onDragStart:void 0}),jC=()=>_.useContext(VC);dt.forwardRef((i,e)=>{const{onDragStart:t}=jC(),r=i.as||"div";return dt.createElement(r,{...i,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...i.style}})});const YC=/^\s*>\s$/,IC=Nt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:i}){return["blockquote",wt(this.options.HTMLAttributes,i),0]},addCommands(){return{setBlockquote:()=>({commands:i})=>i.wrapIn(this.name),toggleBlockquote:()=>({commands:i})=>i.toggleWrap(this.name),unsetBlockquote:()=>({commands:i})=>i.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[La({find:YC,type:this.type})]}}),GC=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,KC=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,PC=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,XC=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,$C=Oi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:i=>i.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:i=>i.type.name===this.name},{style:"font-weight",getAttrs:i=>/^(bold(er)?|[5-9]\d{2,})$/.test(i)&&null}]},renderHTML({HTMLAttributes:i}){return["strong",wt(this.options.HTMLAttributes,i),0]},addCommands(){return{setBold:()=>({commands:i})=>i.setMark(this.name),toggleBold:()=>({commands:i})=>i.toggleMark(this.name),unsetBold:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[fo({find:GC,type:this.type}),fo({find:PC,type:this.type})]},addPasteRules(){return[po({find:KC,type:this.type}),po({find:XC,type:this.type})]}}),JC="listItem",lb="textStyle",ub=/^\s*([-+*])\s$/,QC=Nt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:i}){return["ul",wt(this.options.HTMLAttributes,i),0]},addCommands(){return{toggleBulletList:()=>({commands:i,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(JC,this.editor.getAttributes(lb)).run():i.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let i=La({find:ub,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(i=La({find:ub,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(lb),editor:this.editor})),[i]}}),FC=/(^|[^`])`([^`]+)`(?!`)/,ZC=/(^|[^`])`([^`]+)`(?!`)/g,WC=Oi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:i}){return["code",wt(this.options.HTMLAttributes,i),0]},addCommands(){return{setCode:()=>({commands:i})=>i.setMark(this.name),toggleCode:()=>({commands:i})=>i.toggleMark(this.name),unsetCode:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[fo({find:FC,type:this.type})]},addPasteRules(){return[po({find:ZC,type:this.type})]}}),eO=/^```([a-z]+)?[\s\n]$/,tO=/^~~~([a-z]+)?[\s\n]$/,nO=Nt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:i=>{var e;const{languageClassPrefix:t}=this.options,l=[...((e=i.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(u=>u.startsWith(t)).map(u=>u.replace(t,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:i,HTMLAttributes:e}){return["pre",wt(this.options.HTMLAttributes,e),["code",{class:i.attrs.language?this.options.languageClassPrefix+i.attrs.language:null},0]]},addCommands(){return{setCodeBlock:i=>({commands:e})=>e.setNode(this.name,i),toggleCodeBlock:i=>({commands:e})=>e.toggleNode(this.name,"paragraph",i)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:i,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!i||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:i})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=i,{selection:t}=e,{$from:r,empty:a}=t;if(!a||r.parent.type!==this.type)return!1;const l=r.parentOffset===r.parent.nodeSize-2,u=r.parent.textContent.endsWith(`

`);return!l||!u?!1:i.chain().command(({tr:f})=>(f.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:i})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=i,{selection:t,doc:r}=e,{$from:a,empty:l}=t;if(!l||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const f=a.after();return f===void 0?!1:r.nodeAt(f)?i.commands.command(({tr:h})=>(h.setSelection(pe.near(r.resolve(f))),!0)):i.commands.exitCode()}}},addInputRules(){return[cp({find:eO,type:this.type,getAttributes:i=>({language:i[1]})}),cp({find:tO,type:this.type,getAttributes:i=>({language:i[1]})})]},addProseMirrorPlugins(){return[new At({key:new wn("codeBlockVSCodeHandler"),props:{handlePaste:(i,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),a=r?JSON.parse(r):void 0,l=a==null?void 0:a.mode;if(!t||!l)return!1;const{tr:u,schema:f}=i.state,p=f.text(t.replace(/\r\n?/g,`
`));return u.replaceSelectionWith(this.type.create({language:l},p)),u.selection.$from.parent.type!==this.type&&u.setSelection(le.near(u.doc.resolve(Math.max(0,u.selection.from-2)))),u.setMeta("paste",!0),i.dispatch(u),!0}}})]}}),iO=Nt.create({name:"doc",topNode:!0,content:"block+"});function rO(i={}){return new At({view(e){return new oO(e,i)}})}class oO{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let l=u=>{this[a](u)};return e.dom.addEventListener(a,l),{name:a,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,a=this.editorView.dom,l=a.getBoundingClientRect(),u=l.width/a.offsetWidth,f=l.height/a.offsetHeight;if(t){let g=e.nodeBefore,b=e.nodeAfter;if(g||b){let S=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(S){let w=S.getBoundingClientRect(),T=g?w.bottom:w.top;g&&b&&(T=(T+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let E=this.width/2*f;r={left:w.left,right:w.right,top:T-E,bottom:T+E}}}}if(!r){let g=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*u;r={left:g.left-b,right:g.left+b,top:g.top,bottom:g.bottom}}let p=this.editorView.dom.offsetParent;this.element||(this.element=p.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let h,y;if(!p||p==document.body&&getComputedStyle(p).position=="static")h=-pageXOffset,y=-pageYOffset;else{let g=p.getBoundingClientRect(),b=g.width/p.offsetWidth,S=g.height/p.offsetHeight;h=g.left-p.scrollLeft*b,y=g.top-p.scrollTop*S}this.element.style.left=(r.left-h)/u+"px",this.element.style.top=(r.top-y)/f+"px",this.element.style.width=(r.right-r.left)/u+"px",this.element.style.height=(r.bottom-r.top)/f+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),a=r&&r.type.spec.disableDropCursor,l=typeof a=="function"?a(this.editorView,t,e):a;if(t&&!l){let u=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let f=i0(this.editorView.state.doc,u,this.editorView.dragging.slice);f!=null&&(u=f)}this.setCursor(u),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const aO=St.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[rO(this.options)]}});class Ue extends pe{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return Ue.valid(r)?new Ue(r):pe.near(r)}content(){return P.empty}eq(e){return e instanceof Ue&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ue(e.resolve(t.pos))}getBookmark(){return new Kp(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!sO(e)||!lO(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let a=t.contentMatchAt(e.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&Ue.valid(e))return e;let a=e.pos,l=null;for(let u=e.depth;;u--){let f=e.node(u);if(t>0?e.indexAfter(u)<f.childCount:e.index(u)>0){l=f.child(t>0?e.indexAfter(u):e.index(u)-1);break}else if(u==0)return null;a+=t;let p=e.doc.resolve(a);if(Ue.valid(p))return p}for(;;){let u=t>0?l.firstChild:l.lastChild;if(!u){if(l.isAtom&&!l.isText&&!W.isSelectable(l)){e=e.doc.resolve(a+l.nodeSize*t),r=!1;continue e}break}l=u,a+=t;let f=e.doc.resolve(a);if(Ue.valid(f))return f}return null}}}Ue.prototype.visible=!1;Ue.findFrom=Ue.findGapCursorFrom;pe.jsonID("gapcursor",Ue);class Kp{constructor(e){this.pos=e}map(e){return new Kp(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Ue.valid(t)?new Ue(t):pe.near(t)}}function sO(i){for(let e=i.depth;e>=0;e--){let t=i.index(e),r=i.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let a=r.child(t-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function lO(i){for(let e=i.depth;e>=0;e--){let t=i.indexAfter(e),r=i.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let a=r.child(t);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function uO(){return new At({props:{decorations:dO,createSelectionBetween(i,e,t){return e.pos==t.pos&&Ue.valid(t)?new Ue(t):null},handleClick:fO,handleKeyDown:cO,handleDOMEvents:{beforeinput:pO}}})}const cO=G0({ArrowLeft:dl("horiz",-1),ArrowRight:dl("horiz",1),ArrowUp:dl("vert",-1),ArrowDown:dl("vert",1)});function dl(i,e){const t=i=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,a,l){let u=r.selection,f=e>0?u.$to:u.$from,p=u.empty;if(u instanceof le){if(!l.endOfTextblock(t)||f.depth==0)return!1;p=!1,f=r.doc.resolve(e>0?f.after():f.before())}let h=Ue.findGapCursorFrom(f,e,p);return h?(a&&a(r.tr.setSelection(new Ue(h))),!0):!1}}function fO(i,e,t){if(!i||!i.editable)return!1;let r=i.state.doc.resolve(e);if(!Ue.valid(r))return!1;let a=i.posAtCoords({left:t.clientX,top:t.clientY});return a&&a.inside>-1&&W.isSelectable(i.state.doc.nodeAt(a.inside))?!1:(i.dispatch(i.state.tr.setSelection(new Ue(r))),!0)}function pO(i,e){if(e.inputType!="insertCompositionText"||!(i.state.selection instanceof Ue))return!1;let{$from:t}=i.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(i.state.schema.nodes.text);if(!r)return!1;let a=j.empty;for(let u=r.length-1;u>=0;u--)a=j.from(r[u].createAndFill(null,a));let l=i.state.tr.replace(t.pos,t.pos,new P(a,0,0));return l.setSelection(le.near(l.doc.resolve(t.pos+1))),i.dispatch(l),!1}function dO(i){if(!(i.selection instanceof Ue))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Pe.create(i.doc,[en.widget(i.selection.head,e,{key:"gapcursor"})])}const hO=St.create({name:"gapCursor",addProseMirrorPlugins(){return[uO()]},extendNodeSchema(i){var e;const t={name:i.name,options:i.options,storage:i.storage};return{allowGapCursor:(e=he(F(i,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),mO=Nt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:i}){return["br",wt(this.options.HTMLAttributes,i)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:i,chain:e,state:t,editor:r})=>i.first([()=>i.exitCode(),()=>i.command(()=>{const{selection:a,storedMarks:l}=t;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:u}=this.options,{splittableMarks:f}=r.extensionManager,p=l||a.$to.parentOffset&&a.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:y})=>{if(y&&p&&u){const g=p.filter(b=>f.includes(b.type.name));h.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),yO=Nt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(i=>({tag:`h${i}`,attrs:{level:i}}))},renderHTML({node:i,HTMLAttributes:e}){return[`h${this.options.levels.includes(i.attrs.level)?i.attrs.level:this.options.levels[0]}`,wt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:i=>({commands:e})=>this.options.levels.includes(i.level)?e.setNode(this.name,i):!1,toggleHeading:i=>({commands:e})=>this.options.levels.includes(i.level)?e.toggleNode(this.name,"paragraph",i):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((i,e)=>({...i,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(i=>cp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${i}})\\s$`),type:this.type,getAttributes:{level:i}}))}});var Bl=200,We=function(){};We.prototype.append=function(e){return e.length?(e=We.from(e),!this.length&&e||e.length<Bl&&this.leafAppend(e)||this.length<Bl&&e.leafPrepend(this)||this.appendInner(e)):this};We.prototype.prepend=function(e){return e.length?We.from(e).append(this):this};We.prototype.appendInner=function(e){return new gO(this,e)};We.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?We.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};We.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};We.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};We.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var a=[];return this.forEach(function(l,u){return a.push(e(l,u))},t,r),a};We.from=function(e){return e instanceof We?e:e&&e.length?new y1(e):We.empty};var y1=function(i){function e(r){i.call(this),this.values=r}i&&(e.__proto__=i),e.prototype=Object.create(i&&i.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(a,l){return a==0&&l==this.length?this:new e(this.values.slice(a,l))},e.prototype.getInner=function(a){return this.values[a]},e.prototype.forEachInner=function(a,l,u,f){for(var p=l;p<u;p++)if(a(this.values[p],f+p)===!1)return!1},e.prototype.forEachInvertedInner=function(a,l,u,f){for(var p=l-1;p>=u;p--)if(a(this.values[p],f+p)===!1)return!1},e.prototype.leafAppend=function(a){if(this.length+a.length<=Bl)return new e(this.values.concat(a.flatten()))},e.prototype.leafPrepend=function(a){if(this.length+a.length<=Bl)return new e(a.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(We);We.empty=new y1([]);var gO=function(i){function e(t,r){i.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return i&&(e.__proto__=i),e.prototype=Object.create(i&&i.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,a,l,u){var f=this.left.length;if(a<f&&this.left.forEachInner(r,a,Math.min(l,f),u)===!1||l>f&&this.right.forEachInner(r,Math.max(a-f,0),Math.min(this.length,l)-f,u+f)===!1)return!1},e.prototype.forEachInvertedInner=function(r,a,l,u){var f=this.left.length;if(a>f&&this.right.forEachInvertedInner(r,a-f,Math.max(l,f)-f,u+f)===!1||l<f&&this.left.forEachInvertedInner(r,Math.min(a,f),l,u)===!1)return!1},e.prototype.sliceInner=function(r,a){if(r==0&&a==this.length)return this;var l=this.left.length;return a<=l?this.left.slice(r,a):r>=l?this.right.slice(r-l,a-l):this.left.slice(r,l).append(this.right.slice(0,a-l))},e.prototype.leafAppend=function(r){var a=this.right.leafAppend(r);if(a)return new e(this.left,a)},e.prototype.leafPrepend=function(r){var a=this.left.leafPrepend(r);if(a)return new e(a,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(We);const bO=500;class an{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let a,l;t&&(a=this.remapping(r,this.items.length),l=a.maps.length);let u=e.tr,f,p,h=[],y=[];return this.items.forEach((g,b)=>{if(!g.step){a||(a=this.remapping(r,b+1),l=a.maps.length),l--,y.push(g);return}if(a){y.push(new hn(g.map));let S=g.step.map(a.slice(l)),w;S&&u.maybeStep(S).doc&&(w=u.mapping.maps[u.mapping.maps.length-1],h.push(new hn(w,void 0,void 0,h.length+y.length))),l--,w&&a.appendMap(w,l)}else u.maybeStep(g.step);if(g.selection)return f=a?g.selection.map(a.slice(l)):g.selection,p=new an(this.items.slice(0,r).append(y.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:p,transform:u,selection:f}}addTransform(e,t,r,a){let l=[],u=this.eventCount,f=this.items,p=!a&&f.length?f.get(f.length-1):null;for(let y=0;y<e.steps.length;y++){let g=e.steps[y].invert(e.docs[y]),b=new hn(e.mapping.maps[y],g,t),S;(S=p&&p.merge(b))&&(b=S,y?l.pop():f=f.slice(0,f.length-1)),l.push(b),t&&(u++,t=void 0),a||(p=b)}let h=u-r.depth;return h>wO&&(f=vO(f,h),u-=h),new an(f.append(l),u)}remapping(e,t){let r=new Na;return this.items.forEach((a,l)=>{let u=a.mirrorOffset!=null&&l-a.mirrorOffset>=e?r.maps.length-a.mirrorOffset:void 0;r.appendMap(a.map,u)},e,t),r}addMaps(e){return this.eventCount==0?this:new an(this.items.append(e.map(t=>new hn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],a=Math.max(0,this.items.length-t),l=e.mapping,u=e.steps.length,f=this.eventCount;this.items.forEach(b=>{b.selection&&f--},a);let p=t;this.items.forEach(b=>{let S=l.getMirror(--p);if(S==null)return;u=Math.min(u,S);let w=l.maps[S];if(b.step){let T=e.steps[S].invert(e.docs[S]),E=b.selection&&b.selection.map(l.slice(p+1,S));E&&f++,r.push(new hn(w,T,E))}else r.push(new hn(w))},a);let h=[];for(let b=t;b<u;b++)h.push(new hn(l.maps[b]));let y=this.items.slice(0,a).append(h).append(r),g=new an(y,f);return g.emptyItemCount()>bO&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,a=[],l=0;return this.items.forEach((u,f)=>{if(f>=e)a.push(u),u.selection&&l++;else if(u.step){let p=u.step.map(t.slice(r)),h=p&&p.getMap();if(r--,h&&t.appendMap(h,r),p){let y=u.selection&&u.selection.map(t.slice(r));y&&l++;let g=new hn(h.invert(),p,y),b,S=a.length-1;(b=a.length&&a[S].merge(g))?a[S]=b:a.push(g)}}else u.map&&r--},this.items.length,0),new an(We.from(a.reverse()),l)}}an.empty=new an(We.empty,0);function vO(i,e){let t;return i.forEach((r,a)=>{if(r.selection&&e--==0)return t=a,!1}),i.slice(t)}class hn{constructor(e,t,r,a){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=a}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new hn(t.getMap().invert(),t,this.selection)}}}class gi{constructor(e,t,r,a,l){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=a,this.prevComposition=l}}const wO=20;function SO(i,e,t,r){let a=t.getMeta(sr),l;if(a)return a.historyState;t.getMeta(EO)&&(i=new gi(i.done,i.undone,null,0,-1));let u=t.getMeta("appendedTransaction");if(t.steps.length==0)return i;if(u&&u.getMeta(sr))return u.getMeta(sr).redo?new gi(i.done.addTransform(t,void 0,r,vl(e)),i.undone,cb(t.mapping.maps),i.prevTime,i.prevComposition):new gi(i.done,i.undone.addTransform(t,void 0,r,vl(e)),null,i.prevTime,i.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(u&&u.getMeta("addToHistory")===!1)){let f=t.getMeta("composition"),p=i.prevTime==0||!u&&i.prevComposition!=f&&(i.prevTime<(t.time||0)-r.newGroupDelay||!xO(t,i.prevRanges)),h=u?Vf(i.prevRanges,t.mapping):cb(t.mapping.maps);return new gi(i.done.addTransform(t,p?e.selection.getBookmark():void 0,r,vl(e)),an.empty,h,t.time,f??i.prevComposition)}else return(l=t.getMeta("rebased"))?new gi(i.done.rebased(t,l),i.undone.rebased(t,l),Vf(i.prevRanges,t.mapping),i.prevTime,i.prevComposition):new gi(i.done.addMaps(t.mapping.maps),i.undone.addMaps(t.mapping.maps),Vf(i.prevRanges,t.mapping),i.prevTime,i.prevComposition)}function xO(i,e){if(!e)return!1;if(!i.docChanged)return!0;let t=!1;return i.mapping.maps[0].forEach((r,a)=>{for(let l=0;l<e.length;l+=2)r<=e[l+1]&&a>=e[l]&&(t=!0)}),t}function cb(i){let e=[];for(let t=i.length-1;t>=0&&e.length==0;t--)i[t].forEach((r,a,l,u)=>e.push(l,u));return e}function Vf(i,e){if(!i)return null;let t=[];for(let r=0;r<i.length;r+=2){let a=e.map(i[r],1),l=e.map(i[r+1],-1);a<=l&&t.push(a,l)}return t}function TO(i,e,t){let r=vl(e),a=sr.get(e).spec.config,l=(t?i.undone:i.done).popEvent(e,r);if(!l)return null;let u=l.selection.resolve(l.transform.doc),f=(t?i.done:i.undone).addTransform(l.transform,e.selection.getBookmark(),a,r),p=new gi(t?f:l.remaining,t?l.remaining:f,null,0,-1);return l.transform.setSelection(u).setMeta(sr,{redo:t,historyState:p})}let jf=!1,fb=null;function vl(i){let e=i.plugins;if(fb!=e){jf=!1,fb=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){jf=!0;break}}return jf}const sr=new wn("history"),EO=new wn("closeHistory");function kO(i={}){return i={depth:i.depth||100,newGroupDelay:i.newGroupDelay||500},new At({key:sr,state:{init(){return new gi(an.empty,an.empty,null,0,-1)},apply(e,t,r){return SO(t,r,e,i)}},config:i,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,a=r=="historyUndo"?b1:r=="historyRedo"?v1:null;return a?(t.preventDefault(),a(e.state,e.dispatch)):!1}}}})}function g1(i,e){return(t,r)=>{let a=sr.getState(t);if(!a||(i?a.undone:a.done).eventCount==0)return!1;if(r){let l=TO(a,t,i);l&&r(e?l.scrollIntoView():l)}return!0}}const b1=g1(!1,!0),v1=g1(!0,!0),MO=St.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:i,dispatch:e})=>b1(i,e),redo:()=>({state:i,dispatch:e})=>v1(i,e)}},addProseMirrorPlugins(){return[kO(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),CO=Nt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:i}){return["hr",wt(this.options.HTMLAttributes,i)]},addCommands(){return{setHorizontalRule:()=>({chain:i,state:e})=>{const{selection:t}=e,{$from:r,$to:a}=t,l=i();return r.parentOffset===0?l.insertContentAt({from:Math.max(r.pos-1,0),to:a.pos},{type:this.name}):YM(t)?l.insertContentAt(a.pos,{type:this.name}):l.insertContent({type:this.name}),l.command(({tr:u,dispatch:f})=>{var p;if(f){const{$to:h}=u.selection,y=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?u.setSelection(le.create(u.doc,h.pos+1)):h.nodeAfter.isBlock?u.setSelection(W.create(u.doc,h.pos)):u.setSelection(le.create(u.doc,h.pos));else{const g=(p=h.parent.type.contentMatch.defaultType)===null||p===void 0?void 0:p.create();g&&(u.insert(y,g),u.setSelection(le.create(u.doc,y+1)))}u.scrollIntoView()}return!0}).run()}}},addInputRules(){return[wC({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),OO=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,NO=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,AO=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,RO=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,DO=Oi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:i=>i.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:i=>i.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:i}){return["em",wt(this.options.HTMLAttributes,i),0]},addCommands(){return{setItalic:()=>({commands:i})=>i.setMark(this.name),toggleItalic:()=>({commands:i})=>i.toggleMark(this.name),unsetItalic:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[fo({find:OO,type:this.type}),fo({find:AO,type:this.type})]},addPasteRules(){return[po({find:NO,type:this.type}),po({find:RO,type:this.type})]}}),zO=Nt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:i}){return["li",wt(this.options.HTMLAttributes,i),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),BO="listItem",pb="textStyle",db=/^(\d+)\.\s$/,_O=Nt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:i=>i.hasAttribute("start")?parseInt(i.getAttribute("start")||"",10):1},type:{default:null,parseHTML:i=>i.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:i}){const{start:e,...t}=i;return e===1?["ol",wt(this.options.HTMLAttributes,t),0]:["ol",wt(this.options.HTMLAttributes,i),0]},addCommands(){return{toggleOrderedList:()=>({commands:i,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(BO,this.editor.getAttributes(pb)).run():i.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let i=La({find:db,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(i=La({find:db,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(pb)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[i]}}),LO=Nt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:i}){return["p",wt(this.options.HTMLAttributes,i),0]},addCommands(){return{setParagraph:()=>({commands:i})=>i.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),HO=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,UO=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,qO=Oi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:i=>i.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:i}){return["s",wt(this.options.HTMLAttributes,i),0]},addCommands(){return{setStrike:()=>({commands:i})=>i.setMark(this.name),toggleStrike:()=>({commands:i})=>i.toggleMark(this.name),unsetStrike:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[fo({find:HO,type:this.type})]},addPasteRules(){return[po({find:UO,type:this.type})]}}),VO=Nt.create({name:"text",group:"inline"}),jO=St.create({name:"starterKit",addExtensions(){const i=[];return this.options.bold!==!1&&i.push($C.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(IC.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(QC.configure(this.options.bulletList)),this.options.code!==!1&&i.push(WC.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(nO.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(iO.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(aO.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(hO.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(mO.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(yO.configure(this.options.heading)),this.options.history!==!1&&i.push(MO.configure(this.options.history)),this.options.horizontalRule!==!1&&i.push(CO.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(DO.configure(this.options.italic)),this.options.listItem!==!1&&i.push(zO.configure(this.options.listItem)),this.options.orderedList!==!1&&i.push(_O.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(LO.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(qO.configure(this.options.strike)),this.options.text!==!1&&i.push(VO.configure(this.options.text)),i}}),YO=`
<p><strong style="font-weight:normal;" id="docs-internal-guid-77cae666-7fff-d0db-2ecc-4de05cb0d268"><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">C C</span><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">22 Strand Road</span><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Kentucky 7212</span><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Scottland</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">{{employee_full_name}}</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">{{employee_address}}</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Dear {{employee_first_name}},</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">RE: CONTRACT OF EMPLOYMENT</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Its been great getting to know you through the interview process, and I am delighted to make you an offer of employment. You will be helping us build something great and I am sure will feel at home with us in no time.</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">This letter, which includes the Schedule to it, sets out the formal legal terms relating to your employment with us. These are the headline terms:</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Job title: {{employee_role}}</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Start date: {{employee_start_date}}</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Probationary period: {{employee_probation_period}}&nbsp;</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Notice period: {{employee_notice_period}}</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Basic salary: {{compensation_currency}} {{compensation_rate}} / {{compensation_salary_basis}}</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Its important to us to ensure that you get off to a flying start, so please get in touch with us at any time in case of any questions regarding your employment. Welcome to the team.&nbsp;</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Please sign this agreement to accept this offer and the terms of employment.</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Signed on behalf of C Sense 24 Ltd:</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Name: {{additional_signatory_full_name}}</span><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Title: {{additional_signatory_job_title}}</span><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Date: {{additional_signatory_timestamp}}</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">{{company_signature}}</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Signed by:</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Name: {{employee_full_name}}</span><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;"><br></span><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">Date: {{recipient_signature_timestamp}}</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">{{employee_signature}}</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">CONTRACT OF EMPLOYMENT</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">THIS CONTRACT OF EMPLOYMENT IS MADE BETWEEN</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">(1) &nbsp; &nbsp 7BN&nbsp; (we or us) and</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">(2) &nbsp; &nbsp; {{employee_full_name}} (you), residing at {{employee_address}}</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">This contract sets out the terms and conditions of your employment with us as, at the date of this contract. It contains the terms of your employment as required by Section 1 of the Employment Rights Act 1996 and supersedes all previous arrangements or agreements whether oral or in writing between you and us in relation to the matters dealt with in it.</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">&nbsp;</span><br></p><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">1. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RIGHT TO WORK IN THE UK</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">1.1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; You confirm to us that you are legally entitled to work in the UK, and that you will let us know immediately if you lose this entitlement at any time while working with us.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">2. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WORK OUTSIDE THE UNITED KINGDOM</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">2.1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; You will not be required to work outside the UK for any continuous period of more than 3 months during your employment with us.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">3. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; COMMENCEMENT AND CONTINUOUS EMPLOYMENT</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">3.1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Your employment with us will commence on {{employee_start_date}} (the Commencement Date).</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">3.2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; No employment with a previous employer counts as part of your period of continuous employment with us.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">4. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PROBATIONARY PERIOD</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">4.1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Your employment with us is subject to a probationary period of {{employee_probation_period}} months, during which time your employment may be terminated by either you or us on 1 weeks prior notice. During your probationary period, your performance will be regularly reviewed and if you complete the period satisfactorily you will be notified in writing of your appointment to our permanent staff. We reserve the right to extend your probationary period by up to 3 months and will notify you of this in writing.&nbsp;&nbsp;</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">5. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; JOB TITLE AND REPORTING</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">5.1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Your job title is {{employee_role}} and you will report to {{employee_reports_to}} or such other person as authorised by us and notified to you.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">6. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; JOB DESCRIPTION AND DUTIES</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">6.1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Your main tasks and responsibilities are set out in your job description, which will be provided to you on the commencement of employment. Your job title and job description do not indicate any limitations on your duties. We reserve the right to require you to change your job description or perform a different job or different duties consistent with your status, and any such change will not constitute a change to the terms and conditions of your employment.&nbsp;</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">6.2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Your duty is to perform your job to the best of your ability and to comply with the duties implied by law.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">7. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LOCATION</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">7.1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Your normal place of work shall be your home address of {{employee_address}}. You must notify us immediately of any change to this address.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">7.2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; You may be required to attend other premises or locations designated by us within the UK (or overseas), at the Employers suggestion or request, where it may be reasonably required for the purposes of the role.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">8. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SALARY</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">8.1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Your salary is {{compensation_rate}} /{{compensation_salary_basis}}. This is payable in monthly instalments, in arrears, on the last working day of each month, directly into your bank or building society account.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">8.2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; You may be required to work such additional hours as are necessary to complete your duties.&nbsp; There are no additional overtime payments payable for such hours worked.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">8.3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Your salary will be reviewed annually.&nbsp; We shall not be under any obligation to award you an increase in salary. There will be no review of salary after either you or we have given notice to terminate your employment.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">8.4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; We will be entitled to deduct from your salary, or any other payments due to you, any money which you may owe us at any time including any overpayment of wages or expenses.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">9. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HOURS OF WORK</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">9.1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Your formal working hours are at least {{employee_attendance_schedule}}, {{employee_employment_contract}}, with an unpaid lunch break of 30 minutes however, we operate flexibly, as long as all KPIs are being met.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">9.2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; You shall not be required to work in excessof the 48-hour limit on average weekly working time, provided by the Working Time Regulations 1998 (as amended), unless you have signed a separate opt-out, agreeing that this limit should not apply.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">10. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PENSION</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">You may be auto-enrolled into the Workplace Pension Scheme, supplied through NEST. This is subject to satisfying certain eligibility criteria. Full details of the Scheme are available from Rosie Clough. If you become eligible, you will be automatically  enrolled, however you may then choose to opt out.&nbsp;</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">11. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; EXPENSES</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">11.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; We will reimburse you all expenses properlyand reasonably incurred by you in the proper performance of your duties, subject to you providing us with such receipts, invoices or other evidence of actual payment as we may reasonably require.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">12. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HOLIDAYS</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">12.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Our holiday year runs from January 1st to December 31st.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">12.2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; You are entitled to 30 days annual leave per year, inclusive of 8 public holidays (or days in lieu where you are required to work a public holiday).&nbsp; The holiday entitlement will be calculated by accrual, on a pro-rata basis, per full month worked, from the agreed date of commencement of employment as stated in this Contract.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">12.3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Holidays should be agreed in advance with your manager. If you intend to take less than 2 days holiday, approval should be sought at least 1 week in advance. If you intend to take 2 days or more holiday, approval should be sought at least 4 weeks in advance. We reserve the right to require you to take your annual leave entitlement during any period of office shut down (for example over the Christmas period or during any notice period).</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">12.4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If your employment begins or ends during the course of the holiday year then holidays during that holiday year will be calculated pro rata.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">12.5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If you leave employment with us, you will be paid for any holiday entitlement which you have accrued but not taken during your final holiday year.&nbsp; If you have taken more holidays than your accrued holiday entitlement, we will be entitled to deduct the excess holiday pay from any payments due to you.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">12.6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Holidays not taken by the end of the holiday year in which they have accrued may not be carried forward to the next holiday year without our written permission.&nbsp; You will not be entitled to payment for any holidays not taken.&nbsp;</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">13. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NOTIFICATION OF SICKNESS AND OTHER ABSENCE</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">13.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If you cannot attend work because of sickness or injury, you must inform your manager by 09:30 on your first day of absence.&nbsp; We operate a self-certification system for absences not exceeding 7 days.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">13.2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Immediately on your return to work you must complete a self-certification form and return this to your line manager.&nbsp; For absences of periods longer than 7 working days, doctors certificate(s)/fit note(s) must be provided to your line manager to cover the entire period of absence.&nbsp; Failure to do so may result in sick pay not being paid and could provide grounds for disciplinary action.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">14. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SICKNESS REQUIREMENTS</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">14.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; We may, at any time while you are absent from work because of sickness or injury, request that you:</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">(a)&nbsp; &nbsp; undergo a medical examination (at our expense) with a medical practitioner nominated by us</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">If this is required, your explicit consent will be requested.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">15. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SICK PAY</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Once you have completed 3 months continuous service with us, subject to your compliance with this agreement, you will be entitled to receive the following payments by way of Company Sick Pay for periods of absence due to incapacity during any consecutive 12-month period: Company sick pay is paid at the discretion of the company and will be discussed at the relevant time.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">(a)&nbsp; &nbsp; your full salary (inclusive of any SSP due)for the first month of any such absence.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">15.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Your qualifying days for SSP purposes are Monday to Friday.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">15.2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If you have exhausted your entitlement to Company Sick Pay you will not qualify for Company Sick Pay again until you have returned to work for a continuous period of 1 month.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">16. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NOTICE OF TERMINATION</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">16.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; The period of notice required to terminate your employment during your probationary period is one week on either side.&nbsp; After satisfactory completion of this period:</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">(a)&nbsp; &nbsp; you are required to give us {{employee_notice_period}} months written notice of termination;</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">(b)&nbsp; &nbsp; we are required to give you {{employee_notice_period}} months written notice of termination during the first 4 years of employment and after that, one week for each complete year of service up to a maximum of 12 weeks.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">16.2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; We may at our discretion terminate your employment without notice and make a payment of basic salary in lieu of notice.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">16.3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; We reserve the right to terminate your employment at any time without notice or payment in lieu of notice if you have committed an act of gross misconduct or if you cease to be entitled to work in the United Kingdom.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">17. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GARDEN LEAVE</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">17.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If either we or you have served notice to terminate your employment, or if you purport to terminate your employment in breach of contract, we may by written notice place you on Garden Leave for the whole or part of the remainder of your notice period. For the purposes of this agreement Garden Leave shall mean any period during which the Company has exercised its rights under this clause 17:</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">17.2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; During any period of Garden Leave:</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">(a)&nbsp; &nbsp; We will be under no obligation to provide any work to you and may revoke any powers you hold on our behalf;</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">(b)&nbsp; &nbsp; We may require you to carry out alternative duties or to only perform such specific duties as are expressly assigned to you, at such location (including your home) as we may decide;</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">(c) &nbsp; &nbsp; You will continue to receive your basic salary and all contractual benefits in the usual way and subject to the terms of any benefit arrangement;</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">(d)&nbsp; &nbsp; You will remain an employee of the Company and bound by the terms of this agreement (including any implied duties of good faith and fidelity);</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">(e)&nbsp; &nbsp; You will ensure that your line manager knows where you will be and how you can be contacted during each working day (except during any periods taken as holiday in the usual way);</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">(f)&nbsp; &nbsp; &nbsp; We may exclude you from any of our premises; and</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">(g)&nbsp; &nbsp; We may require you not to contact or deal with (or attempt to contact or deal with) any officer, employee, consultant, client, customer, supplier, agent, distributor, shareholder, adviser or other business contact of the Company.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">17.3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Any accrued but unused holiday entitlement will be deemed to be taken during any period of Garden Leave.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">18. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GRIEVANCE PROCEDURE</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">18.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; The purpose of the grievance procedure is to ensure that any problem, concern or grievance you have about your work, working environment or working relationships is properly dealt with. Our current grievance procedure, which does not form part of your terms and conditions of employment, is available from our HR provider. If you wish to raise a grievance you may apply in writing to our HR provider in accordance with the procedure.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">19. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DISCIPLINARY PROCEDURE</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">19.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; The purpose of the disciplinary procedure is to ensure that the standards established by our rules are maintained and that any alleged failure to observe our rules is fairly dealt with. Our current disciplinary procedure, which does not form part of your terms and conditions of employment, is available from our HR provider. If you wish to appeal against a disciplinary decision you may apply in writing to our HR provider in accordance with the procedure.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">19.2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; We reserve the right to suspend you with pay for no longer than is necessary to investigate any allegation of misconduct against you or so long as is otherwise reasonable while any disciplinary procedure against you is outstanding.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">20. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CONFIDENTIALITY</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">20.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Confidential Information means all and any information (whether or not recorded in documentary form or stored on any magnetic or optical disk or memory) which relates to any of our affairs or those of our business contacts which are not in the public domain (except as a result of your breach of this agreement).</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">20.2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; You will not use or disclose to any person, firm or organisation, either during or at any time after your employment with us any Confidential Information except where such use or disclosure has been authorised by us, or is required by law or by your employment.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">20.3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; The restriction in clause 20.2 does not prevent you from making a protected disclosure within the meaning of section 43A of the Employment Rights Act 1996.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">20.4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Confidential information means all and any information (whether or not recorded in documentary form or on computer disk or tape) of ours, any Group Company or any of its or their customers, suppliers or agents which we or the relevant Group Company regards as confidential and which may include, but is not limited to technical, financial and business information or in respect of which it owes an obligation of confidentiality to a third party which is not part of your own stock in trade and which is not readily ascertainable to persons not connected with us either at all or without a significant expenditure of labour, skill or money.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">20.5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; This restriction extends after the termination of your employment for any reason without time limit but does not apply to information which is or comes into the public domain otherwise than through your unauthorised disclosure.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">21. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; INTELLECTUAL PROPERTY</span></h1><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">21.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; The definitions in this clause apply in this agreement.</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">(a)Intellectual Property Rights: patents, rights to Inventions, copyright and related rights, trademarks, trade names and domain names, rights in get-up, goodwill and the right to sue for passing off or unfair competition, rights in designs, rights in computer software, database rights, rights to preserve the confidentiality of information (including know-how and trade secrets) and any other intellectual property rights, in each case whether registered or unregistered and including all applications (or rights to apply) for and be granted, and renewals or extensions of, and rights to claim priority from, such rights and all similar or equivalent rights or forms of protection which may now or in the future subsist in any part of the world.</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">(b)Inventions: inventions, ideas and improvements, whether or not patentable, and whether or not recorded in any medium.</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">21.2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; You will give us full written details of all Inventions and of all works embodying Intellectual Property Rights made wholly or partially by you at any time during the course of your employment which relate to, or are reasonably capable of being used in, our business. You acknowledge that all Intellectual Property Rights subsisting (or which may in the future subsist) in all such Inventions and works shall automatically, on creation, vest in us absolutely. To the extent that they do not vest automatically, you agree to hold them on trust for us. You agree promptly to execute all documents and do all acts as may, in our opinion, be necessary to give effect to this clause 21.2.</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">21.3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; You hereby irrevocably waive all moral rights under the Copyright, Designs and Patents Act 1988 (and all similar rights in other jurisdictions) which you have or will have in any existing or future works referred to in clause 21.2.</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">21.4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; You hereby irrevocably appoint us to be your attorney in your name and on your behalf to execute documents, use your name and do all things necessary or desirable for us to obtain for itself or its nominee the full benefit of this clause.</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">21.5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; You acknowledge in favour of a third party that a certificate in writing signed by any Director or the Secretary of ours that any instrument or act falls within the authority conferred by this clause shall be conclusive evidence that such is the case.</span></p><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">22. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; COMPANY PROPERTY</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">22.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; All documents, manuals, hardware and software which we provide for your use, and any data or documents (including copies) produced, maintained or stored on our computer systems or other electronic equipment (including mobile phones), remain our property.&nbsp; Any of our property in your possession and any original or copy documents obtained by you in the course of your employment must be returned to your line manager at any time on request and in any event prior to the termination of your employment with us.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">23. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; COLLECTIVE AGREEMENTS</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">23.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; There are no collective agreements affecting your terms and conditions of employment.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">24. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DATA PROTECTION</span></h1><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">24.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; We will collect and process information relating to you in accordance with the privacy notice which is provided with this agreement.&nbsp; You are required to sign and date the privacy notice and return to the CTO.</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">24.2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; You must comply with the Company Data Protection Policy when handling personal data in the course of your employment, including personal data relating to any employee, worker, contractor, customer, client, supplier or agent of the Company.</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">24.3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; You must also comply with the Companys GDPR, IT &amp; Computer Use Policy, Social Media Policy, Data Retention &amp; Deletion Policy, and any other policy.</span></p><p dir="ltr" style="line-height:1.38;margin-top:12pt;margin-bottom:12pt;"><span style="font-size:11pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">24.4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Failure to comply with the Data Protection Policy or any of the Company Policies listed may be dealt with under our disciplinary policy and procedure and, in serious cases, may be treated as gross misconduct leading to summary dismissal.</span></p><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">25. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; CHANGES TO TERMS AND CONDITIONS</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">25.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; We reserve the right to make reasonable changes to any of your terms of employment. You will be notified in writing of any change as soon as possible and in any event within one month of the change.</span></h2><h1 dir="ltr" style="line-height:1.38;margin-top:24pt;margin-bottom:6pt;"><span style="font-size:23pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">26. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NOTICES</span></h1><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">26.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Any notice given under this Agreement shall be in writing and shall be delivered by hand or by Royal Mail recorded delivery posted in the United Kingdom. In the case of Royal Mail recorded delivery, delivery shall be deemed to take place on receipt by the sender of a notice that the addressee has gone away or refused to take delivery or any notice having similar effect.&nbsp; Notices shall be delivered or posted to the addresses of the parties given above or to any other United Kingdom address notified in substitution on or after the date of this Agreement.</span></h2><h2 dir="ltr" style="line-height:1.38;margin-top:18pt;margin-bottom:4pt;"><span style="font-size:17pt;font-family:'Times New Roman',serif;color:#000000;background-color:transparent;font-weight:700;font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre;white-space:pre-wrap;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br></h2><br></strong></p>
`,IO=`
<p style="" text-align:="" left;""="">{{employee_first_name}}&nbsp;{{employee_last_name}}</p><p style="" text-align:="" left;""="">{{employee_address}}</p><p><img src="https://www.tailorbrands.com/wp-content/uploads/2021/01/apple_logo_1988.jpg" alt="From Fruit to Fame: The Evolution of the Apple Logo ..."></p><p style="" text-align:="" left;""=""><br></p><p style="" text-align:="" left;""="">Dear {{employee_first_name}},</p><p style="" text-align:="" left;""=""><br><strong>RE: CONTRACT OF EMPLOYMENT</strong></p><p style="" text-align:="" left;""=""><br>Its been great getting to know you through the interview process, and I am delighted to make you an offer of employment. You will be helping us build something great and I am sure will feel at home with us in no time.</p><p style="" text-align:="" left;""=""><br>This letter, which includes the <strong>Schedule</strong> to it, sets out the formal legal terms relating to your employment with us. These are the headline terms:<br></p><p style="" text-align:="" left;="" margin-left:="" 80px;""="">Job title: {{employee_role}}</p><p style="" text-align:="" left;="" margin-left:="" 80px;""="">
    Start date:&nbsp;{{employee_start_date}}</p><p style="" text-align:="" left;="" margin-left:="" 80px;""="">
    Probationary period:&nbsp;{{employee_probation_period}}&nbsp;</p><p style="" text-align:="" left;="" margin-left:="" 80px;""="">Notice period:&nbsp;{{employee_notice_period}}</p><p style="" text-align:="" left;="" margin-left:="" 80px;""=""> Basic salary:&nbsp;{{compensation_rate}}</p><p style="" text-align:="" left;="" margin-left:="" 80px;""="">Salary basis: {{compensation_salary_basis}}</p><p style="" text-align:="" left;""=""><br></p><p>Its important to us to ensure that you get off to a flying start, so please get in touch with us at any time
    in case of any questions regarding your employment.

              Welcome to the team.&nbsp;</p><p>Signed by:&nbsp;</p><p><strong><u>Admin Name, Role</u></strong></p><p><strong><u><span class="smartfield__signature"> {{company_signature}} </span></u></strong></p><p><strong><u>{{employee_first_name}} {{employee_last_name}}</u></strong><br></p><p><span class="smartfield__signature"> {{employee_signature}} </span></p><p><em><span class="" smartfield__signature""="" style="" font-size:="" 24px;""=""><br></span></em></p><p><em><span class="" smartfield__signature""="" style="" font-size:="" 24px;""=""><br></span></em></p><p><em><span class="" smartfield__signature""="" style="" font-size:="" 24px;""=""><br></span></em></p><p><em><span class="" smartfield__signature""="" style="" font-size:="" 24px;""=""><br></span></em></p><p><em><span class="" smartfield__signature""="" style="" font-size:="" 24px;""=""><br></span></em><br></p><p style="" text-align:="" center;""=""><strong>SCHEDULE  EMPLOYMENT AGREEMENT</strong></p><p>between </p><p><strong><u>Company Name</u></strong></p><p><u><strong>Company Address</strong><br></u></p><p style="" text-align:="" left;""="">(<strong>we</strong> or <strong>us</strong> or {company name} or the <strong>Employer</strong>) </p><p style="" text-align:="" left;""="">and </p><p><strong>{{employee_first_name}} {{employee_last_name}}</strong></p><p>residing at&nbsp;{{employee_address}}</p><p>(<strong>you </strong>or the <strong>Employee</strong>) </p><p>(together the<strong> Parties</strong>)</p><p><strong>1. Terms and conditions of employment </strong></p><p>This Employment Agreement (""<strong>Agreement</strong>"") is an integral part to this letter and sets the terms and conditions of your employment with us. It constitutes your principal statement of employment particulars as required by employment law. </p><p><strong>2. Your employer and start date</strong></p><p>We are your Employer and the start date are set out above and shall be the start of your continuous employment with us. No employment with any previous employer or period during which you provided consulting services count as part of your period of continuous employment with us.&nbsp;</p><p><strong>3. Job title and duties</strong></p><p>3.1. &nbsp;Your job title is set out at the beginning of this letter. You will faithfully and diligently carry out
    all of the duties set out above, any other tasks and duties normally associated with this role and,
    such other duties which we may reasonably require of you from time to time, to the best of
    your ability. You must be prepared to be flexible in this regard. You will use your best
    endeavours to promote, protect, develop and extend our interests and our business.
    </p><p>


                  3.2. &nbsp;Subject to any agreement between the parties to the contrary, during your employment, you
    shall devote the whole of your time, attention and ability to our business.
    </p><p>


                  3.3. &nbsp;You shall comply with our rules, regulations and policies at all times. A copy of these will be
    made available to you and we may, amend, augment or revoke them at any time. We may do
    this by issuing new versions of those documents or by separate policies. None of our rules,
    policies or procedures give you any contractual rights. It is, however, a condition of your
    employment that you comply with the rules, policies and procedures which we establish. Failure to observe and comply with these can lead to disciplinary action being taken and may, in serious cases, lead to dismissal.</p><p><strong>4. Other employment</strong></p><p>4.1. You must devote the whole of your time, attention andability during your working hours to us. You may not, under any circumstances, undertake any other duties of any kind and whether or not remunerated, during your hours of work for us. </p><p>4.2. &nbsp;During your employment you will not be employed, engaged, interested or concerned in any office or outside business interests (whether paid or unpaid) without our written consent. For the avoidance of doubt, this includes any paid or unpaid consulting services for any company besides us. </p><p>4.3. &nbsp;You will disclose to us in writing any such offices or outside business interests you may currently have and in the event that we require you to ceasethe same, you will do so forthwith. For the avoidance of doubt consent will not be given in relation to any activities, offices or business interests which, in our view, are similar to or compete directly or indirectly with our business, or which could, in our view, give rise to a conflict of interest or interfere with the efficient performance of your duties. <br></p><p><strong>5. Place and hours of work </strong></p><p>5.1. &nbsp;The place of work shall be our offices or any other place within the United Kingdom which we may reasonably require you to work from for the proper performance and exercise of your duties, subject to any remote working policies or agreements with your line manager in place from time to time. <br></p><p>5.2. &nbsp;Your normal working hours are between { insert working hours}., {insert working days}}(inclusive), with a one-hour lunch break. Due to the nature of our business, flexibility of working hours is paramount. You will therefore be expected to work such additional hours as the needs of the business dictate, without additional pay unless otherwise agreed with us. Regulation 4(1) of the Working Time Regulations 1998 (the ""WTR"") provides that a worker's average working time, including overtime, should not exceed 48 hours for each seven-day period (to be averaged overa period of 17 weeks) unless the worker agrees otherwise. In accordance with Regulation 5 of the WTR you agree that Regulation 4(1) of the WTR will not apply to your employment with us. You may at any time give three months' written notice to withdraw your agreement to this. <br></p><p>5.3. &nbsp;Depending on the nature of yourresponsibilities, we may reasonably require you to travel within the UK as well as overseas for the proper fulfilment of your duties, and you agree to do so. Traveland accommodation arrangements as deemed appropriate by us shall be made in such circumstances according to our travel guidelines <br></p><p>5.4. &nbsp;If you are required to undertake an assignment of more than four consecutive weeks outside of the United Kingdom, we will discuss the assignment with you and we will only send you on that assignment with your consent. <br></p><p><strong>6. Remuneration and benefits </strong></p><p>6.1. &nbsp;<strong>Salary</strong>: your basic annual salaryon commencement is set out above. The amount set out above is the gross amount which we will pay you per year and is payable monthly in arrears, in equal instalments by direct bank transfer on or about the last day of each calendar month less any statutory and voluntary deductions, in our local currency. We may review your salary from time to time but we make no commitment to increase your salary on review. Any salary rise will be at our sole discretion and will not affect any other terms of your employment. Any increase in salary will not confer any contractual right to future increases. We will not review your salary after notice has been given by either party to terminate your employment. <br></p><p>6.2. &nbsp;Further details on these benefits are available to you from your line manager. We may replace, augment or withdraw such benefits, or amend the terms of such benefits, at any time on reasonable notice to you. <br></p><p><strong>7. Pensions <br></strong>We will complywith our employer pension duties under applicable legislation. As automatic pension enrolment obligations apply to us, you will be enrolled in our current pension scheme as long as you meet the statutory enrolment criteria. This will involve contributions from you and from us in line with applicable law and the rules of the pension scheme and you authorise us to deduct your contributions from your salary. Full particulars of the terms of the scheme are available on request from us. <br></p><p><strong>8. Training <br></strong>As we grow, we may offer training from time to time in-house, though at the moment we do not have any formal training programmesthat are in place. As and when opportunities for training arise, you may take part in certain of these courses. In the meantime, we may provide you with access to up to 2 online courses per year in topics relevant to your duties to us, subject to approval by your line manager. </p><p><strong>9. Deductions <br></strong>We may deduct from your pay or other payment due to you any money which you may owe to any Group Company. This includes any overpayment of remuneration, loans or other advances and any statutory deductions. <br></p><p><strong>10. Expenses <br></strong>Subject to such conditions as we may from time to time determine, in addition to the Salary, you will, after review by us, be reimbursed all reasonable expenses properly, wholly, exclusively and necessarily incurred by you performing your duties for us, upon production of receipts or other evidence for them and subject to your compliance with the requirements of our expenses policy at the time in force. <br></p><p><strong>11. Holidays <br></strong></p><p>11.1. &nbsp;In addition to the usual public holidays in England, you may take any number of days of paid annual leave. We encourage you to take all the time you need for your wellbeing and act in the best interest of {company name} in exercising this freedom. <br></p><p>11.2. &nbsp;Your line manager must approve all holiday requests in writing in advance. You must give four weeks notice of any holiday which is longer than five working days, and oneweeks notice of any holiday which is longer than two working days. <br></p><p>11.3. &nbsp;If either of the parties has served notice to terminate the employment, you are entitled to statutory annual leave and we may require you to take any accrued but unused statutory holiday entitlement during your notice period. We reserve the right to require you to take (or not to take) any outstanding holiday on particular dates, including during your notice period. <br></p><p><strong>12. Sick pay </strong></p><p>12.1. &nbsp;If you are ill or unable to work for any reason, you must inform us on the first and each subsequent day of such absence as well as inform us of the estimated duration of such incapacity. In doing so, reference is to be made to urgent work. <br></p><p>12.2. &nbsp;If you are absent from work for less than three days, you must produce a self-certificate as evidence of your sickness, injury or incapacity. <br></p><p>12.3. &nbsp;If you are absent from work for more than three days, you must provide a medical certificate. We may also require a medical certificate from your doctor and/or any doctor(s) nominated by us, confirming that you are fit to return to work after any period of absence. We have the right to postpone your return to work (and the continuance or reinstatement of your normal pay, if appropriate) until our nominated doctor(s) has confirmed you are fit to return. <br></p><p>12.4. &nbsp;We reserve the right at any time (whether or not he is incapacitated) to require you to undergo medical examinations at our expense with our nominated doctor. You authorize such doctor to disclose or discuss with us the results of such examinations. <br></p><p>12.5. &nbsp;During any period of illness, you may be eligible for Statutory Sick Pay (""<strong>SSP</strong>"") in accordance with the SSP scheme, as amended from time to time. Any other Employer sick pay for any period when you are unable to work through injury, sickness or incapacity will be at our discretion. Any Employer sick pay paid to you will be inclusive of any SSP payable. The agreed SSPs qualifying days are Monday to Friday. <br></p><p>12.6. &nbsp;Failure to comply with any of these procedures or any policy relating to sickness absence that may be in place from time to time may result in disciplinary action and the withholding of sick pay. <br></p><p>12.7. &nbsp;In the event of you sustaining an injury caused by a third party from whom you would be entitled torecover damages in respect of the loss of Salary, we reserve the right to claim a refund of any Employer sick pay made to you under this clause during absence due to such injury and any payments made in such event shall be regarded as a loan repayable by you upon the receipt of such damages. </p><p><strong>13. Other paid leave </strong></p><p>13.1. &nbsp;You may be eligible to take the other types of paid leave, subject to any statutory eligibility requirements or conditions and our rules applicable to each type of leave in force from time to time, including statutory maternity leave, statutory paternity leave, statutory adoption leave, shared parental leave and parental bereavement leave. <br></p><p>13.2. &nbsp;Further details of such leave and your pay during such leave are available from your line manager. We may replace, amend or withdraw our policy on any of the above types of leave and pay at any time. <br></p><p><strong>14. </strong><strong>Changes to your terms of employment</strong> <br>We reserve the right to make reasonable changes to any of your terms of employment. You will be notified in writing of any change as soon as possible and in any event within one month of the change. <br></p><p><strong>15. Health and safety <br></strong></p><p>15.1. &nbsp;You shall comply fully with health and safety legislation and with the requirements of any Health and Safety Executive or other relevant body, in connection with the physical state and condition of ourpremises and the equipment in it, and our own conduct of the business of the Group Companies. <br></p><p>15.2. &nbsp;You shall report immediately to us any matter which gives or may give rise to a health and safety risk to any person on any Group Companys premises or to a breach of any statutory rule or regulation. Failure to pay proper attention to health and safety matters is a serious disciplinary offence. <br></p><p><strong>16. Confidential information </strong></p><p>16.1. &nbsp;Without prejudice to your duties at common law, you shall not (other than in the proper course of your duties or as required by law or pursuant to an order of a court ofcompetent jurisdiction or with the consent of a director), either during the course of your employment or at any time thereafter, use any Confidential Information, make or use any Copies or disclose any Confidential Information to any person. This restriction does not apply to any Confidential Information which is or comes intothe public domain otherwise than through your unauthorised disclosure. <br></p><p>16.2. &nbsp;You are responsible for protecting the confidentiality of any Confidential Information. You shall use your best endeavours to prevent the use or communication of any Confidential Information by any person (other than in the proper course of your duties or as required by law or pursuant to an order of a court of competent jurisdiction or with the consent of a director) and inform us without delay on becoming aware, or suspecting, that any such person knows or has used any Confidential Information. <br></p><p>16.3. &nbsp;Nothing in this letter shall operate to prevent you making a protected disclosure within the meaning of Section 43A of the Employment Rights Act 1996. <br></p><p><strong>17. Data protection </strong></p><p>17.1. &nbsp;You shall comply with the privacy standard when handling personal data in the course of employment including personal data relating to any employee, worker, contractor, customer, client, supplier or agent of ours. You will also comply with our policies in place from time to time relating to the use of our IT and communications equipment, social media, bring your own device to work, or any other relevant policy. <br></p><p>17.2. &nbsp;You consents to us and/or any Group Company and its or their duly authorised agents and employees using surveillance equipment and holding and processing both electronically and manually the data (including personal sensitive data and information contained in email, email attachments and other forms of electronic communication) it collects, stores or processes relating to you, for the purposes of the administration and management of our employees and our business and for compliance with applicable procedures, laws and regulations. It may also be necessary for us and/or any Group Company to forward such data to us or our other offices or to another Group Company for storage and processing, in countries outside the European Economic Area where the standard of legal protection for such data may be lower than in Europe. You consents to us and any Group Company doing so as may be necessary at the time. </p><p>17.3. &nbsp;To ensure regulatory compliance and for the protection of our workers, clients/customers and business,we reserve the right to monitor, intercept, review and access your telephone, telephone log, internet usage, voicemail, email and other communication facilities provided by us that you may use during your employment. We may use this right of access reasonably, but it is important that you are aware that communications and activities on our equipment or premises and any Group Company cannot be presumed to be private. <br></p><p>17.4. &nbsp;Failure to comply with the provisions of this paragraph 17 may be dealt with under our disciplinary procedure and, in serious cases, may be treated as gross misconduct leading to summary dismissal. <br></p><p><strong>18. Termination </strong></p><p>18.1. &nbsp;<strong>Notice</strong>: Subject to the terms of this letter, either party may terminate your employment giving the other not less than the notice period set out above. Any notice of termination must be given in writing. <br></p><p>18.2. &nbsp;<strong>Probation</strong>: Your first period of employment is a probationary period. The length of this period is set out above. Your employment may be terminated during this period on two weeks written notice by us to you or vice versa, or (in our case only) by payment in lieu of notice. We may, at our discretion, extend your probationary period by up to a further three months. During your probationary period, your performance and suitability for continued employment with us will be monitored. At the end of the probationary period, you will be informed in writing if you have successfully completed your probationary period. If you do not receive any written confirmation, you should assume that your probationary period continues. <br></p><p>18.3. &nbsp;We reserve the right at any time, in our absolute discretion, to terminate your employment by paying you a sum equal to your basic salary for the relevant period of notice. The payment shall consist solely of your basic salary for the period of notice and shall exclude any other entitlements or benefits referable to your employment and shall be subject to deductions for income tax, national insurance and pension contributions (and any other deductions we may be required to make) as appropriate. You agree to accept any such payment in lieu of notice as being in full and final settlement of any claim you may have arising out of this letter. <br></p><p>18.4. &nbsp;Nothing in this letter prevents us from terminating your employment summarily (i.e. without notice) or otherwise in the event that you: </p><ul><li>(A) &nbsp;are guilty of any Gross Misconduct affecting the business of any Group Company; <br></li><li>(B) &nbsp;commit any serious or repeated breach or non-observance of any of the provisions of this letter, or any of our rules, regulations and policies in place from timeto time; refuse or neglect to comply with our reasonable and lawful instructions or requirements; <br></li><li>(C) &nbsp;persistently fail to meet standards of yourperformance set for you by us; <br></li><li>(D) &nbsp;are, in our reasonable opinion, negligent and incompetent in the performance of your duties; <br></li><li>(E) &nbsp;are declared bankrupt or make any arrangement with or for the benefit of your creditors or have a county court administration order made against you under the County Court Act 1984; <br></li><li>(F) &nbsp;are convicted of any criminal offence (other than an offence under any road traffic legislation in the United Kingdom or elsewhere for which a fine or non-custodial penalty is imposed); <br></li><li>(G) &nbsp;become of unsound mind (which includes lacking capacity under any law relating to mental health); <br></li><li>(H) &nbsp;cease to be eligible to work in the United Kingdom; <br></li><li>(I) &nbsp;if applicable, you lose any professional certification, licence or accreditation (or similar) which is required for you to carry out your duties; or <br></li><li>(J) &nbsp;you commit any other act which in ourreasonable opinion brings or is likely to bring any Group Company into disrepute or is materially adverse to our or their interests. <br></li><li>(K) &nbsp;is unable to perform your duties under this letter for an aggregate period of 25 weeks in any 52-week period. <br></li></ul><p>18.5. <strong>Garden leave</strong>: Followingservice of notice to terminate this letter or if you purport to terminate this letter for breach of contract, we may give written notice to place you on garden leave for some or all of your notice period. </p><p>During any period of garden leave: </p><ul><li><strong>(A) &nbsp;</strong>we are under no obligation to give you any work and may revoke any powers which you hold on behalf of any Group Company; <br></li><li>(B) &nbsp;you shall continue to receive your basic salary and all contractual benefits in the usual way, subject to the terms of such benefits; <br></li><li><strong>(C) &nbsp;</strong>we may require you to carry out alternative duties or only perform such specific duties as we expressly assign to you. We may require that you carry such duties from home or from our premises, as we decide; <br></li><li><strong>(D) &nbsp;</strong>you shall remain an employee and, accordingly, you shall remain bound by the terms of this letter (and any implied duties such as those offidelity and good faith); <br></li><li><strong>(E) &nbsp;</strong>you shall keep your line manager informed of your whereabouts and how you can be contacted during the working day (save during holidays, which can be taken in the normal way, subject to the terms of this letter and any applicable policies in place from time to time); <br></li><li><strong>(F) &nbsp;</strong>we may exclude you from our premises; and <br></li><li><strong>(G) &nbsp;</strong>we may require that you do not contact(or attempt to deal with) any director, officer, employee, consultant, client, customer, supplier, agent, distributor, shareholder, adviser, potential acquisition target or other business contact of any Group Company. <br></li></ul><p>Where you are placed on garden leave, you may continue to use any property provided to you as a contractual benefit until your employment terminates. </p><p><strong>19. Disciplinary and grievance procedures </strong></p><p>19.1. &nbsp;Your attention is drawn to the disciplinary rules and procedure, and grievance procedure applicable to your employment, which are available from your line manager. These rules and procedures do not form part of this letter. <br></p><p>19.2. &nbsp;If you wish to appeal against a disciplinary decision you may apply in writing to a director in accordance with our disciplinary procedure. <br></p><p>19.3. &nbsp;We reserve the right to suspend you with pay for no longer than is necessary to investigate any allegation ofmisconduct against you or so long as is otherwise reasonable while any disciplinary procedure against you is outstanding. <br></p><p>19.4. &nbsp;If you wish to raise a grievance you may apply in writing to a director in accordance with our grievance procedure. <br></p><p><strong>20. Our property </strong></p><p>20.1. On the termination of your employment or at any time if requested by us, you must immediately return to us all keys, security passes, passwords, papers, drawings, designs, documents, records, computer disks, computer hardware, computer software, mobile telephones correspondence, records, specifications, models, notes, reports and other documents and any copies thereof and any other property belonging to us or any Group Company or relating to the business or affairs of our or their clients, customers,directors, employees or shareholders whether in hard copy or in electronic or machine readable form (including, but not limited to keys, credit cards and passes) which are in your possession or under your control, in accordance with our instructions. </p><p>20.2. All programs and information about our or any Group Company's affairs or the affairs of our or their clients, customers, directors, employees or shareholders held on a computer owned by you shall be deleted on the termination of your employment or on our request, and you will make the computer available for inspection to us at our request to ensure that this has been effectively carried out. If you fail to comply with the requirements of this clause, we elect to: </p><ul><li>(A) &nbsp;deduct from your remuneration and any sums payable to you by us or anyGroup Company the cost(s) to us or such Group Company of replacing any property of you or any Group Company which has not been returned by you; <br>
and/or <br></li><li>(B) &nbsp;withhold any outstanding payments due to be made to you until the requirements in this clause are met. You will, if so required by us, confirm in written that you have complied with your obligations under this clause. <br></li></ul><p><strong>21. Restrictions </strong></p><p>21.1. In order to safeguard our legitimate business interests and those of each other Group Company and particularly our goodwill and that of each other Group Company in connection with our and their respective customers, suppliers and employees you undertake with us (for ourselves and as trustee for each Group Company) that, and so that each undertaking below shall constitute an entirely separate, severable and independent obligation you will not (except with our prior written) directly or indirectly: </p><ul><li>(A) &nbsp;during your employment or for a period of three months after the Termination Date entice or solicit or endeavour to entice or solicit away from Group Company any RelevantEmployee; <br></li><li>(B) &nbsp;during your employment or for a period of three months after Termination Date employ or otherwise engage any Relevant Employee; <br></li><li>(C) &nbsp;during your employment or for a period of three months after the Termination Date in competition with any Group Company endeavour to supply or solicit the custom of any Relevant Customer in respect of Restricted Services; <br></li><li>(D) &nbsp;during your employment or for a period of three months after the Termination Date in competition with any Group Company supply Restricted Services to any Relevant Customer; <br></li><li>(E) &nbsp;during your employment or for a period of three months after the Termination Date carry on or be concerned in any Relevant Business within the Relevant Area in competition with the business any GroupCompany; <br></li></ul><p>21.2. For the purposes of this paragraph 21, you are concerned in a business if either: </p><p>(A) &nbsp;you carry it on as principal or agent; or <br>(B) &nbsp;you are a partner, director, shadow director, employee, second, consultant, investor, <br>shareholder or agent in, of or to any person who carries on that business. <br></p><p>21.3. &nbsp;However, you may deal in securities listed on any recognised investment exchange (as such term is defined in Section 285 of the Financial Services and Markets Act 2000) provided that such securities amount to less than three per cent. of the issued securities of that class and you control less than three per cent. of the voting rights (if any) attaching to that class. <br></p><p>21.4. &nbsp;At any time after your employment with us has terminated, you may not:</p><ul><li>(A) &nbsp;represent yourself as being connected with us or any Group Company; <br></li><li>(B) &nbsp;represent that you are interested in our business or are employed by any Group Company; or <br></li></ul><p>21.5. &nbsp;You shall not at any time make, directly or indirectly, any untrue, misleading or derogatory oral or written comment concerning our business affairs, officers or employees or those of any Group Company. </p><p>21.6. &nbsp;You agree to enter into the restrictions in this paragraph 21 in consideration for us agreeing to employ you under this letter. <br></p><p>21.7. &nbsp;While the restrictions in this paragraph 21 are considered by you and us to be reasonable in all the circumstances, each of you and we acknowledge and agree that such restrictions may fail for reasons unforeseen and, accordingly, each of you and we agree that if any of the restrictions shall be adjudged to be void as going beyond what is reasonable in all the circumstances for the protection of our interests but that they would be valid if part of the wording thereof were deleted and/or if the periods (if any) specified therein were reduced and/or the areas dealt with thereby reduced in scope, the said restrictions shall apply with such modifications as may be necessary to make them valid and effective. <br></p><p><strong>22. Intellectual property </strong></p><p>22.1. &nbsp;You shall give us full written details of all Inventions and of all Material embodying Intellectual Property Rights made wholly or partially by yourself at any time during the course of your employment. You acknowledge that all rights including without limitation all Intellectual Property Rights subsisting (or which may in the future subsist) in all such Inventions and Material shall automatically, on creation, vest in us absolutely. To the extent that they do not vest automatically, you hereby irrevocably and unconditionally assign to us free of all third party rights, claims and encumbrances and, without prejudice to the foregoing, with full title guarantee and where the assignment is of copyright by way of assignment of present and future copyright, all of your right(s), title(s) and interest(s) of whatsoever nature (whether now or hereafter known or created and whether vested or contingent) in and to the Materials and all Inventions (including without limitation all Intellectual Property Rights) for us to hold the same absolutely, throughout the universe, for the full period of such rights wherever subsisting or acquired and all renewals, reversions, revivals and extensions of such rights and thereafter (insofar as is or may become possible) in perpetuity. <br></p><p>22.2. &nbsp;You hereby irrevocably and unconditionally waive all moral rights under the Copyright, Designsand Patents Act 1988 (and all similar rights in other jurisdictions) which you have or will have in any existing or future works referred to in paragraph 22.1. <br></p><p>22.3. &nbsp;You irrevocably appoint us to be your attorney in your name and on your behalf to execute documents, use your name and do all things which are necessary or desirable for us to obtain for ourselves or our nominee the full benefit of this paragraph 22. A certificate in writing, signed by any director or the secretary of ours, that any instrument or act falls within the authority conferred in this letter, shall be conclusive evidence that such is the case so far as any thirdparty is concerned. <br></p><p>22.4. &nbsp;The provisions of this paragraph 22 will not be affected by the termination of your employment for whatsoever reason and will continue after it ends. <br></p><p><strong>23. Warranties <br></strong>You warrant to us that:</p><ul><li>(A) &nbsp;by signing this letter or performing any of your obligations under it, you will not be in breach of any court order or any express or implied terms of any contract or other obligation binding on yourself, including but not limited to any confidentiality, non-competition or other agreements that restrict or may restrict your employment activities that may affect your ability to devote full time and attention to your duties to us; <br></li><li>(B) &nbsp;all Material and Inventions you create will be original to yourself and will not infringe the rights (including the Intellectual Property Rights) of any third party; <br></li><li>(C) &nbsp;you will comply with all applicable laws, regulations, codes and sanctions relating to anti-bribery and antic-corruption including but not limited to the Bribery Act 2010. <br></li></ul><p><strong>24. Miscellaneous <br></strong></p><p><br></p><p>24.1. &nbsp;Any provision of this letter may be varied by agreement of the parties in writing. <br>24.2. &nbsp;There are no collective agreements which affect the terms and conditions of your employment. <br>24.3. &nbsp;This letter may be executed in any number of counterparts, each of which shall be deemedan original, but all of which together shall constitute one and the same instrument. <br>24.4. &nbsp;This letter constitutes the whole agreement between the partiesand replaces all previous written or oral agreements between you and us and any Group Company. <br>24.5. &nbsp;No one other than you, us and any Group Company shallhave the right to enforce any of the terms of this letter. <br>24.6. &nbsp;You agree to abide by the terms of all Employers policies, but these do not form part ofthis letter. To the extent there is any conflict between the terms of this letter and any of the Employers policies the terms of this letter shall prevail. <br>24.7. &nbsp;This letter shall be governed by and construed in accordance with the laws of England and Wales and the parties submit to the exclusive jurisdiction of the English Courts. <br></p><p><strong>25. Definitions and interpretation </strong></p><p>25.1. In this letter, the following words and expressions have the following meanings: </p><p><strong>Confidential Information</strong> means: </p><ul><li>(A) &nbsp;financial information relating to us and any Group Company including (but notlimited to) management accounts, sales forecasts, dividend forecasts, profit and loss accounts and balance sheets, order schedules, draft accounts, results and other information regarding the performance or future performance of us or any Group Company; <br></li><li>(B) &nbsp;client lists and contact lists, details of the termsof business with, the fees and commissions charged to or by and the requirements of clients, prospective clients, buyers, suppliers of ours or any Group Company; <br></li><li>(C) &nbsp;any information relating to expansion plans, business strategy, marketing plans, and presentations, tenders, projects, joint ventures or acquisitions and developments contemplated, offered or undertaken by us or any Group Company; <br></li><li>(D) &nbsp;details of the employees, officers and workers of, and consultants of ours or any Group Company and of the remuneration and other benefits paid to them; <br></li><li>(E) &nbsp;copies or details of and information relating to know-how, research activities, Inventions, creative briefs, ideas, computer programs (whether in source code or object code), secret processes, designs and formulae or other intellectual property undertaken, commissioned or produced by or on behalf of us or any Group Company; <br></li><li>(F) &nbsp;confidential reports or research commissioned by or provided to us or any Group Company, and any trade secrets and confidential transactions of us or any Group Company; <br></li><li>(G) &nbsp;key metric information such as details of website page hits, visitors, visits, orders per day, total order volumes, average order size, volumes of goods shipped orheld in stock, customer acquisition costs, repeat rates and word of mouth rates; <br></li><li>(H) &nbsp;details of any marketing, development, pre-selling or other exploitation of any intellectual property or other rights of our or any Group Company, any proposed options or agreements to purchase, license or otherwise exploit any intellectual property of ours or any Group Company, any intellectual property which is under consideration for development by us or any Group Company, any advertising, marketing or promotional campaign which we or any Group Company are to conduct; and <br></li><li>(I) &nbsp;any information which you ought reasonably to know is confidential and any information which has been given to us or any Group Company in confidence by agents, buyers, consultants, clients, customers, suppliers or other persons. <br></li></ul><p><strong>Copies</strong> means copies or records of any Confidential Information in whatever form; <strong>Gross Misconduct</strong> includes, but is not limited to, the following: </p><ul><li>(A) &nbsp;dishonesty; <br></li><li>(B) &nbsp;violent, abusive or intimidating conduct; <br></li><li>(C) &nbsp;harassment, bullying or discrimination of any kind; <br></li><li>(D) &nbsp;conduct materially adverse to our interests or the interests of any Group Company; <br></li><li>(E) &nbsp;falsification of records; <br></li><li>(F) &nbsp;wilful neglect of duty; <br></li><li>(G) &nbsp;unauthorised use or disclosure of Confidential Information; <br></li><li>(H) &nbsp;attending work under the influence of alcohol or non-medically prescribed drugs; <br></li><li>(I) &nbsp;serious and/or persistent insubordination; <br></li><li>(J) &nbsp;any serious breach of a material term of this letter; <br></li><li>(K) &nbsp;bankruptcy order made against you or you enter into a voluntary arrangement within the meaning of Section 253 Insolvency Act 1986; <br></li><li>(L) &nbsp;convicted of any criminal offence (other than a minor motoring offence that does not prevent you from carrying out your duties); <br></li><li>(M) &nbsp;unauthorised use of software on our computer systems; <br></li><li>(N) &nbsp;deliberate damage to our property; <br></li><li>(O) &nbsp;unauthorised access to and/or use of computer programs and/or the Internet and/or breach of the our communications policy; <br></li><li>(P) &nbsp;breach of Health and Safety rules which endangers the health and safety of others; <br></li><li>(Q) &nbsp;notwithstandingthe provision or expectation of permanent health insurance benefits becomes of unsound mind or a patient for the purposes of any statute relating to mental health; <br></li></ul><p><strong>Group Company</strong> means any of the following persons at any time: (1) us; or (2) any undertaking from time to time which is either our parent undertaking or our subsidiary undertaking; or (3) any subsidiary undertaking of any such parent undertaking, in each case as such expressions are defined insections 1159, 1161 and 1162 of the Companies Act 2006 and <strong>Group Companies</strong> means more than one such undertaking; </p><p><strong>Intellectual Property Rights</strong> means patents, rights to Inventions, copyright and related rights, trademarks, trade names and domain names, rights in get-up, rights in goodwill or to sue for passing off, unfair competition rights, rights in designs, rights in computer software, database rights, topography rights, rights in confidential information (including know-how and trade secrets) and any other intellectual property rights, in each case whether registered or unregistered and including all applications (or rights to apply) for, and renewals or extensions of, such rights and all similar or equivalent rights or forms of protection which subsist or will subsist now or in the future in any part of the world; </p><p><strong>Invention</strong> means any invention, idea, discovery, development, improvement or innovation, whether or not patentable or capable of registration, and whether or not recorded in any medium; </p><p><strong>Material(s)</strong> means all information, methods,techniques, processes, reports, drawings, plans, research, know-how, systems, software, data, confidential information, creative works, business plans, concepts andother material (including but not limited to hard copy and electronic form) produced, developed or created by you (either alone or with others) relating to our business or pertaining to, resulting from or suggested by the work you do for us during the term of your employment; </p><p><strong>Party</strong> means a party to this letter; </p><p><strong>Relevant Area</strong> means the United Kingdom and any other country, where on the Termination Date, any Group Company conducted the Relevant Business and in which country you were materially concerned or responsible during the six months prior to the Termination Date; </p><p><strong>Relevant Customer</strong> means a person who during the period of six months immediately preceding the termination of your employment conducted a business relationship (including the letter, the following rules of interpretation apply:<br></p><p>any reference to a <strong>person</strong> includes an individual, firm, body corporate (wherever incorporated), government, state or agency of a state or any joint venture, association, partnership, limited partnership, limited liability partnership or limitedliability limited partnership (in each case whether or not having separate legal personality); </p><p>any reference to <strong>this letter</strong> means this letter, together with any schedules and appendices to it; </p><p>any reference to the <strong>Schedule</strong> means the schedule to this letter, which constitutes an integral part of this letter and any reference to a <strong>paragraph</strong> is to a paragraph of the Schedule; </p><p>except where expressly provided to the contrary, references to statutory provisions shall be construed as references to those provisions as respectively amended, consolidated, extended or re-enacted from time to time and shall include the corresponding provisions of any earlier legislation (whether repealed or not) and any orders, regulations, instruments or other subordinate legislation made from time to time under the statute concerned; </p><p><strong></strong> is a reference to pounds sterling, the lawful currency for the time being in the United Kingdom; </p><p>headings are for convenience only and do not affect the interpretation of this letter; </p><p>the phrase <strong>includes</strong> or <strong>including</strong> or any similar phrase shall be construed as meaning includes without limitation or including without limitation; </p><p>general words shall not be given a restrictive meaning by reason of their being preceded or followed by words indicating a particular class or examples of acts, matters or things; </p><p>if a period of time is specified and dates from a given day or the day of an act or event, such period shall be calculated exclusive of that day; and </p><p>references to <strong>writing</strong> or <strong>written</strong> include any modes of reproducing words in a legible and non-transitory form but, unless provided expressly otherwise, do not include words stored in or displayed on any electronic device. </p><p>provision of services and the negotiation for the same) with any Group Company which had an aggregate value of 10,000 or more per annum and with whom you had significant contact as an employee of any Group Company; </p><p><strong>Relevant Business</strong> means any business or part of the business, regardless of where or how it is carried on and which involves the supply of Restricted Services; </p><p><strong>Relevant Employee</strong> means any person employed by or who renders or rendered services to any Group Company in a Relevant Business during the period of six months before the Termination Date with whom you had dealings during that period and who: (1) has responsibility or influence over Relevant Customers, suppliers, agents, distributors, shareholders, directors or officers; or (2) was engaged in the design, development, sales or marketing of any services provided by any Group Company; </p><p><strong>Restricted Services</strong> means any Services with the provision and/or supply of which you were materially concerned, on behalf of any Group Company during the period of six months immediately prior to the Termination Date; </p><p><strong>SSP</strong> has the meaning given to the term in paragraph 12; and<br><strong>Termination Date</strong> means the date of termination of your employment, howsoever caused. </p>
`,GO=({editor:i})=>i?ce.jsxs("div",{className:"tiptap-menu-bar",children:[ce.jsx("button",{onClick:()=>i.chain().focus().toggleBold().run(),disabled:!i.can().chain().focus().toggleBold().run(),className:i.isActive("bold")?"is-active":"",children:"Bold"}),ce.jsx("button",{onClick:()=>i.chain().focus().toggleItalic().run(),disabled:!i.can().chain().focus().toggleItalic().run(),className:i.isActive("italic")?"is-active":"",children:"Italic"}),ce.jsx("button",{onClick:()=>i.chain().focus().toggleStrike().run(),disabled:!i.can().chain().focus().toggleStrike().run(),className:i.isActive("strike")?"is-active":"",children:"Strike"}),ce.jsx("button",{onClick:()=>i.chain().focus().setParagraph().run(),className:i.isActive("paragraph")?"is-active":"",children:"Paragraph"}),ce.jsx("button",{onClick:()=>i.chain().focus().toggleHeading({level:1}).run(),className:i.isActive("heading",{level:1})?"is-active":"",children:"H1"}),ce.jsx("button",{onClick:()=>i.chain().focus().toggleHeading({level:2}).run(),className:i.isActive("heading",{level:2})?"is-active":"",children:"H2"})]}):null,KO=()=>{const i=UC({extensions:[jO],content:"<p>Hello World!  Select a template to load.</p>",editable:!0}),e=()=>{i&&i.commands.setContent(YO)},t=()=>{i&&i.commands.setContent(IO)};return ce.jsxs("div",{className:"tiptap-editor-container",children:[ce.jsx(GO,{editor:i}),ce.jsx(OC,{editor:i}),ce.jsxs("div",{className:"tiptap-load-buttons-container",children:[ce.jsx("button",{onClick:e,className:"tiptap-load-button",children:"Load Offer Letter"}),ce.jsx("button",{onClick:t,className:"tiptap-load-button",children:"Load Employment Agreement"})]})]})};function PO(){return ce.jsxs("div",{className:"experiments-container",children:[ce.jsx("h1",{children:"My Experiments"}),ce.jsx("p",{className:"page-description",children:"This section showcases various coding experiments and proof-of-concepts."}),ce.jsx("div",{className:"experiments-grid",children:ce.jsxs("div",{className:"experiment-tile",children:[ce.jsx("h2",{children:"template pdf test"}),ce.jsx("p",{children:"This experiment focuses on using a Tiptap-based rich text editor to compose a document from HTML templates. The goal is to then convert the editor's HTML content into a PDF document, exploring different methods for client-side and potentially server-side PDF generation."}),ce.jsx(KO,{})]})})]})}function XO(){return ce.jsxs(ce.Fragment,{children:[ce.jsx("nav",{className:"main-nav",children:ce.jsxs("ul",{children:[ce.jsx("li",{children:ce.jsx(Sl,{to:"/",children:"About Me"})}),ce.jsx("li",{children:ce.jsx(Sl,{to:"/experiments",children:"Experiments"})})]})}),ce.jsx("div",{className:"content-container",children:ce.jsxs(IS,{children:[ce.jsx(If,{path:"/",element:ce.jsx(kx,{})}),ce.jsx(If,{path:"/experiments",element:ce.jsx(PO,{})})]})})]})}Fw.createRoot(document.getElementById("root")).render(ce.jsx(dt.StrictMode,{children:ce.jsx(dx,{children:ce.jsx(XO,{})})}));
